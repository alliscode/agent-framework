function WE(e,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(a,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lh={exports:{}},Yi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function KE(){if(pv)return Yi;pv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Yi.Fragment=n,Yi.jsx=r,Yi.jsxs=r,Yi}var gv;function QE(){return gv||(gv=1,lh.exports=KE()),lh.exports}var o=QE(),ch={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function JE(){if(xv)return Xe;xv=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function S(C,H,Y){this.props=C,this.context=H,this.refs=N,this.updater=Y||b}S.prototype.isReactComponent={},S.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=S.prototype;function A(C,H,Y){this.props=C,this.context=H,this.refs=N,this.updater=Y||b}var E=A.prototype=new _;E.constructor=A,j(E,S.prototype),E.isPureReactComponent=!0;var M=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function O(C,H,Y,V,J,ce){return Y=ce.ref,{$$typeof:e,type:C,key:H,ref:Y!==void 0?Y:null,props:ce}}function P(C,H){return O(C.type,H,void 0,void 0,void 0,C.props)}function q(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function Z(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return H[Y]})}var Q=/\/+/g;function G(C,H){return typeof C=="object"&&C!==null&&C.key!=null?Z(""+C.key):H.toString(36)}function ne(){}function U(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ne,ne):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function B(C,H,Y,V,J){var ce=typeof C;(ce==="undefined"||ce==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case e:case n:fe=!0;break;case g:return fe=C._init,B(fe(C._payload),H,Y,V,J)}}if(fe)return J=J(C),fe=V===""?"."+G(C,0):V,M(J)?(Y="",fe!=null&&(Y=fe.replace(Q,"$&/")+"/"),B(J,H,Y,"",function(ge){return ge})):J!=null&&(q(J)&&(J=P(J,Y+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(Q,"$&/")+"/")+fe)),H.push(J)),1;fe=0;var ee=V===""?".":V+":";if(M(C))for(var ie=0;ie<C.length;ie++)V=C[ie],ce=ee+G(V,ie),fe+=B(V,H,Y,ce,J);else if(ie=x(C),typeof ie=="function")for(C=ie.call(C),ie=0;!(V=C.next()).done;)V=V.value,ce=ee+G(V,ie++),fe+=B(V,H,Y,ce,J);else if(ce==="object"){if(typeof C.then=="function")return B(U(C),H,Y,V,J);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return fe}function k(C,H,Y){if(C==null)return C;var V=[],J=0;return B(C,V,"","",function(ce){return H.call(Y,ce,J++)}),V}function L(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var I=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function $(){}return Xe.Children={map:k,forEach:function(C,H,Y){k(C,function(){H.apply(this,arguments)},Y)},count:function(C){var H=0;return k(C,function(){H++}),H},toArray:function(C){return k(C,function(H){return H})||[]},only:function(C){if(!q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Xe.Component=S,Xe.Fragment=r,Xe.Profiler=l,Xe.PureComponent=A,Xe.StrictMode=a,Xe.Suspense=m,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Xe.cache=function(C){return function(){return C.apply(null,arguments)}},Xe.cloneElement=function(C,H,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var V=j({},C.props),J=C.key,ce=void 0;if(H!=null)for(fe in H.ref!==void 0&&(ce=void 0),H.key!==void 0&&(J=""+H.key),H)!D.call(H,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&H.ref===void 0||(V[fe]=H[fe]);var fe=arguments.length-2;if(fe===1)V.children=Y;else if(1<fe){for(var ee=Array(fe),ie=0;ie<fe;ie++)ee[ie]=arguments[ie+2];V.children=ee}return O(C.type,J,void 0,void 0,ce,V)},Xe.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Xe.createElement=function(C,H,Y){var V,J={},ce=null;if(H!=null)for(V in H.key!==void 0&&(ce=""+H.key),H)D.call(H,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(J[V]=H[V]);var fe=arguments.length-2;if(fe===1)J.children=Y;else if(1<fe){for(var ee=Array(fe),ie=0;ie<fe;ie++)ee[ie]=arguments[ie+2];J.children=ee}if(C&&C.defaultProps)for(V in fe=C.defaultProps,fe)J[V]===void 0&&(J[V]=fe[V]);return O(C,ce,void 0,void 0,null,J)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(C){return{$$typeof:f,render:C}},Xe.isValidElement=q,Xe.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:L}},Xe.memo=function(C,H){return{$$typeof:h,type:C,compare:H===void 0?null:H}},Xe.startTransition=function(C){var H=R.T,Y={};R.T=Y;try{var V=C(),J=R.S;J!==null&&J(Y,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then($,I)}catch(ce){I(ce)}finally{R.T=H}},Xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Xe.use=function(C){return R.H.use(C)},Xe.useActionState=function(C,H,Y){return R.H.useActionState(C,H,Y)},Xe.useCallback=function(C,H){return R.H.useCallback(C,H)},Xe.useContext=function(C){return R.H.useContext(C)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(C,H){return R.H.useDeferredValue(C,H)},Xe.useEffect=function(C,H,Y){var V=R.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(C,H)},Xe.useId=function(){return R.H.useId()},Xe.useImperativeHandle=function(C,H,Y){return R.H.useImperativeHandle(C,H,Y)},Xe.useInsertionEffect=function(C,H){return R.H.useInsertionEffect(C,H)},Xe.useLayoutEffect=function(C,H){return R.H.useLayoutEffect(C,H)},Xe.useMemo=function(C,H){return R.H.useMemo(C,H)},Xe.useOptimistic=function(C,H){return R.H.useOptimistic(C,H)},Xe.useReducer=function(C,H,Y){return R.H.useReducer(C,H,Y)},Xe.useRef=function(C){return R.H.useRef(C)},Xe.useState=function(C){return R.H.useState(C)},Xe.useSyncExternalStore=function(C,H,Y){return R.H.useSyncExternalStore(C,H,Y)},Xe.useTransition=function(){return R.H.useTransition()},Xe.version="19.1.1",Xe}var yv;function Nl(){return yv||(yv=1,ch.exports=JE()),ch.exports}var w=Nl();const Nn=Op(w),vw=WE({__proto__:null,default:Nn},[w]);var uh={exports:{}},Gi={},dh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function eC(){return vv||(vv=1,(function(e){function n(k,L){var I=k.length;k.push(L);e:for(;0<I;){var $=I-1>>>1,C=k[$];if(0<l(C,L))k[$]=L,k[I]=C,I=$;else break e}}function r(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var L=k[0],I=k.pop();if(I!==L){k[0]=I;e:for(var $=0,C=k.length,H=C>>>1;$<H;){var Y=2*($+1)-1,V=k[Y],J=Y+1,ce=k[J];if(0>l(V,I))J<C&&0>l(ce,V)?(k[$]=ce,k[J]=I,$=J):(k[$]=V,k[Y]=I,$=Y);else if(J<C&&0>l(ce,I))k[$]=ce,k[J]=I,$=J;else break e}}return L}function l(k,L){var I=k.sortIndex-L.sortIndex;return I!==0?I:k.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],h=[],g=1,y=null,x=3,b=!1,j=!1,N=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function M(k){for(var L=r(h);L!==null;){if(L.callback===null)a(h);else if(L.startTime<=k)a(h),L.sortIndex=L.expirationTime,n(m,L);else break;L=r(h)}}function R(k){if(N=!1,M(k),!j)if(r(m)!==null)j=!0,D||(D=!0,G());else{var L=r(h);L!==null&&B(R,L.startTime-k)}}var D=!1,O=-1,P=5,q=-1;function Z(){return S?!0:!(e.unstable_now()-q<P)}function Q(){if(S=!1,D){var k=e.unstable_now();q=k;var L=!0;try{e:{j=!1,N&&(N=!1,A(O),O=-1),b=!0;var I=x;try{t:{for(M(k),y=r(m);y!==null&&!(y.expirationTime>k&&Z());){var $=y.callback;if(typeof $=="function"){y.callback=null,x=y.priorityLevel;var C=$(y.expirationTime<=k);if(k=e.unstable_now(),typeof C=="function"){y.callback=C,M(k),L=!0;break t}y===r(m)&&a(m),M(k)}else a(m);y=r(m)}if(y!==null)L=!0;else{var H=r(h);H!==null&&B(R,H.startTime-k),L=!1}}break e}finally{y=null,x=I,b=!1}L=void 0}}finally{L?G():D=!1}}}var G;if(typeof E=="function")G=function(){E(Q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,U=ne.port2;ne.port1.onmessage=Q,G=function(){U.postMessage(null)}}else G=function(){_(Q,0)};function B(k,L){O=_(function(){k(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var I=x;x=L;try{return k()}finally{x=I}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=x;x=k;try{return L()}finally{x=I}},e.unstable_scheduleCallback=function(k,L,I){var $=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?$+I:$):I=$,k){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=I+C,k={id:g++,callback:L,priorityLevel:k,startTime:I,expirationTime:C,sortIndex:-1},I>$?(k.sortIndex=I,n(h,k),r(m)===null&&k===r(h)&&(N?(A(O),O=-1):N=!0,B(R,I-$))):(k.sortIndex=C,n(m,k),j||b||(j=!0,D||(D=!0,G()))),k},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(k){var L=x;return function(){var I=x;x=L;try{return k.apply(this,arguments)}finally{x=I}}}})(fh)),fh}var bv;function tC(){return bv||(bv=1,dh.exports=eC()),dh.exports}var mh={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function nC(){if(wv)return Jt;wv=1;var e=Nl();function n(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:h,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return c(m,h,null,g)},Jt.flushSync=function(m){var h=d.T,g=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=h,a.p=g,a.d.f()}},Jt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(m,h))},Jt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Jt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:b}):g==="script"&&a.d.X(m,{crossOrigin:y,integrity:x,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Jt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=f(h.as,h.crossOrigin);a.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(m)},Jt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=f(g,h.crossOrigin);a.d.L(m,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Jt.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=f(h.as,h.crossOrigin);a.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(m)},Jt.requestFormReset=function(m){a.d.r(m)},Jt.unstable_batchedUpdates=function(m,h){return m(h)},Jt.useFormState=function(m,h,g){return d.H.useFormState(m,h,g)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var Nv;function bw(){if(Nv)return mh.exports;Nv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),mh.exports=nC(),mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function sC(){if(jv)return Gi;jv=1;var e=tC(),n=Nl(),r=bw();function a(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,i=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(i=s.return),t=s.return;while(t)}return s.tag===3?i:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(c(t)!==t)throw Error(a(188))}function m(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(a(188));return s!==t?null:t}for(var i=t,u=s;;){var p=i.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){i=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===i)return f(p),t;if(v===u)return f(p),s;v=v.sibling}throw Error(a(188))}if(i.return!==u.return)i=p,u=v;else{for(var T=!1,z=p.child;z;){if(z===i){T=!0,i=p,u=v;break}if(z===u){T=!0,u=p,i=v;break}z=z.sibling}if(!T){for(z=v.child;z;){if(z===i){T=!0,i=v,u=p;break}if(z===u){T=!0,u=v,i=p;break}z=z.sibling}if(!T)throw Error(a(189))}}if(i.alternate!==u)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:s}function h(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=h(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function G(t){return t===null||typeof t!="object"?null:(t=Q&&t[Q]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Symbol.for("react.client.reference");function U(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ne?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case S:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case E:return(t.displayName||"Context")+".Provider";case A:return(t._context.displayName||"Context")+".Consumer";case M:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return s=t.displayName||null,s!==null?s:U(t.type)||"Memo";case P:s=t._payload,t=t._init;try{return U(t(s))}catch{}}return null}var B=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},$=[],C=-1;function H(t){return{current:t}}function Y(t){0>C||(t.current=$[C],$[C]=null,C--)}function V(t,s){C++,$[C]=t.current,t.current=s}var J=H(null),ce=H(null),fe=H(null),ee=H(null);function ie(t,s){switch(V(fe,s),V(ce,t),V(J,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Vy(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Vy(s),t=qy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(J),V(J,t)}function ge(){Y(J),Y(ce),Y(fe)}function Ee(t){t.memoizedState!==null&&V(ee,t);var s=J.current,i=qy(s,t.type);s!==i&&(V(ce,t),V(J,i))}function Ne(t){ce.current===t&&(Y(J),Y(ce)),ee.current===t&&(Y(ee),Bi._currentValue=I)}var ve=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,K=e.unstable_shouldYield,me=e.unstable_requestPaint,be=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,Me=e.unstable_UserBlockingPriority,je=e.unstable_NormalPriority,Se=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,tt=e.log,Ue=e.unstable_setDisableYieldValue,_e=null,xe=null;function $e(t){if(typeof tt=="function"&&Ue(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(_e,t)}catch{}}var Ge=Math.clz32?Math.clz32:Co,qt=Math.log,rn=Math.LN2;function Co(t){return t>>>=0,t===0?32:31-(qt(t)/rn|0)|0}var es=256,vs=4194304;function pe(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ae(t,s,i){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var z=u&134217727;return z!==0?(u=z&~v,u!==0?p=pe(u):(T&=z,T!==0?p=pe(T):i||(i=z&~t,i!==0&&(p=pe(i))))):(z=u&~v,z!==0?p=pe(z):T!==0?p=pe(T):i||(i=u&~t,i!==0&&(p=pe(i)))),p===0?0:s!==0&&s!==p&&(s&v)===0&&(v=p&-p,i=s&-s,v>=i||v===32&&(i&4194048)!==0)?s:p}function Ie(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ot(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ft(){var t=es;return es<<=1,(es&4194048)===0&&(es=256),t}function He(){var t=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),t}function ye(t){for(var s=[],i=0;31>i;i++)s.push(t);return s}function dt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ct(t,s,i,u,p,v){var T=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var z=t.entanglements,F=t.expirationTimes,se=t.hiddenUpdates;for(i=T&~i;0<i;){var ue=31-Ge(i),he=1<<ue;z[ue]=0,F[ue]=-1;var oe=se[ue];if(oe!==null)for(se[ue]=null,ue=0;ue<oe.length;ue++){var ae=oe[ue];ae!==null&&(ae.lane&=-536870913)}i&=~he}u!==0&&ot(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(T&~s))}function ot(t,s,i){t.pendingLanes|=s,t.suspendedLanes&=~s;var u=31-Ge(s);t.entangledLanes|=s,t.entanglements[u]=t.entanglements[u]|1073741824|i&4194090}function kn(t,s){var i=t.entangledLanes|=s;for(t=t.entanglements;i;){var u=31-Ge(i),p=1<<u;p&s|t[u]&s&&(t[u]|=s),i&=~p}}function mn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hl(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:cv(t.type))}function Qd(t,s){var i=L.p;try{return L.p=t,s()}finally{L.p=i}}var ts=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ts,Kt="__reactProps$"+ts,Ks="__reactContainer$"+ts,Ya="__reactEvents$"+ts,Jd="__reactListeners$"+ts,ef="__reactHandles$"+ts,Pl="__reactResources$"+ts,qr="__reactMarker$"+ts;function Ga(t){delete t[Pt],delete t[Kt],delete t[Ya],delete t[Jd],delete t[ef]}function Qs(t){var s=t[Pt];if(s)return s;for(var i=t.parentNode;i;){if(s=i[Ks]||i[Pt]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(t=Xy(t);t!==null;){if(i=t[Pt])return i;t=Xy(t)}return s}t=i,i=t.parentNode}return null}function bs(t){if(t=t[Pt]||t[Ks]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Js(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(a(33))}function ws(t){var s=t[Pl];return s||(s=t[Pl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function At(t){t[qr]=!0}var Bl=new Set,Ul={};function Ns(t,s){er(t,s),er(t+"Capture",s)}function er(t,s){for(Ul[t]=s,t=0;t<s.length;t++)Bl.add(s[t])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xa={},Vl={};function nf(t){return ve.call(Vl,t)?!0:ve.call(Xa,t)?!1:tf.test(t)?Vl[t]=!0:(Xa[t]=!0,!1)}function ko(t,s,i){if(nf(s))if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+i)}}function To(t,s,i){if(i===null)t.removeAttribute(s);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+i)}}function Bn(t,s,i,u){if(u===null)t.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(s,i,""+u)}}var Za,ql;function js(t){if(Za===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);Za=s&&s[1]||"",ql=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+t+ql}var Wa=!1;function Ka(t,s){if(!t||Wa)return"";Wa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var oe=ae}Reflect.construct(t,[],he)}else{try{he.call()}catch(ae){oe=ae}t.call(he.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(he=t())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),T=v[0],z=v[1];if(T&&z){var F=T.split(`
`),se=z.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===se.length)for(u=F.length-1,p=se.length-1;1<=u&&0<=p&&F[u]!==se[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==se[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==se[p]){var ue=`
`+F[u].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=u&&0<=p);break}}}finally{Wa=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?js(i):""}function sf(t){switch(t.tag){case 26:case 27:case 5:return js(t.type);case 16:return js("Lazy");case 13:return js("Suspense");case 19:return js("SuspenseList");case 0:case 15:return Ka(t.type,!1);case 11:return Ka(t.type.render,!1);case 1:return Ka(t.type,!0);case 31:return js("Activity");default:return""}}function Fl(t){try{var s="";do s+=sf(t),t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rf(t){var s=Yl(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),u=""+t[s];if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var p=i.get,v=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,v.call(this,T)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Ao(t){t._valueTracker||(t._valueTracker=rf(t))}function Qa(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var i=s.getValue(),u="";return t&&(u=Yl(t)?t.checked?"true":"false":t.value),t=u,t!==i?(s.setValue(t),!0):!1}function Mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var of=/[\n"\\]/g;function an(t){return t.replace(of,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fr(t,s,i,u,p,v,T,z){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),s!=null?T==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+on(s)):t.value!==""+on(s)&&(t.value=""+on(s)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),s!=null?Ja(t,T,on(s)):i!=null?Ja(t,T,on(i)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+on(z):t.removeAttribute("name")}function Gl(t,s,i,u,p,v,T,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),s!=null||i!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;i=i!=null?""+on(i):"",s=s!=null?""+on(s):i,z||s===t.value||(t.value=s),t.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=z?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ja(t,s,i){s==="number"&&Mo(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ss(t,s,i,u){if(t=t.options,s){s={};for(var p=0;p<i.length;p++)s["$"+i[p]]=!0;for(i=0;i<t.length;i++)p=s.hasOwnProperty("$"+t[i].value),t[i].selected!==p&&(t[i].selected=p),p&&u&&(t[i].defaultSelected=!0)}else{for(i=""+on(i),s=null,p=0;p<t.length;p++){if(t[p].value===i){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}s!==null||t[p].disabled||(s=t[p])}s!==null&&(s.selected=!0)}}function Bg(t,s,i){if(s!=null&&(s=""+on(s),s!==t.value&&(t.value=s),i==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=i!=null?""+on(i):""}function Ug(t,s,i,u){if(s==null){if(u!=null){if(i!=null)throw Error(a(92));if(B(u)){if(1<u.length)throw Error(a(93));u=u[0]}i=u}i==null&&(i=""),s=i}i=on(s),t.defaultValue=i,u=t.textContent,u===i&&u!==""&&u!==null&&(t.value=u)}function Ro(t,s){if(s){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=s;return}}t.textContent=s}var GS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vg(t,s,i){var u=s.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?u?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":u?t.setProperty(s,i):typeof i!="number"||i===0||GS.has(s)?s==="float"?t.cssFloat=i:t[s]=(""+i).trim():t[s]=i+"px"}function qg(t,s,i){if(s!=null&&typeof s!="object")throw Error(a(62));if(t=t.style,i!=null){for(var u in i)!i.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&i[p]!==u&&Vg(t,p,u)}else for(var v in s)s.hasOwnProperty(v)&&Vg(t,v,s[v])}function af(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(t){return ZS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var lf=null;function cf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Do=null,Oo=null;function Fg(t){var s=bs(t);if(s&&(t=s.stateNode)){var i=t[Kt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Fr(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),s=i.name,i.type==="radio"&&s!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<i.length;s++){var u=i[s];if(u!==t&&u.form===t.form){var p=u[Kt]||null;if(!p)throw Error(a(90));Fr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<i.length;s++)u=i[s],u.form===t.form&&Qa(u)}break e;case"textarea":Bg(t,i.value,i.defaultValue);break e;case"select":s=i.value,s!=null&&Ss(t,!!i.multiple,s,!1)}}}var uf=!1;function Yg(t,s,i){if(uf)return t(s,i);uf=!0;try{var u=t(s);return u}finally{if(uf=!1,(Do!==null||Oo!==null)&&(Dc(),Do&&(s=Do,t=Oo,Oo=Do=null,Fg(s),t)))for(s=0;s<t.length;s++)Fg(t[s])}}function ei(t,s){var i=t.stateNode;if(i===null)return null;var u=i[Kt]||null;if(u===null)return null;i=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,s,typeof i));return i}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=!1;if(_s)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){df=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{df=!1}var tr=null,ff=null,Zl=null;function Gg(){if(Zl)return Zl;var t,s=ff,i=s.length,u,p="value"in tr?tr.value:tr.textContent,v=p.length;for(t=0;t<i&&s[t]===p[t];t++);var T=i-t;for(u=1;u<=T&&s[i-u]===p[v-u];u++);return Zl=p.slice(t,1<u?1-u:void 0)}function Wl(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function Xg(){return!1}function ln(t){function s(i,u,p,v,T){this._reactName=i,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(i=t[z],this[z]=i?i(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Kl:Xg,this.isPropagationStopped=Xg,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),s}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=ln(Yr),ni=g({},Yr,{view:0,detail:0}),WS=ln(ni),mf,hf,si,Jl=g({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(mf=t.screenX-si.screenX,hf=t.screenY-si.screenY):hf=mf=0,si=t),mf)},movementY:function(t){return"movementY"in t?t.movementY:hf}}),Zg=ln(Jl),KS=g({},Jl,{dataTransfer:0}),QS=ln(KS),JS=g({},ni,{relatedTarget:0}),pf=ln(JS),e_=g({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=ln(e_),n_=g({},Yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s_=ln(n_),r_=g({},Yr,{data:0}),Wg=ln(r_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=i_[t])?!!s[t]:!1}function gf(){return l_}var c_=g({},ni,{key:function(t){if(t.key){var s=o_[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(t){return t.type==="keypress"?Wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u_=ln(c_),d_=g({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=ln(d_),f_=g({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),m_=ln(f_),h_=g({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),p_=ln(h_),g_=g({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x_=ln(g_),y_=g({},Yr,{newState:0,oldState:0}),v_=ln(y_),b_=[9,13,27,32],xf=_s&&"CompositionEvent"in window,ri=null;_s&&"documentMode"in document&&(ri=document.documentMode);var w_=_s&&"TextEvent"in window&&!ri,Qg=_s&&(!xf||ri&&8<ri&&11>=ri),Jg=" ",ex=!1;function tx(t,s){switch(t){case"keyup":return b_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function N_(t,s){switch(t){case"compositionend":return nx(s);case"keypress":return s.which!==32?null:(ex=!0,Jg);case"textInput":return t=s.data,t===Jg&&ex?null:t;default:return null}}function j_(t,s){if(zo)return t==="compositionend"||!xf&&tx(t,s)?(t=Gg(),Zl=ff=tr=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qg&&s.locale!=="ko"?null:s.data;default:return null}}var S_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sx(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!S_[t.type]:s==="textarea"}function rx(t,s,i,u){Do?Oo?Oo.push(u):Oo=[u]:Do=u,s=Hc(s,"onChange"),0<s.length&&(i=new Ql("onChange","change",null,i,u),t.push({event:i,listeners:s}))}var oi=null,ai=null;function __(t){$y(t,0)}function ec(t){var s=Js(t);if(Qa(s))return t}function ox(t,s){if(t==="change")return s}var ax=!1;if(_s){var yf;if(_s){var vf="oninput"in document;if(!vf){var ix=document.createElement("div");ix.setAttribute("oninput","return;"),vf=typeof ix.oninput=="function"}yf=vf}else yf=!1;ax=yf&&(!document.documentMode||9<document.documentMode)}function lx(){oi&&(oi.detachEvent("onpropertychange",cx),ai=oi=null)}function cx(t){if(t.propertyName==="value"&&ec(ai)){var s=[];rx(s,ai,t,cf(t)),Yg(__,s)}}function E_(t,s,i){t==="focusin"?(lx(),oi=s,ai=i,oi.attachEvent("onpropertychange",cx)):t==="focusout"&&lx()}function C_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(ai)}function k_(t,s){if(t==="click")return ec(s)}function T_(t,s){if(t==="input"||t==="change")return ec(s)}function A_(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var hn=typeof Object.is=="function"?Object.is:A_;function ii(t,s){if(hn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var i=Object.keys(t),u=Object.keys(s);if(i.length!==u.length)return!1;for(u=0;u<i.length;u++){var p=i[u];if(!ve.call(s,p)||!hn(t[p],s[p]))return!1}return!0}function ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dx(t,s){var i=ux(t);t=0;for(var u;i;){if(i.nodeType===3){if(u=t+i.textContent.length,t<=s&&u>=s)return{node:i,offset:s-t};t=u}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ux(i)}}function fx(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?fx(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function mx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Mo(t.document);s instanceof t.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)t=s.contentWindow;else break;s=Mo(t.document)}return s}function bf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var M_=_s&&"documentMode"in document&&11>=document.documentMode,Io=null,wf=null,li=null,Nf=!1;function hx(t,s,i){var u=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Nf||Io==null||Io!==Mo(u)||(u=Io,"selectionStart"in u&&bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),li&&ii(li,u)||(li=u,u=Hc(wf,"onSelect"),0<u.length&&(s=new Ql("onSelect","select",null,s,i),t.push({event:s,listeners:u}),s.target=Io)))}function Gr(t,s){var i={};return i[t.toLowerCase()]=s.toLowerCase(),i["Webkit"+t]="webkit"+s,i["Moz"+t]="moz"+s,i}var Lo={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},jf={},px={};_s&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Xr(t){if(jf[t])return jf[t];if(!Lo[t])return t;var s=Lo[t],i;for(i in s)if(s.hasOwnProperty(i)&&i in px)return jf[t]=s[i];return t}var gx=Xr("animationend"),xx=Xr("animationiteration"),yx=Xr("animationstart"),R_=Xr("transitionrun"),D_=Xr("transitionstart"),O_=Xr("transitioncancel"),vx=Xr("transitionend"),bx=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function Un(t,s){bx.set(t,s),Ns(s,[t])}var wx=new WeakMap;function Tn(t,s){if(typeof t=="object"&&t!==null){var i=wx.get(t);return i!==void 0?i:(s={value:t,source:s,stack:Fl(s)},wx.set(t,s),s)}return{value:t,source:s,stack:Fl(s)}}var An=[],$o=0,_f=0;function tc(){for(var t=$o,s=_f=$o=0;s<t;){var i=An[s];An[s++]=null;var u=An[s];An[s++]=null;var p=An[s];An[s++]=null;var v=An[s];if(An[s++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}v!==0&&Nx(i,p,v)}}function nc(t,s,i,u){An[$o++]=t,An[$o++]=s,An[$o++]=i,An[$o++]=u,_f|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Ef(t,s,i,u){return nc(t,s,i,u),sc(t)}function Ho(t,s){return nc(t,null,null,s),sc(t)}function Nx(t,s,i){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i);for(var p=!1,v=t.return;v!==null;)v.childLanes|=i,u=v.alternate,u!==null&&(u.childLanes|=i),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&s!==null&&(p=31-Ge(i),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[s]:u.push(s),s.lane=i|536870912),v):null}function sc(t){if(50<Di)throw Di=0,Rm=null,Error(a(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Po={};function z_(t,s,i,u){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,s,i,u){return new z_(t,s,i,u)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Es(t,s){var i=t.alternate;return i===null?(i=pn(t.tag,s,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=s,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function jx(t,s){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,s=i.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function rc(t,s,i,u,p,v){var T=0;if(u=t,typeof t=="function")Cf(t)&&(T=1);else if(typeof t=="string")T=LE(t,i,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case q:return t=pn(31,i,s,p),t.elementType=q,t.lanes=v,t;case j:return Zr(i.children,p,v,s);case N:T=8,p|=24;break;case S:return t=pn(12,i,s,p|2),t.elementType=S,t.lanes=v,t;case R:return t=pn(13,i,s,p),t.elementType=R,t.lanes=v,t;case D:return t=pn(19,i,s,p),t.elementType=D,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case E:T=10;break e;case A:T=9;break e;case M:T=11;break e;case O:T=14;break e;case P:T=16,u=null;break e}T=29,i=Error(a(130,t===null?"null":typeof t,"")),u=null}return s=pn(T,i,s,p),s.elementType=t,s.type=u,s.lanes=v,s}function Zr(t,s,i,u){return t=pn(7,t,u,s),t.lanes=i,t}function kf(t,s,i){return t=pn(6,t,null,s),t.lanes=i,t}function Tf(t,s,i){return s=pn(4,t.children!==null?t.children:[],t.key,s),s.lanes=i,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Bo=[],Uo=0,oc=null,ac=0,Mn=[],Rn=0,Wr=null,Cs=1,ks="";function Kr(t,s){Bo[Uo++]=ac,Bo[Uo++]=oc,oc=t,ac=s}function Sx(t,s,i){Mn[Rn++]=Cs,Mn[Rn++]=ks,Mn[Rn++]=Wr,Wr=t;var u=Cs;t=ks;var p=32-Ge(u)-1;u&=~(1<<p),i+=1;var v=32-Ge(s)+p;if(30<v){var T=p-p%5;v=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Cs=1<<32-Ge(s)+p|i<<p|u,ks=v+t}else Cs=1<<v|i<<p|u,ks=t}function Af(t){t.return!==null&&(Kr(t,1),Sx(t,1,0))}function Mf(t){for(;t===oc;)oc=Bo[--Uo],Bo[Uo]=null,ac=Bo[--Uo],Bo[Uo]=null;for(;t===Wr;)Wr=Mn[--Rn],Mn[Rn]=null,ks=Mn[--Rn],Mn[Rn]=null,Cs=Mn[--Rn],Mn[Rn]=null}var tn=null,St=null,ct=!1,Qr=null,ns=!1,Rf=Error(a(519));function Jr(t){var s=Error(a(418,""));throw di(Tn(s,t)),Rf}function _x(t){var s=t.stateNode,i=t.type,u=t.memoizedProps;switch(s[Pt]=t,s[Kt]=u,i){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(i=0;i<zi.length;i++)st(zi[i],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Gl(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ao(s);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),Ug(s,u.value,u.defaultValue,u.children),Ao(s)}i=u.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||s.textContent===""+i||u.suppressHydrationWarning===!0||Uy(s.textContent,i)?(u.popover!=null&&(st("beforetoggle",s),st("toggle",s)),u.onScroll!=null&&st("scroll",s),u.onScrollEnd!=null&&st("scrollend",s),u.onClick!=null&&(s.onclick=Pc),s=!0):s=!1,s||Jr(t)}function Ex(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:tn=tn.return}}function ci(t){if(t!==tn)return!1;if(!ct)return Ex(t),ct=!0,!1;var s=t.tag,i;if((i=s!==3&&s!==27)&&((i=s===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Xm(t.type,t.memoizedProps)),i=!i),i&&St&&Jr(t),Ex(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(s===0){St=qn(t.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++;t=t.nextSibling}St=null}}else s===27?(s=St,xr(t.type)?(t=Qm,Qm=null,St=t):St=s):St=tn?qn(t.stateNode.nextSibling):null;return!0}function ui(){St=tn=null,ct=!1}function Cx(){var t=Qr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Qr=null),t}function di(t){Qr===null?Qr=[t]:Qr.push(t)}var Df=H(null),eo=null,Ts=null;function nr(t,s,i){V(Df,s._currentValue),s._currentValue=i}function As(t){t._currentValue=Df.current,Y(Df)}function Of(t,s,i){for(;t!==null;){var u=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),t===i)break;t=t.return}}function zf(t,s,i,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;e:for(;v!==null;){var z=v;v=p;for(var F=0;F<s.length;F++)if(z.context===s[F]){v.lanes|=i,z=v.alternate,z!==null&&(z.lanes|=i),Of(v.return,i,t),u||(T=null);break e}v=z.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(a(341));T.lanes|=i,v=T.alternate,v!==null&&(v.lanes|=i),Of(T,i,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function fi(t,s,i,u){t=null;for(var p=s,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var z=p.type;hn(p.pendingProps.value,T.value)||(t!==null?t.push(z):t=[z])}}else if(p===ee.current){if(T=p.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(Bi):t=[Bi])}p=p.return}t!==null&&zf(s,t,i,u),s.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function to(t){eo=t,Ts=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return kx(eo,t)}function lc(t,s){return eo===null&&to(t),kx(t,s)}function kx(t,s){var i=s._currentValue;if(s={context:s,memoizedValue:i,next:null},Ts===null){if(t===null)throw Error(a(308));Ts=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ts=Ts.next=s;return i}var I_=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(i,u){t.push(u)}};this.abort=function(){s.aborted=!0,t.forEach(function(i){return i()})}},L_=e.unstable_scheduleCallback,$_=e.unstable_NormalPriority,zt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new I_,data:new Map,refCount:0}}function mi(t){t.refCount--,t.refCount===0&&L_($_,function(){t.controller.abort()})}var hi=null,Lf=0,Vo=0,qo=null;function H_(t,s){if(hi===null){var i=hi=[];Lf=0,Vo=Hm(),qo={status:"pending",value:void 0,then:function(u){i.push(u)}}}return Lf++,s.then(Tx,Tx),s}function Tx(){if(--Lf===0&&hi!==null){qo!==null&&(qo.status="fulfilled");var t=hi;hi=null,Vo=0,qo=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function P_(t,s){var i=[],u={status:"pending",value:null,reason:null,then:function(p){i.push(p)}};return t.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<i.length;p++)(0,i[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<i.length;p++)(0,i[p])(void 0)}),u}var Ax=k.S;k.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&H_(t,s),Ax!==null&&Ax(t,s)};var no=H(null);function $f(){var t=no.current;return t!==null?t:vt.pooledCache}function cc(t,s){s===null?V(no,no.current):V(no,s.pool)}function Mx(){var t=$f();return t===null?null:{parent:zt._currentValue,pool:t}}var pi=Error(a(460)),Rx=Error(a(474)),uc=Error(a(542)),Hf={then:function(){}};function Dx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dc(){}function Ox(t,s,i){switch(i=t[i],i===void 0?t.push(s):i!==s&&(s.then(dc,dc),s=i),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ix(t),t;default:if(typeof s.status=="string")s.then(dc,dc);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=s,t.status="pending",t.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ix(t),t}throw gi=s,pi}}var gi=null;function zx(){if(gi===null)throw Error(a(459));var t=gi;return gi=null,t}function Ix(t){if(t===pi||t===uc)throw Error(a(483))}var sr=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function or(t,s,i){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ft&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=sc(t),Nx(t,null,i),s}return nc(t,u,s,i),sc(t)}function xi(t,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194048)!==0)){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,kn(t,i)}}function Uf(t,s){var i=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,i===u)){var p=null,v=null;if(i=i.firstBaseUpdate,i!==null){do{var T={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,i=i.next}while(i!==null);v===null?p=v=s:v=v.next=s}else p=v=s;i={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=s:t.next=s,i.lastBaseUpdate=s}var Vf=!1;function yi(){if(Vf){var t=qo;if(t!==null)throw t}}function vi(t,s,i,u){Vf=!1;var p=t.updateQueue;sr=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,z=p.shared.pending;if(z!==null){p.shared.pending=null;var F=z,se=F.next;F.next=null,T===null?v=se:T.next=se,T=F;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,z=ue.lastBaseUpdate,z!==T&&(z===null?ue.firstBaseUpdate=se:z.next=se,ue.lastBaseUpdate=F))}if(v!==null){var he=p.baseState;T=0,ue=se=F=null,z=v;do{var oe=z.lane&-536870913,ae=oe!==z.lane;if(ae?(it&oe)===oe:(u&oe)===oe){oe!==0&&oe===Vo&&(Vf=!0),ue!==null&&(ue=ue.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Fe=t,Ve=z;oe=s;var gt=i;switch(Ve.tag){case 1:if(Fe=Ve.payload,typeof Fe=="function"){he=Fe.call(gt,he,oe);break e}he=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ve.payload,oe=typeof Fe=="function"?Fe.call(gt,he,oe):Fe,oe==null)break e;he=g({},he,oe);break e;case 2:sr=!0}}oe=z.callback,oe!==null&&(t.flags|=64,ae&&(t.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ue===null?(se=ue=ae,F=he):ue=ue.next=ae,T|=oe;if(z=z.next,z===null){if(z=p.shared.pending,z===null)break;ae=z,z=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);ue===null&&(F=he),p.baseState=F,p.firstBaseUpdate=se,p.lastBaseUpdate=ue,v===null&&(p.shared.lanes=0),mr|=T,t.lanes=T,t.memoizedState=he}}function Lx(t,s){if(typeof t!="function")throw Error(a(191,t));t.call(s)}function $x(t,s){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Lx(i[t],s)}var Fo=H(null),fc=H(0);function Hx(t,s){t=Ls,V(fc,t),V(Fo,s),Ls=t|s.baseLanes}function qf(){V(fc,Ls),V(Fo,Fo.current)}function Ff(){Ls=fc.current,Y(Fo),Y(fc)}var ar=0,Qe=null,ht=null,Mt=null,mc=!1,Yo=!1,so=!1,hc=0,bi=0,Go=null,B_=0;function kt(){throw Error(a(321))}function Yf(t,s){if(s===null)return!1;for(var i=0;i<s.length&&i<t.length;i++)if(!hn(t[i],s[i]))return!1;return!0}function Gf(t,s,i,u,p,v){return ar=v,Qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=t===null||t.memoizedState===null?N0:j0,so=!1,v=i(u,p),so=!1,Yo&&(v=Bx(s,i,u,p)),Px(t),v}function Px(t){k.H=bc;var s=ht!==null&&ht.next!==null;if(ar=0,Mt=ht=Qe=null,mc=!1,bi=0,Go=null,s)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&ic(t)&&(Bt=!0))}function Bx(t,s,i,u){Qe=t;var p=0;do{if(Yo&&(Go=null),bi=0,Yo=!1,25<=p)throw Error(a(301));if(p+=1,Mt=ht=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}k.H=X_,v=s(i,u)}while(Yo);return v}function U_(){var t=k.H,s=t.useState()[0];return s=typeof s.then=="function"?wi(s):s,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(Qe.flags|=1024),s}function Xf(){var t=hc!==0;return hc=0,t}function Zf(t,s,i){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i}function Wf(t){if(mc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}mc=!1}ar=0,Mt=ht=Qe=null,Yo=!1,bi=hc=0,Go=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Qe.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(ht===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var s=Mt===null?Qe.memoizedState:Mt.next;if(s!==null)Mt=s,ht=t;else{if(t===null)throw Qe.alternate===null?Error(a(467)):Error(a(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Mt===null?Qe.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wi(t){var s=bi;return bi+=1,Go===null&&(Go=[]),t=Ox(Go,t,s),s=Qe,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?N0:j0),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wi(t);if(t.$$typeof===E)return Qt(t)}throw Error(a(438,String(t)))}function Qf(t){var s=null,i=Qe.updateQueue;if(i!==null&&(s=i.memoCache),s==null){var u=Qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),i===null&&(i=Kf(),Qe.updateQueue=i),i.memoCache=s,i=s.data[s.index],i===void 0)for(i=s.data[s.index]=Array(t),u=0;u<t;u++)i[u]=Z;return s.index++,i}function Ms(t,s){return typeof s=="function"?s(t):s}function gc(t){var s=Rt();return Jf(s,ht,t)}function Jf(t,s,i){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}s.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{s=p.next;var z=T=null,F=null,se=s,ue=!1;do{var he=se.lane&-536870913;if(he!==se.lane?(it&he)===he:(ar&he)===he){var oe=se.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),he===Vo&&(ue=!0);else if((ar&oe)===oe){se=se.next,oe===Vo&&(ue=!0);continue}else he={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(z=F=he,T=v):F=F.next=he,Qe.lanes|=oe,mr|=oe;he=se.action,so&&i(v,he),v=se.hasEagerState?se.eagerState:i(v,he)}else oe={lane:he,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},F===null?(z=F=oe,T=v):F=F.next=oe,Qe.lanes|=he,mr|=he;se=se.next}while(se!==null&&se!==s);if(F===null?T=v:F.next=z,!hn(v,t.memoizedState)&&(Bt=!0,ue&&(i=qo,i!==null)))throw i;t.memoizedState=v,t.baseState=T,t.baseQueue=F,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function em(t){var s=Rt(),i=s.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var u=i.dispatch,p=i.pending,v=s.memoizedState;if(p!==null){i.pending=null;var T=p=p.next;do v=t(v,T.action),T=T.next;while(T!==p);hn(v,s.memoizedState)||(Bt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),i.lastRenderedState=v}return[v,u]}function Ux(t,s,i){var u=Qe,p=Rt(),v=ct;if(v){if(i===void 0)throw Error(a(407));i=i()}else i=s();var T=!hn((ht||p).memoizedState,i);T&&(p.memoizedState=i,Bt=!0),p=p.queue;var z=Fx.bind(null,u,p,t);if(Ni(2048,8,z,[t]),p.getSnapshot!==s||T||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Xo(9,xc(),qx.bind(null,u,p,i,s),null),vt===null)throw Error(a(349));v||(ar&124)!==0||Vx(u,s,i)}return i}function Vx(t,s,i){t.flags|=16384,t={getSnapshot:s,value:i},s=Qe.updateQueue,s===null?(s=Kf(),Qe.updateQueue=s,s.stores=[t]):(i=s.stores,i===null?s.stores=[t]:i.push(t))}function qx(t,s,i,u){s.value=i,s.getSnapshot=u,Yx(s)&&Gx(t)}function Fx(t,s,i){return i(function(){Yx(s)&&Gx(t)})}function Yx(t){var s=t.getSnapshot;t=t.value;try{var i=s();return!hn(t,i)}catch{return!0}}function Gx(t){var s=Ho(t,2);s!==null&&bn(s,t,2)}function tm(t){var s=cn();if(typeof t=="function"){var i=t;if(t=i(),so){$e(!0);try{i()}finally{$e(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},s}function Xx(t,s,i,u){return t.baseState=i,Jf(t,ht,typeof u=="function"?u:Ms)}function V_(t,s,i,u,p){if(vc(t))throw Error(a(485));if(t=s.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};k.T!==null?i(!0):v.isTransition=!1,u(v),i=s.pending,i===null?(v.next=s.pending=v,Zx(s,v)):(v.next=i.next,s.pending=i.next=v)}}function Zx(t,s){var i=s.action,u=s.payload,p=t.state;if(s.isTransition){var v=k.T,T={};k.T=T;try{var z=i(p,u),F=k.S;F!==null&&F(T,z),Wx(t,s,z)}catch(se){nm(t,s,se)}finally{k.T=v}}else try{v=i(p,u),Wx(t,s,v)}catch(se){nm(t,s,se)}}function Wx(t,s,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(u){Kx(t,s,u)},function(u){return nm(t,s,u)}):Kx(t,s,i)}function Kx(t,s,i){s.status="fulfilled",s.value=i,Qx(s),t.state=i,s=t.pending,s!==null&&(i=s.next,i===s?t.pending=null:(i=i.next,s.next=i,Zx(t,i)))}function nm(t,s,i){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=i,Qx(s),s=s.next;while(s!==u)}t.action=null}function Qx(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Jx(t,s){return s}function e0(t,s){if(ct){var i=vt.formState;if(i!==null){e:{var u=Qe;if(ct){if(St){t:{for(var p=St,v=ns;p.nodeType!==8;){if(!v){p=null;break t}if(p=qn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){St=qn(p.nextSibling),u=p.data==="F!";break e}}Jr(u)}u=!1}u&&(s=i[0])}}return i=cn(),i.memoizedState=i.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jx,lastRenderedState:s},i.queue=u,i=v0.bind(null,Qe,u),u.dispatch=i,u=tm(!1),v=im.bind(null,Qe,!1,u.queue),u=cn(),p={state:s,dispatch:null,action:t,pending:null},u.queue=p,i=V_.bind(null,Qe,p,v,i),p.dispatch=i,u.memoizedState=t,[s,i,!1]}function t0(t){var s=Rt();return n0(s,ht,t)}function n0(t,s,i){if(s=Jf(t,s,Jx)[0],t=gc(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=wi(s)}catch(T){throw T===pi?uc:T}else u=s;s=Rt();var p=s.queue,v=p.dispatch;return i!==s.memoizedState&&(Qe.flags|=2048,Xo(9,xc(),q_.bind(null,p,i),null)),[u,v,t]}function q_(t,s){t.action=s}function s0(t){var s=Rt(),i=ht;if(i!==null)return n0(s,i,t);Rt(),s=s.memoizedState,i=Rt();var u=i.queue.dispatch;return i.memoizedState=t,[s,u,!1]}function Xo(t,s,i,u){return t={tag:t,create:i,deps:u,inst:s,next:null},s=Qe.updateQueue,s===null&&(s=Kf(),Qe.updateQueue=s),i=s.lastEffect,i===null?s.lastEffect=t.next=t:(u=i.next,i.next=t,t.next=u,s.lastEffect=t),t}function xc(){return{destroy:void 0,resource:void 0}}function r0(){return Rt().memoizedState}function yc(t,s,i,u){var p=cn();u=u===void 0?null:u,Qe.flags|=t,p.memoizedState=Xo(1|s,xc(),i,u)}function Ni(t,s,i,u){var p=Rt();u=u===void 0?null:u;var v=p.memoizedState.inst;ht!==null&&u!==null&&Yf(u,ht.memoizedState.deps)?p.memoizedState=Xo(s,v,i,u):(Qe.flags|=t,p.memoizedState=Xo(1|s,v,i,u))}function o0(t,s){yc(8390656,8,t,s)}function a0(t,s){Ni(2048,8,t,s)}function i0(t,s){return Ni(4,2,t,s)}function l0(t,s){return Ni(4,4,t,s)}function c0(t,s){if(typeof s=="function"){t=t();var i=s(t);return function(){typeof i=="function"?i():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function u0(t,s,i){i=i!=null?i.concat([t]):null,Ni(4,4,c0.bind(null,s,t),i)}function sm(){}function d0(t,s){var i=Rt();s=s===void 0?null:s;var u=i.memoizedState;return s!==null&&Yf(s,u[1])?u[0]:(i.memoizedState=[t,s],t)}function f0(t,s){var i=Rt();s=s===void 0?null:s;var u=i.memoizedState;if(s!==null&&Yf(s,u[1]))return u[0];if(u=t(),so){$e(!0);try{t()}finally{$e(!1)}}return i.memoizedState=[u,s],u}function rm(t,s,i){return i===void 0||(ar&1073741824)!==0?t.memoizedState=s:(t.memoizedState=i,t=py(),Qe.lanes|=t,mr|=t,i)}function m0(t,s,i,u){return hn(i,s)?i:Fo.current!==null?(t=rm(t,i,u),hn(t,s)||(Bt=!0),t):(ar&42)===0?(Bt=!0,t.memoizedState=i):(t=py(),Qe.lanes|=t,mr|=t,s)}function h0(t,s,i,u,p){var v=L.p;L.p=v!==0&&8>v?v:8;var T=k.T,z={};k.T=z,im(t,!1,s,i);try{var F=p(),se=k.S;if(se!==null&&se(z,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ue=P_(F,u);ji(t,s,ue,vn(t))}else ji(t,s,u,vn(t))}catch(he){ji(t,s,{then:function(){},status:"rejected",reason:he},vn())}finally{L.p=v,k.T=T}}function F_(){}function om(t,s,i,u){if(t.tag!==5)throw Error(a(476));var p=p0(t).queue;h0(t,p,s,I,i===null?F_:function(){return g0(t),i(u)})}function p0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:I},next:null};var i={};return s.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:i},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function g0(t){var s=p0(t).next.queue;ji(t,s,{},vn())}function am(){return Qt(Bi)}function x0(){return Rt().memoizedState}function y0(){return Rt().memoizedState}function Y_(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var i=vn();t=rr(i);var u=or(s,t,i);u!==null&&(bn(u,s,i),xi(u,s,i)),s={cache:If()},t.payload=s;return}s=s.return}}function G_(t,s,i){var u=vn();i={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},vc(t)?b0(s,i):(i=Ef(t,s,i,u),i!==null&&(bn(i,t,u),w0(i,s,u)))}function v0(t,s,i){var u=vn();ji(t,s,i,u)}function ji(t,s,i,u){var p={lane:u,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(vc(t))b0(s,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,z=v(T,i);if(p.hasEagerState=!0,p.eagerState=z,hn(z,T))return nc(t,s,p,0),vt===null&&tc(),!1}catch{}finally{}if(i=Ef(t,s,p,u),i!==null)return bn(i,t,u),w0(i,s,u),!0}return!1}function im(t,s,i,u){if(u={lane:2,revertLane:Hm(),action:u,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(s)throw Error(a(479))}else s=Ef(t,i,u,2),s!==null&&bn(s,t,2)}function vc(t){var s=t.alternate;return t===Qe||s!==null&&s===Qe}function b0(t,s){Yo=mc=!0;var i=t.pending;i===null?s.next=s:(s.next=i.next,i.next=s),t.pending=s}function w0(t,s,i){if((i&4194048)!==0){var u=s.lanes;u&=t.pendingLanes,i|=u,s.lanes=i,kn(t,i)}}var bc={readContext:Qt,use:pc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},N0={readContext:Qt,use:pc,useCallback:function(t,s){return cn().memoizedState=[t,s===void 0?null:s],t},useContext:Qt,useEffect:o0,useImperativeHandle:function(t,s,i){i=i!=null?i.concat([t]):null,yc(4194308,4,c0.bind(null,s,t),i)},useLayoutEffect:function(t,s){return yc(4194308,4,t,s)},useInsertionEffect:function(t,s){yc(4,2,t,s)},useMemo:function(t,s){var i=cn();s=s===void 0?null:s;var u=t();if(so){$e(!0);try{t()}finally{$e(!1)}}return i.memoizedState=[u,s],u},useReducer:function(t,s,i){var u=cn();if(i!==void 0){var p=i(s);if(so){$e(!0);try{i(s)}finally{$e(!1)}}}else p=s;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=G_.bind(null,Qe,t),[u.memoizedState,t]},useRef:function(t){var s=cn();return t={current:t},s.memoizedState=t},useState:function(t){t=tm(t);var s=t.queue,i=v0.bind(null,Qe,s);return s.dispatch=i,[t.memoizedState,i]},useDebugValue:sm,useDeferredValue:function(t,s){var i=cn();return rm(i,t,s)},useTransition:function(){var t=tm(!1);return t=h0.bind(null,Qe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,i){var u=Qe,p=cn();if(ct){if(i===void 0)throw Error(a(407));i=i()}else{if(i=s(),vt===null)throw Error(a(349));(it&124)!==0||Vx(u,s,i)}p.memoizedState=i;var v={value:i,getSnapshot:s};return p.queue=v,o0(Fx.bind(null,u,v,t),[t]),u.flags|=2048,Xo(9,xc(),qx.bind(null,u,v,i,s),null),i},useId:function(){var t=cn(),s=vt.identifierPrefix;if(ct){var i=ks,u=Cs;i=(u&~(1<<32-Ge(u)-1)).toString(32)+i,s=""+s+"R"+i,i=hc++,0<i&&(s+="H"+i.toString(32)),s+=""}else i=B_++,s=""+s+"r"+i.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:am,useFormState:e0,useActionState:e0,useOptimistic:function(t){var s=cn();s.memoizedState=s.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=i,s=im.bind(null,Qe,!0,i),i.dispatch=s,[t,s]},useMemoCache:Qf,useCacheRefresh:function(){return cn().memoizedState=Y_.bind(null,Qe)}},j0={readContext:Qt,use:pc,useCallback:d0,useContext:Qt,useEffect:a0,useImperativeHandle:u0,useInsertionEffect:i0,useLayoutEffect:l0,useMemo:f0,useReducer:gc,useRef:r0,useState:function(){return gc(Ms)},useDebugValue:sm,useDeferredValue:function(t,s){var i=Rt();return m0(i,ht.memoizedState,t,s)},useTransition:function(){var t=gc(Ms)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:wi(t),s]},useSyncExternalStore:Ux,useId:x0,useHostTransitionStatus:am,useFormState:t0,useActionState:t0,useOptimistic:function(t,s){var i=Rt();return Xx(i,ht,t,s)},useMemoCache:Qf,useCacheRefresh:y0},X_={readContext:Qt,use:pc,useCallback:d0,useContext:Qt,useEffect:a0,useImperativeHandle:u0,useInsertionEffect:i0,useLayoutEffect:l0,useMemo:f0,useReducer:em,useRef:r0,useState:function(){return em(Ms)},useDebugValue:sm,useDeferredValue:function(t,s){var i=Rt();return ht===null?rm(i,t,s):m0(i,ht.memoizedState,t,s)},useTransition:function(){var t=em(Ms)[0],s=Rt().memoizedState;return[typeof t=="boolean"?t:wi(t),s]},useSyncExternalStore:Ux,useId:x0,useHostTransitionStatus:am,useFormState:s0,useActionState:s0,useOptimistic:function(t,s){var i=Rt();return ht!==null?Xx(i,ht,t,s):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:y0},Zo=null,Si=0;function wc(t){var s=Si;return Si+=1,Zo===null&&(Zo=[]),Ox(Zo,t,s)}function _i(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Nc(t,s){throw s.$$typeof===y?Error(a(525)):(t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function S0(t){var s=t._init;return s(t._payload)}function _0(t){function s(W,X){if(t){var te=W.deletions;te===null?(W.deletions=[X],W.flags|=16):te.push(X)}}function i(W,X){if(!t)return null;for(;X!==null;)s(W,X),X=X.sibling;return null}function u(W){for(var X=new Map;W!==null;)W.key!==null?X.set(W.key,W):X.set(W.index,W),W=W.sibling;return X}function p(W,X){return W=Es(W,X),W.index=0,W.sibling=null,W}function v(W,X,te){return W.index=te,t?(te=W.alternate,te!==null?(te=te.index,te<X?(W.flags|=67108866,X):te):(W.flags|=67108866,X)):(W.flags|=1048576,X)}function T(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function z(W,X,te,de){return X===null||X.tag!==6?(X=kf(te,W.mode,de),X.return=W,X):(X=p(X,te),X.return=W,X)}function F(W,X,te,de){var Re=te.type;return Re===j?ue(W,X,te.props.children,de,te.key):X!==null&&(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&S0(Re)===X.type)?(X=p(X,te.props),_i(X,te),X.return=W,X):(X=rc(te.type,te.key,te.props,null,W.mode,de),_i(X,te),X.return=W,X)}function se(W,X,te,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==te.containerInfo||X.stateNode.implementation!==te.implementation?(X=Tf(te,W.mode,de),X.return=W,X):(X=p(X,te.children||[]),X.return=W,X)}function ue(W,X,te,de,Re){return X===null||X.tag!==7?(X=Zr(te,W.mode,de,Re),X.return=W,X):(X=p(X,te),X.return=W,X)}function he(W,X,te){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=kf(""+X,W.mode,te),X.return=W,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return te=rc(X.type,X.key,X.props,null,W.mode,te),_i(te,X),te.return=W,te;case b:return X=Tf(X,W.mode,te),X.return=W,X;case P:var de=X._init;return X=de(X._payload),he(W,X,te)}if(B(X)||G(X))return X=Zr(X,W.mode,te,null),X.return=W,X;if(typeof X.then=="function")return he(W,wc(X),te);if(X.$$typeof===E)return he(W,lc(W,X),te);Nc(W,X)}return null}function oe(W,X,te,de){var Re=X!==null?X.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Re!==null?null:z(W,X,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return te.key===Re?F(W,X,te,de):null;case b:return te.key===Re?se(W,X,te,de):null;case P:return Re=te._init,te=Re(te._payload),oe(W,X,te,de)}if(B(te)||G(te))return Re!==null?null:ue(W,X,te,de,null);if(typeof te.then=="function")return oe(W,X,wc(te),de);if(te.$$typeof===E)return oe(W,X,lc(W,te),de);Nc(W,te)}return null}function ae(W,X,te,de,Re){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(te)||null,z(X,W,""+de,Re);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return W=W.get(de.key===null?te:de.key)||null,F(X,W,de,Re);case b:return W=W.get(de.key===null?te:de.key)||null,se(X,W,de,Re);case P:var et=de._init;return de=et(de._payload),ae(W,X,te,de,Re)}if(B(de)||G(de))return W=W.get(te)||null,ue(X,W,de,Re,null);if(typeof de.then=="function")return ae(W,X,te,wc(de),Re);if(de.$$typeof===E)return ae(W,X,te,lc(X,de),Re);Nc(X,de)}return null}function Fe(W,X,te,de){for(var Re=null,et=null,Pe=X,qe=X=0,Vt=null;Pe!==null&&qe<te.length;qe++){Pe.index>qe?(Vt=Pe,Pe=null):Vt=Pe.sibling;var lt=oe(W,Pe,te[qe],de);if(lt===null){Pe===null&&(Pe=Vt);break}t&&Pe&&lt.alternate===null&&s(W,Pe),X=v(lt,X,qe),et===null?Re=lt:et.sibling=lt,et=lt,Pe=Vt}if(qe===te.length)return i(W,Pe),ct&&Kr(W,qe),Re;if(Pe===null){for(;qe<te.length;qe++)Pe=he(W,te[qe],de),Pe!==null&&(X=v(Pe,X,qe),et===null?Re=Pe:et.sibling=Pe,et=Pe);return ct&&Kr(W,qe),Re}for(Pe=u(Pe);qe<te.length;qe++)Vt=ae(Pe,W,qe,te[qe],de),Vt!==null&&(t&&Vt.alternate!==null&&Pe.delete(Vt.key===null?qe:Vt.key),X=v(Vt,X,qe),et===null?Re=Vt:et.sibling=Vt,et=Vt);return t&&Pe.forEach(function(Nr){return s(W,Nr)}),ct&&Kr(W,qe),Re}function Ve(W,X,te,de){if(te==null)throw Error(a(151));for(var Re=null,et=null,Pe=X,qe=X=0,Vt=null,lt=te.next();Pe!==null&&!lt.done;qe++,lt=te.next()){Pe.index>qe?(Vt=Pe,Pe=null):Vt=Pe.sibling;var Nr=oe(W,Pe,lt.value,de);if(Nr===null){Pe===null&&(Pe=Vt);break}t&&Pe&&Nr.alternate===null&&s(W,Pe),X=v(Nr,X,qe),et===null?Re=Nr:et.sibling=Nr,et=Nr,Pe=Vt}if(lt.done)return i(W,Pe),ct&&Kr(W,qe),Re;if(Pe===null){for(;!lt.done;qe++,lt=te.next())lt=he(W,lt.value,de),lt!==null&&(X=v(lt,X,qe),et===null?Re=lt:et.sibling=lt,et=lt);return ct&&Kr(W,qe),Re}for(Pe=u(Pe);!lt.done;qe++,lt=te.next())lt=ae(Pe,W,qe,lt.value,de),lt!==null&&(t&&lt.alternate!==null&&Pe.delete(lt.key===null?qe:lt.key),X=v(lt,X,qe),et===null?Re=lt:et.sibling=lt,et=lt);return t&&Pe.forEach(function(ZE){return s(W,ZE)}),ct&&Kr(W,qe),Re}function gt(W,X,te,de){if(typeof te=="object"&&te!==null&&te.type===j&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case x:e:{for(var Re=te.key;X!==null;){if(X.key===Re){if(Re=te.type,Re===j){if(X.tag===7){i(W,X.sibling),de=p(X,te.props.children),de.return=W,W=de;break e}}else if(X.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&S0(Re)===X.type){i(W,X.sibling),de=p(X,te.props),_i(de,te),de.return=W,W=de;break e}i(W,X);break}else s(W,X);X=X.sibling}te.type===j?(de=Zr(te.props.children,W.mode,de,te.key),de.return=W,W=de):(de=rc(te.type,te.key,te.props,null,W.mode,de),_i(de,te),de.return=W,W=de)}return T(W);case b:e:{for(Re=te.key;X!==null;){if(X.key===Re)if(X.tag===4&&X.stateNode.containerInfo===te.containerInfo&&X.stateNode.implementation===te.implementation){i(W,X.sibling),de=p(X,te.children||[]),de.return=W,W=de;break e}else{i(W,X);break}else s(W,X);X=X.sibling}de=Tf(te,W.mode,de),de.return=W,W=de}return T(W);case P:return Re=te._init,te=Re(te._payload),gt(W,X,te,de)}if(B(te))return Fe(W,X,te,de);if(G(te)){if(Re=G(te),typeof Re!="function")throw Error(a(150));return te=Re.call(te),Ve(W,X,te,de)}if(typeof te.then=="function")return gt(W,X,wc(te),de);if(te.$$typeof===E)return gt(W,X,lc(W,te),de);Nc(W,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,X!==null&&X.tag===6?(i(W,X.sibling),de=p(X,te),de.return=W,W=de):(i(W,X),de=kf(te,W.mode,de),de.return=W,W=de),T(W)):i(W,X)}return function(W,X,te,de){try{Si=0;var Re=gt(W,X,te,de);return Zo=null,Re}catch(Pe){if(Pe===pi||Pe===uc)throw Pe;var et=pn(29,Pe,null,W.mode);return et.lanes=de,et.return=W,et}finally{}}}var Wo=_0(!0),E0=_0(!1),Dn=H(null),ss=null;function ir(t){var s=t.alternate;V(It,It.current&1),V(Dn,t),ss===null&&(s===null||Fo.current!==null||s.memoizedState!==null)&&(ss=t)}function C0(t){if(t.tag===22){if(V(It,It.current),V(Dn,t),ss===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(ss=t)}}else lr()}function lr(){V(It,It.current),V(Dn,Dn.current)}function Rs(t){Y(Dn),ss===t&&(ss=null),Y(It)}var It=H(0);function jc(t){for(var s=t;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Km(i)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function lm(t,s,i,u){s=t.memoizedState,i=i(u,s),i=i==null?s:g({},s,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var cm={enqueueSetState:function(t,s,i){t=t._reactInternals;var u=vn(),p=rr(u);p.payload=s,i!=null&&(p.callback=i),s=or(t,p,u),s!==null&&(bn(s,t,u),xi(s,t,u))},enqueueReplaceState:function(t,s,i){t=t._reactInternals;var u=vn(),p=rr(u);p.tag=1,p.payload=s,i!=null&&(p.callback=i),s=or(t,p,u),s!==null&&(bn(s,t,u),xi(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var i=vn(),u=rr(i);u.tag=2,s!=null&&(u.callback=s),s=or(t,u,i),s!==null&&(bn(s,t,i),xi(s,t,i))}};function k0(t,s,i,u,p,v,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,T):s.prototype&&s.prototype.isPureReactComponent?!ii(i,u)||!ii(p,v):!0}function T0(t,s,i,u){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,u),s.state!==t&&cm.enqueueReplaceState(s,s.state,null)}function ro(t,s){var i=s;if("ref"in s){i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}if(t=t.defaultProps){i===s&&(i=g({},i));for(var p in t)i[p]===void 0&&(i[p]=t[p])}return i}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function A0(t){Sc(t)}function M0(t){console.error(t)}function R0(t){Sc(t)}function _c(t,s){try{var i=t.onUncaughtError;i(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function D0(t,s,i){try{var u=t.onCaughtError;u(i.value,{componentStack:i.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function um(t,s,i){return i=rr(i),i.tag=3,i.payload={element:null},i.callback=function(){_c(t,s)},i}function O0(t){return t=rr(t),t.tag=3,t}function z0(t,s,i,u){var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){D0(s,i,u)}}var T=i.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){D0(s,i,u),typeof p!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var z=u.stack;this.componentDidCatch(u.value,{componentStack:z!==null?z:""})})}function Z_(t,s,i,u,p){if(i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=i.alternate,s!==null&&fi(s,i,p,!0),i=Dn.current,i!==null){switch(i.tag){case 13:return ss===null?Om():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=p,u===Hf?i.flags|=16384:(s=i.updateQueue,s===null?i.updateQueue=new Set([u]):s.add(u),Im(t,u,p)),!1;case 22:return i.flags|=65536,u===Hf?i.flags|=16384:(s=i.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},i.updateQueue=s):(i=s.retryQueue,i===null?s.retryQueue=new Set([u]):i.add(u)),Im(t,u,p)),!1}throw Error(a(435,i.tag))}return Im(t,u,p),Om(),!1}if(ct)return s=Dn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Rf&&(t=Error(a(422),{cause:u}),di(Tn(t,i)))):(u!==Rf&&(s=Error(a(423),{cause:u}),di(Tn(s,i))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=Tn(u,i),p=um(t.stateNode,u,p),Uf(t,p),_t!==4&&(_t=2)),!1;var v=Error(a(520),{cause:u});if(v=Tn(v,i),Ri===null?Ri=[v]:Ri.push(v),_t!==4&&(_t=2),s===null)return!0;u=Tn(u,i),i=s;do{switch(i.tag){case 3:return i.flags|=65536,t=p&-p,i.lanes|=t,t=um(i.stateNode,u,t),Uf(i,t),!1;case 1:if(s=i.type,v=i.stateNode,(i.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hr===null||!hr.has(v))))return i.flags|=65536,p&=-p,i.lanes|=p,p=O0(p),z0(p,t,i,u),Uf(i,p),!1}i=i.return}while(i!==null);return!1}var I0=Error(a(461)),Bt=!1;function Yt(t,s,i,u){s.child=t===null?E0(s,null,i,u):Wo(s,t.child,i,u)}function L0(t,s,i,u,p){i=i.render;var v=s.ref;if("ref"in u){var T={};for(var z in u)z!=="ref"&&(T[z]=u[z])}else T=u;return to(s),u=Gf(t,s,i,T,v,p),z=Xf(),t!==null&&!Bt?(Zf(t,s,p),Ds(t,s,p)):(ct&&z&&Af(s),s.flags|=1,Yt(t,s,u,p),s.child)}function $0(t,s,i,u,p){if(t===null){var v=i.type;return typeof v=="function"&&!Cf(v)&&v.defaultProps===void 0&&i.compare===null?(s.tag=15,s.type=v,H0(t,s,v,u,p)):(t=rc(i.type,null,u,s,s.mode,p),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,!ym(t,p)){var T=v.memoizedProps;if(i=i.compare,i=i!==null?i:ii,i(T,u)&&t.ref===s.ref)return Ds(t,s,p)}return s.flags|=1,t=Es(v,u),t.ref=s.ref,t.return=s,s.child=t}function H0(t,s,i,u,p){if(t!==null){var v=t.memoizedProps;if(ii(v,u)&&t.ref===s.ref)if(Bt=!1,s.pendingProps=u=v,ym(t,p))(t.flags&131072)!==0&&(Bt=!0);else return s.lanes=t.lanes,Ds(t,s,p)}return dm(t,s,i,u,p)}function P0(t,s,i){var u=s.pendingProps,p=u.children,v=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=v!==null?v.baseLanes|i:i,t!==null){for(p=s.child=t.child,v=0;p!==null;)v=v|p.lanes|p.childLanes,p=p.sibling;s.childLanes=v&~u}else s.childLanes=0,s.child=null;return B0(t,s,u,i)}if((i&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(s,v!==null?v.cachePool:null),v!==null?Hx(s,v):qf(),C0(s);else return s.lanes=s.childLanes=536870912,B0(t,s,v!==null?v.baseLanes|i:i,i)}else v!==null?(cc(s,v.cachePool),Hx(s,v),lr(),s.memoizedState=null):(t!==null&&cc(s,null),qf(),lr());return Yt(t,s,p,i),s.child}function B0(t,s,i,u){var p=$f();return p=p===null?null:{parent:zt._currentValue,pool:p},s.memoizedState={baseLanes:i,cachePool:p},t!==null&&cc(s,null),qf(),C0(s),t!==null&&fi(t,s,u,!0),null}function Ec(t,s){var i=s.ref;if(i===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(s.flags|=4194816)}}function dm(t,s,i,u,p){return to(s),i=Gf(t,s,i,u,void 0,p),u=Xf(),t!==null&&!Bt?(Zf(t,s,p),Ds(t,s,p)):(ct&&u&&Af(s),s.flags|=1,Yt(t,s,i,p),s.child)}function U0(t,s,i,u,p,v){return to(s),s.updateQueue=null,i=Bx(s,u,i,p),Px(t),u=Xf(),t!==null&&!Bt?(Zf(t,s,v),Ds(t,s,v)):(ct&&u&&Af(s),s.flags|=1,Yt(t,s,i,v),s.child)}function V0(t,s,i,u,p){if(to(s),s.stateNode===null){var v=Po,T=i.contextType;typeof T=="object"&&T!==null&&(v=Qt(T)),v=new i(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=cm,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},Pf(s),T=i.contextType,v.context=typeof T=="object"&&T!==null?Qt(T):Po,v.state=s.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(lm(s,i,T,u),v.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&cm.enqueueReplaceState(v,v.state,null),vi(s,u,v,p),yi(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(t===null){v=s.stateNode;var z=s.memoizedProps,F=ro(i,z);v.props=F;var se=v.context,ue=i.contextType;T=Po,typeof ue=="object"&&ue!==null&&(T=Qt(ue));var he=i.getDerivedStateFromProps;ue=typeof he=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||se!==T)&&T0(s,v,u,T),sr=!1;var oe=s.memoizedState;v.state=oe,vi(s,u,v,p),yi(),se=s.memoizedState,z||oe!==se||sr?(typeof he=="function"&&(lm(s,i,he,u),se=s.memoizedState),(F=sr||k0(s,i,F,u,oe,se,T))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=se),v.props=u,v.state=se,v.context=T,u=F):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Bf(t,s),T=s.memoizedProps,ue=ro(i,T),v.props=ue,he=s.pendingProps,oe=v.context,se=i.contextType,F=Po,typeof se=="object"&&se!==null&&(F=Qt(se)),z=i.getDerivedStateFromProps,(se=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==he||oe!==F)&&T0(s,v,u,F),sr=!1,oe=s.memoizedState,v.state=oe,vi(s,u,v,p),yi();var ae=s.memoizedState;T!==he||oe!==ae||sr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof z=="function"&&(lm(s,i,z,u),ae=s.memoizedState),(ue=sr||k0(s,i,ue,u,oe,ae,F)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(se||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,F),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,F)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ae),v.props=u,v.state=ae,v.context=F,u=ue):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&oe===t.memoizedState||(s.flags|=1024),u=!1)}return v=u,Ec(t,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,i=u&&typeof i.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,t!==null&&u?(s.child=Wo(s,t.child,null,p),s.child=Wo(s,null,i,p)):Yt(t,s,i,p),s.memoizedState=v.state,t=s.child):t=Ds(t,s,p),t}function q0(t,s,i,u){return ui(),s.flags|=256,Yt(t,s,i,u),s.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(t){return{baseLanes:t,cachePool:Mx()}}function hm(t,s,i){return t=t!==null?t.childLanes&~i:0,s&&(t|=On),t}function F0(t,s,i){var u=s.pendingProps,p=!1,v=(s.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),T&&(p=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,t===null){if(ct){if(p?ir(s):lr(),ct){var z=St,F;if(F=z){e:{for(F=z,z=ns;F.nodeType!==8;){if(!z){z=null;break e}if(F=qn(F.nextSibling),F===null){z=null;break e}}z=F}z!==null?(s.memoizedState={dehydrated:z,treeContext:Wr!==null?{id:Cs,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},F=pn(18,null,null,0),F.stateNode=z,F.return=s,s.child=F,tn=s,St=null,F=!0):F=!1}F||Jr(s)}if(z=s.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return Km(z)?s.lanes=32:s.lanes=536870912,null;Rs(s)}return z=u.children,u=u.fallback,p?(lr(),p=s.mode,z=Cc({mode:"hidden",children:z},p),u=Zr(u,p,i,null),z.return=s,u.return=s,z.sibling=u,s.child=z,p=s.child,p.memoizedState=mm(i),p.childLanes=hm(t,T,i),s.memoizedState=fm,u):(ir(s),pm(s,z))}if(F=t.memoizedState,F!==null&&(z=F.dehydrated,z!==null)){if(v)s.flags&256?(ir(s),s.flags&=-257,s=gm(t,s,i)):s.memoizedState!==null?(lr(),s.child=t.child,s.flags|=128,s=null):(lr(),p=u.fallback,z=s.mode,u=Cc({mode:"visible",children:u.children},z),p=Zr(p,z,i,null),p.flags|=2,u.return=s,p.return=s,u.sibling=p,s.child=u,Wo(s,t.child,null,i),u=s.child,u.memoizedState=mm(i),u.childLanes=hm(t,T,i),s.memoizedState=fm,s=p);else if(ir(s),Km(z)){if(T=z.nextSibling&&z.nextSibling.dataset,T)var se=T.dgst;T=se,u=Error(a(419)),u.stack="",u.digest=T,di({value:u,source:null,stack:null}),s=gm(t,s,i)}else if(Bt||fi(t,s,i,!1),T=(i&t.childLanes)!==0,Bt||T){if(T=vt,T!==null&&(u=i&-i,u=(u&42)!==0?1:mn(u),u=(u&(T.suspendedLanes|i))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,Ho(t,u),bn(T,t,u),I0;z.data==="$?"||Om(),s=gm(t,s,i)}else z.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=F.treeContext,St=qn(z.nextSibling),tn=s,ct=!0,Qr=null,ns=!1,t!==null&&(Mn[Rn++]=Cs,Mn[Rn++]=ks,Mn[Rn++]=Wr,Cs=t.id,ks=t.overflow,Wr=s),s=pm(s,u.children),s.flags|=4096);return s}return p?(lr(),p=u.fallback,z=s.mode,F=t.child,se=F.sibling,u=Es(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,se!==null?p=Es(se,p):(p=Zr(p,z,i,null),p.flags|=2),p.return=s,u.return=s,u.sibling=p,s.child=u,u=p,p=s.child,z=t.child.memoizedState,z===null?z=mm(i):(F=z.cachePool,F!==null?(se=zt._currentValue,F=F.parent!==se?{parent:se,pool:se}:F):F=Mx(),z={baseLanes:z.baseLanes|i,cachePool:F}),p.memoizedState=z,p.childLanes=hm(t,T,i),s.memoizedState=fm,u):(ir(s),i=t.child,t=i.sibling,i=Es(i,{mode:"visible",children:u.children}),i.return=s,i.sibling=null,t!==null&&(T=s.deletions,T===null?(s.deletions=[t],s.flags|=16):T.push(t)),s.child=i,s.memoizedState=null,i)}function pm(t,s){return s=Cc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Cc(t,s){return t=pn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gm(t,s,i){return Wo(s,t.child,null,i),t=pm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Y0(t,s,i){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s),Of(t.return,s,i)}function xm(t,s,i,u,p){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:i,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=i,v.tailMode=p)}function G0(t,s,i){var u=s.pendingProps,p=u.revealOrder,v=u.tail;if(Yt(t,s,u.children,i),u=It.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y0(t,i,s);else if(t.tag===19)Y0(t,i,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(V(It,u),p){case"forwards":for(i=s.child,p=null;i!==null;)t=i.alternate,t!==null&&jc(t)===null&&(p=i),i=i.sibling;i=p,i===null?(p=s.child,s.child=null):(p=i.sibling,i.sibling=null),xm(s,!1,p,i,v);break;case"backwards":for(i=null,p=s.child,s.child=null;p!==null;){if(t=p.alternate,t!==null&&jc(t)===null){s.child=p;break}t=p.sibling,p.sibling=i,i=p,p=t}xm(s,!0,i,null,v);break;case"together":xm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ds(t,s,i){if(t!==null&&(s.dependencies=t.dependencies),mr|=s.lanes,(i&s.childLanes)===0)if(t!==null){if(fi(t,s,i,!1),(i&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,i=Es(t,t.pendingProps),s.child=i,i.return=s;t.sibling!==null;)t=t.sibling,i=i.sibling=Es(t,t.pendingProps),i.return=s;i.sibling=null}return s.child}function ym(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function W_(t,s,i){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),nr(s,zt,t.memoizedState.cache),ui();break;case 27:case 5:Ee(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:nr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(s),s.flags|=128,null):(i&s.child.childLanes)!==0?F0(t,s,i):(ir(s),t=Ds(t,s,i),t!==null?t.sibling:null);ir(s);break;case 19:var p=(t.flags&128)!==0;if(u=(i&s.childLanes)!==0,u||(fi(t,s,i,!1),u=(i&s.childLanes)!==0),p){if(u)return G0(t,s,i);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),V(It,It.current),u)break;return null;case 22:case 23:return s.lanes=0,P0(t,s,i);case 24:nr(s,zt,t.memoizedState.cache)}return Ds(t,s,i)}function X0(t,s,i){if(t!==null)if(t.memoizedProps!==s.pendingProps)Bt=!0;else{if(!ym(t,i)&&(s.flags&128)===0)return Bt=!1,W_(t,s,i);Bt=(t.flags&131072)!==0}else Bt=!1,ct&&(s.flags&1048576)!==0&&Sx(s,ac,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var u=s.elementType,p=u._init;if(u=p(u._payload),s.type=u,typeof u=="function")Cf(u)?(t=ro(u,t),s.tag=1,s=V0(null,s,u,t,i)):(s.tag=0,s=dm(null,s,u,t,i));else{if(u!=null){if(p=u.$$typeof,p===M){s.tag=11,s=L0(null,s,u,t,i);break e}else if(p===O){s.tag=14,s=$0(null,s,u,t,i);break e}}throw s=U(u)||u,Error(a(306,s,""))}}return s;case 0:return dm(t,s,s.type,s.pendingProps,i);case 1:return u=s.type,p=ro(u,s.pendingProps),V0(t,s,u,p,i);case 3:e:{if(ie(s,s.stateNode.containerInfo),t===null)throw Error(a(387));u=s.pendingProps;var v=s.memoizedState;p=v.element,Bf(t,s),vi(s,u,null,i);var T=s.memoizedState;if(u=T.cache,nr(s,zt,u),u!==v.cache&&zf(s,[zt],i,!0),yi(),u=T.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=q0(t,s,u,i);break e}else if(u!==p){p=Tn(Error(a(424)),s),di(p),s=q0(t,s,u,i);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=qn(t.firstChild),tn=s,ct=!0,Qr=null,ns=!0,i=E0(s,null,u,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ui(),u===p){s=Ds(t,s,i);break e}Yt(t,s,u,i)}s=s.child}return s;case 26:return Ec(t,s),t===null?(i=Qy(s.type,null,s.pendingProps,null))?s.memoizedState=i:ct||(i=s.type,t=s.pendingProps,u=Bc(fe.current).createElement(i),u[Pt]=s,u[Kt]=t,Xt(u,i,t),At(u),s.stateNode=u):s.memoizedState=Qy(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ee(s),t===null&&ct&&(u=s.stateNode=Zy(s.type,s.pendingProps,fe.current),tn=s,ns=!0,p=St,xr(s.type)?(Qm=p,St=qn(u.firstChild)):St=p),Yt(t,s,s.pendingProps.children,i),Ec(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ct&&((p=u=St)&&(u=SE(u,s.type,s.pendingProps,ns),u!==null?(s.stateNode=u,tn=s,St=qn(u.firstChild),ns=!1,p=!0):p=!1),p||Jr(s)),Ee(s),p=s.type,v=s.pendingProps,T=t!==null?t.memoizedProps:null,u=v.children,Xm(p,v)?u=null:T!==null&&Xm(p,T)&&(s.flags|=32),s.memoizedState!==null&&(p=Gf(t,s,U_,null,null,i),Bi._currentValue=p),Ec(t,s),Yt(t,s,u,i),s.child;case 6:return t===null&&ct&&((t=i=St)&&(i=_E(i,s.pendingProps,ns),i!==null?(s.stateNode=i,tn=s,St=null,t=!0):t=!1),t||Jr(s)),null;case 13:return F0(t,s,i);case 4:return ie(s,s.stateNode.containerInfo),u=s.pendingProps,t===null?s.child=Wo(s,null,u,i):Yt(t,s,u,i),s.child;case 11:return L0(t,s,s.type,s.pendingProps,i);case 7:return Yt(t,s,s.pendingProps,i),s.child;case 8:return Yt(t,s,s.pendingProps.children,i),s.child;case 12:return Yt(t,s,s.pendingProps.children,i),s.child;case 10:return u=s.pendingProps,nr(s,s.type,u.value),Yt(t,s,u.children,i),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,to(s),p=Qt(p),u=u(p),s.flags|=1,Yt(t,s,u,i),s.child;case 14:return $0(t,s,s.type,s.pendingProps,i);case 15:return H0(t,s,s.type,s.pendingProps,i);case 19:return G0(t,s,i);case 31:return u=s.pendingProps,i=s.mode,u={mode:u.mode,children:u.children},t===null?(i=Cc(u,i),i.ref=s.ref,s.child=i,i.return=s,s=i):(i=Es(t.child,u),i.ref=s.ref,s.child=i,i.return=s,s=i),s;case 22:return P0(t,s,i);case 24:return to(s),u=Qt(zt),t===null?(p=$f(),p===null&&(p=vt,v=If(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=i),p=v),s.memoizedState={parent:u,cache:p},Pf(s),nr(s,zt,p)):((t.lanes&i)!==0&&(Bf(t,s),vi(s,null,null,i),yi()),p=t.memoizedState,v=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),nr(s,zt,u)):(u=v.cache,nr(s,zt,u),u!==p.cache&&zf(s,[zt],i,!0))),Yt(t,s,s.pendingProps.children,i),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Os(t){t.flags|=4}function Z0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sv(s)){if(s=Dn.current,s!==null&&((it&4194048)===it?ss!==null:(it&62914560)!==it&&(it&536870912)===0||s!==ss))throw gi=Hf,Rx;t.flags|=8192}}function kc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?He():536870912,t.lanes|=s,ea|=s)}function Ei(t,s){if(!ct)switch(t.tailMode){case"hidden":s=t.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function jt(t){var s=t.alternate!==null&&t.alternate.child===t.child,i=0,u=0;if(s)for(var p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)i|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=i,s}function K_(t,s,i){var u=s.pendingProps;switch(Mf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return jt(s),null;case 3:return i=s.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),As(zt),ge(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ci(s)?Os(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cx())),jt(s),null;case 26:return i=s.memoizedState,t===null?(Os(s),i!==null?(jt(s),Z0(s,i)):(jt(s),s.flags&=-16777217)):i?i!==t.memoizedState?(Os(s),jt(s),Z0(s,i)):(jt(s),s.flags&=-16777217):(t.memoizedProps!==u&&Os(s),jt(s),s.flags&=-16777217),null;case 27:Ne(s),i=fe.current;var p=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Os(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return jt(s),null}t=J.current,ci(s)?_x(s):(t=Zy(p,u,i),s.stateNode=t,Os(s))}return jt(s),null;case 5:if(Ne(s),i=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==u&&Os(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return jt(s),null}if(t=J.current,ci(s))_x(s);else{switch(p=Bc(fe.current),t){case 1:t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=p.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=p.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?p.createElement(i,{is:u.is}):p.createElement(i)}}t[Pt]=s,t[Kt]=u;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)t.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=t;e:switch(Xt(t,i,u),i){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Os(s)}}return jt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==u&&Os(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(t=fe.current,ci(s)){if(t=s.stateNode,i=s.memoizedProps,u=null,p=tn,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[Pt]=s,t=!!(t.nodeValue===i||u!==null&&u.suppressHydrationWarning===!0||Uy(t.nodeValue,i)),t||Jr(s)}else t=Bc(t).createTextNode(u),t[Pt]=s,s.stateNode=t}return jt(s),null;case 13:if(u=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=ci(s),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Pt]=s}else ui(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;jt(s),p=!1}else p=Cx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Rs(s),s):(Rs(s),null)}if(Rs(s),(s.flags&128)!==0)return s.lanes=i,s;if(i=u!==null,t=t!==null&&t.memoizedState!==null,i){u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var v=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)}return i!==t&&i&&(s.child.flags|=8192),kc(s,s.updateQueue),jt(s),null;case 4:return ge(),t===null&&Vm(s.stateNode.containerInfo),jt(s),null;case 10:return As(s.type),jt(s),null;case 19:if(Y(It),p=s.memoizedState,p===null)return jt(s),null;if(u=(s.flags&128)!==0,v=p.rendering,v===null)if(u)Ei(p,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(v=jc(t),v!==null){for(s.flags|=128,Ei(p,!1),t=v.updateQueue,s.updateQueue=t,kc(s,t),s.subtreeFlags=0,t=i,i=s.child;i!==null;)jx(i,t),i=i.sibling;return V(It,It.current&1|2),s.child}t=t.sibling}p.tail!==null&&be()>Mc&&(s.flags|=128,u=!0,Ei(p,!1),s.lanes=4194304)}else{if(!u)if(t=jc(v),t!==null){if(s.flags|=128,u=!0,t=t.updateQueue,s.updateQueue=t,kc(s,t),Ei(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!ct)return jt(s),null}else 2*be()-p.renderingStartTime>Mc&&i!==536870912&&(s.flags|=128,u=!0,Ei(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(t=p.last,t!==null?t.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=be(),s.sibling=null,t=It.current,V(It,u?t&1|2:t&1),s):(jt(s),null);case 22:case 23:return Rs(s),Ff(),u=s.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(i&536870912)!==0&&(s.flags&128)===0&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),i=s.updateQueue,i!==null&&kc(s,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==i&&(s.flags|=2048),t!==null&&Y(no),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),As(zt),jt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Q_(t,s){switch(Mf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return As(zt),ge(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 13:if(Rs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ui()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(It),null;case 4:return ge(),null;case 10:return As(s.type),null;case 22:case 23:return Rs(s),Ff(),t!==null&&Y(no),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return As(zt),null;case 25:return null;default:return null}}function W0(t,s){switch(Mf(s),s.tag){case 3:As(zt),ge();break;case 26:case 27:case 5:Ne(s);break;case 4:ge();break;case 13:Rs(s);break;case 19:Y(It);break;case 10:As(s.type);break;case 22:case 23:Rs(s),Ff(),t!==null&&Y(no);break;case 24:As(zt)}}function Ci(t,s){try{var i=s.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var p=u.next;i=p;do{if((i.tag&t)===t){u=void 0;var v=i.create,T=i.inst;u=v(),T.destroy=u}i=i.next}while(i!==p)}}catch(z){xt(s,s.return,z)}}function cr(t,s,i){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var T=u.inst,z=T.destroy;if(z!==void 0){T.destroy=void 0,p=s;var F=i,se=z;try{se()}catch(ue){xt(p,F,ue)}}}u=u.next}while(u!==v)}}catch(ue){xt(s,s.return,ue)}}function K0(t){var s=t.updateQueue;if(s!==null){var i=t.stateNode;try{$x(s,i)}catch(u){xt(t,t.return,u)}}}function Q0(t,s,i){i.props=ro(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(u){xt(t,s,u)}}function ki(t,s){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof i=="function"?t.refCleanup=i(u):i.current=u}}catch(p){xt(t,s,p)}}function rs(t,s){var i=t.ref,u=t.refCleanup;if(i!==null)if(typeof u=="function")try{u()}catch(p){xt(t,s,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(p){xt(t,s,p)}else i.current=null}function J0(t){var s=t.type,i=t.memoizedProps,u=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":i.autoFocus&&u.focus();break e;case"img":i.src?u.src=i.src:i.srcSet&&(u.srcset=i.srcSet)}}catch(p){xt(t,t.return,p)}}function vm(t,s,i){try{var u=t.stateNode;vE(u,t.type,i,s),u[Kt]=s}catch(p){xt(t,t.return,p)}}function ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function bm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wm(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,s):(s=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,s.appendChild(t),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=Pc));else if(u!==4&&(u===27&&xr(t.type)&&(i=t.stateNode,s=null),t=t.child,t!==null))for(wm(t,s,i),t=t.sibling;t!==null;)wm(t,s,i),t=t.sibling}function Tc(t,s,i){var u=t.tag;if(u===5||u===6)t=t.stateNode,s?i.insertBefore(t,s):i.appendChild(t);else if(u!==4&&(u===27&&xr(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Tc(t,s,i),t=t.sibling;t!==null;)Tc(t,s,i),t=t.sibling}function ty(t){var s=t.stateNode,i=t.memoizedProps;try{for(var u=t.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Xt(s,u,i),s[Pt]=t,s[Kt]=i}catch(v){xt(t,t.return,v)}}var zs=!1,Tt=!1,Nm=!1,ny=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function J_(t,s){if(t=t.containerInfo,Ym=Gc,t=mx(t),bf(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var u=i.getSelection&&i.getSelection();if(u&&u.rangeCount!==0){i=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{i.nodeType,v.nodeType}catch{i=null;break e}var T=0,z=-1,F=-1,se=0,ue=0,he=t,oe=null;t:for(;;){for(var ae;he!==i||p!==0&&he.nodeType!==3||(z=T+p),he!==v||u!==0&&he.nodeType!==3||(F=T+u),he.nodeType===3&&(T+=he.nodeValue.length),(ae=he.firstChild)!==null;)oe=he,he=ae;for(;;){if(he===t)break t;if(oe===i&&++se===p&&(z=T),oe===v&&++ue===u&&(F=T),(ae=he.nextSibling)!==null)break;he=oe,oe=he.parentNode}he=ae}i=z===-1||F===-1?null:{start:z,end:F}}else i=null}i=i||{start:0,end:0}}else i=null;for(Gm={focusedElem:t,selectionRange:i},Gc=!1,Ut=s;Ut!==null;)if(s=Ut,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Ut=t;else for(;Ut!==null;){switch(s=Ut,v=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,i=s,p=v.memoizedProps,v=v.memoizedState,u=i.stateNode;try{var Fe=ro(i.type,p,i.elementType===i.type);t=u.getSnapshotBeforeUpdate(Fe,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){xt(i,i.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,i=t.nodeType,i===9)Wm(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=s.sibling,t!==null){t.return=s.return,Ut=t;break}Ut=s.return}}function sy(t,s,i){var u=i.flags;switch(i.tag){case 0:case 11:case 15:ur(t,i),u&4&&Ci(5,i);break;case 1:if(ur(t,i),u&4)if(t=i.stateNode,s===null)try{t.componentDidMount()}catch(T){xt(i,i.return,T)}else{var p=ro(i.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(p,s,t.__reactInternalSnapshotBeforeUpdate)}catch(T){xt(i,i.return,T)}}u&64&&K0(i),u&512&&ki(i,i.return);break;case 3:if(ur(t,i),u&64&&(t=i.updateQueue,t!==null)){if(s=null,i.child!==null)switch(i.child.tag){case 27:case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}try{$x(t,s)}catch(T){xt(i,i.return,T)}}break;case 27:s===null&&u&4&&ty(i);case 26:case 5:ur(t,i),s===null&&u&4&&J0(i),u&512&&ki(i,i.return);break;case 12:ur(t,i);break;case 13:ur(t,i),u&4&&ay(t,i),u&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=lE.bind(null,i),EE(t,i))));break;case 22:if(u=i.memoizedState!==null||zs,!u){s=s!==null&&s.memoizedState!==null||Tt,p=zs;var v=Tt;zs=u,(Tt=s)&&!v?dr(t,i,(i.subtreeFlags&8772)!==0):ur(t,i),zs=p,Tt=v}break;case 30:break;default:ur(t,i)}}function ry(t){var s=t.alternate;s!==null&&(t.alternate=null,ry(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ga(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var bt=null,un=!1;function Is(t,s,i){for(i=i.child;i!==null;)oy(t,s,i),i=i.sibling}function oy(t,s,i){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(_e,i)}catch{}switch(i.tag){case 26:Tt||rs(i,s),Is(t,s,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Tt||rs(i,s);var u=bt,p=un;xr(i.type)&&(bt=i.stateNode,un=!1),Is(t,s,i),Li(i.stateNode),bt=u,un=p;break;case 5:Tt||rs(i,s);case 6:if(u=bt,p=un,bt=null,Is(t,s,i),bt=u,un=p,bt!==null)if(un)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(i.stateNode)}catch(v){xt(i,s,v)}else try{bt.removeChild(i.stateNode)}catch(v){xt(i,s,v)}break;case 18:bt!==null&&(un?(t=bt,Gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Fi(t)):Gy(bt,i.stateNode));break;case 4:u=bt,p=un,bt=i.stateNode.containerInfo,un=!0,Is(t,s,i),bt=u,un=p;break;case 0:case 11:case 14:case 15:Tt||cr(2,i,s),Tt||cr(4,i,s),Is(t,s,i);break;case 1:Tt||(rs(i,s),u=i.stateNode,typeof u.componentWillUnmount=="function"&&Q0(i,s,u)),Is(t,s,i);break;case 21:Is(t,s,i);break;case 22:Tt=(u=Tt)||i.memoizedState!==null,Is(t,s,i),Tt=u;break;default:Is(t,s,i)}}function ay(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fi(t)}catch(i){xt(s,s.return,i)}}function eE(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new ny),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new ny),s;default:throw Error(a(435,t.tag))}}function jm(t,s){var i=eE(t);s.forEach(function(u){var p=cE.bind(null,t,u);i.has(u)||(i.add(u),u.then(p,p))})}function gn(t,s){var i=s.deletions;if(i!==null)for(var u=0;u<i.length;u++){var p=i[u],v=t,T=s,z=T;e:for(;z!==null;){switch(z.tag){case 27:if(xr(z.type)){bt=z.stateNode,un=!1;break e}break;case 5:bt=z.stateNode,un=!1;break e;case 3:case 4:bt=z.stateNode.containerInfo,un=!0;break e}z=z.return}if(bt===null)throw Error(a(160));oy(v,T,p),bt=null,un=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)iy(s,t),s=s.sibling}var Vn=null;function iy(t,s){var i=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(s,t),xn(t),u&4&&(cr(3,t,t.return),Ci(3,t),cr(5,t,t.return));break;case 1:gn(s,t),xn(t),u&512&&(Tt||i===null||rs(i,i.return)),u&64&&zs&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?u:i.concat(u))));break;case 26:var p=Vn;if(gn(s,t),xn(t),u&512&&(Tt||i===null||rs(i,i.return)),u&4){var v=i!==null?i.memoizedState:null;if(u=t.memoizedState,i===null)if(u===null)if(t.stateNode===null){e:{u=t.type,i=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[qr]||v[Pt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),Xt(v,u,i),v[Pt]=t,At(v),u=v;break e;case"link":var T=tv("link","href",p).get(u+(i.href||""));if(T){for(var z=0;z<T.length;z++)if(v=T[z],v.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&v.getAttribute("rel")===(i.rel==null?null:i.rel)&&v.getAttribute("title")===(i.title==null?null:i.title)&&v.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){T.splice(z,1);break t}}v=p.createElement(u),Xt(v,u,i),p.head.appendChild(v);break;case"meta":if(T=tv("meta","content",p).get(u+(i.content||""))){for(z=0;z<T.length;z++)if(v=T[z],v.getAttribute("content")===(i.content==null?null:""+i.content)&&v.getAttribute("name")===(i.name==null?null:i.name)&&v.getAttribute("property")===(i.property==null?null:i.property)&&v.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&v.getAttribute("charset")===(i.charSet==null?null:i.charSet)){T.splice(z,1);break t}}v=p.createElement(u),Xt(v,u,i),p.head.appendChild(v);break;default:throw Error(a(468,u))}v[Pt]=t,At(v),u=v}t.stateNode=u}else nv(p,t.type,t.stateNode);else t.stateNode=ev(p,u,t.memoizedProps);else v!==u?(v===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):v.count--,u===null?nv(p,t.type,t.stateNode):ev(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&vm(t,t.memoizedProps,i.memoizedProps)}break;case 27:gn(s,t),xn(t),u&512&&(Tt||i===null||rs(i,i.return)),i!==null&&u&4&&vm(t,t.memoizedProps,i.memoizedProps);break;case 5:if(gn(s,t),xn(t),u&512&&(Tt||i===null||rs(i,i.return)),t.flags&32){p=t.stateNode;try{Ro(p,"")}catch(ae){xt(t,t.return,ae)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,vm(t,p,i!==null?i.memoizedProps:p)),u&1024&&(Nm=!0);break;case 6:if(gn(s,t),xn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,i=t.stateNode;try{i.nodeValue=u}catch(ae){xt(t,t.return,ae)}}break;case 3:if(qc=null,p=Vn,Vn=Uc(s.containerInfo),gn(s,t),Vn=p,xn(t),u&4&&i!==null&&i.memoizedState.isDehydrated)try{Fi(s.containerInfo)}catch(ae){xt(t,t.return,ae)}Nm&&(Nm=!1,ly(t));break;case 4:u=Vn,Vn=Uc(t.stateNode.containerInfo),gn(s,t),xn(t),Vn=u;break;case 12:gn(s,t),xn(t);break;case 13:gn(s,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Tm=be()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,jm(t,u)));break;case 22:p=t.memoizedState!==null;var F=i!==null&&i.memoizedState!==null,se=zs,ue=Tt;if(zs=se||p,Tt=ue||F,gn(s,t),Tt=ue,zs=se,xn(t),u&8192)e:for(s=t.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(i===null||F||zs||Tt||oo(t)),i=null,s=t;;){if(s.tag===5||s.tag===26){if(i===null){F=i=s;try{if(v=F.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=F.stateNode;var he=F.memoizedProps.style,oe=he!=null&&he.hasOwnProperty("display")?he.display:null;z.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){xt(F,F.return,ae)}}}else if(s.tag===6){if(i===null){F=s;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(ae){xt(F,F.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;i===s&&(i=null),s=s.return}i===s&&(i=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=t.updateQueue,u!==null&&(i=u.retryQueue,i!==null&&(u.retryQueue=null,jm(t,i))));break;case 19:gn(s,t),xn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,jm(t,u)));break;case 30:break;case 21:break;default:gn(s,t),xn(t)}}function xn(t){var s=t.flags;if(s&2){try{for(var i,u=t.return;u!==null;){if(ey(u)){i=u;break}u=u.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var p=i.stateNode,v=bm(t);Tc(t,v,p);break;case 5:var T=i.stateNode;i.flags&32&&(Ro(T,""),i.flags&=-33);var z=bm(t);Tc(t,z,T);break;case 3:case 4:var F=i.stateNode.containerInfo,se=bm(t);wm(t,se,F);break;default:throw Error(a(161))}}catch(ue){xt(t,t.return,ue)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;ly(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ur(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)sy(t,s.alternate,s),s=s.sibling}function oo(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:cr(4,s,s.return),oo(s);break;case 1:rs(s,s.return);var i=s.stateNode;typeof i.componentWillUnmount=="function"&&Q0(s,s.return,i),oo(s);break;case 27:Li(s.stateNode);case 26:case 5:rs(s,s.return),oo(s);break;case 22:s.memoizedState===null&&oo(s);break;case 30:oo(s);break;default:oo(s)}t=t.sibling}}function dr(t,s,i){for(i=i&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=t,v=s,T=v.flags;switch(v.tag){case 0:case 11:case 15:dr(p,v,i),Ci(4,v);break;case 1:if(dr(p,v,i),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(se){xt(u,u.return,se)}if(u=v,p=u.updateQueue,p!==null){var z=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)Lx(F[p],z)}catch(se){xt(u,u.return,se)}}i&&T&64&&K0(v),ki(v,v.return);break;case 27:ty(v);case 26:case 5:dr(p,v,i),i&&u===null&&T&4&&J0(v),ki(v,v.return);break;case 12:dr(p,v,i);break;case 13:dr(p,v,i),i&&T&4&&ay(p,v);break;case 22:v.memoizedState===null&&dr(p,v,i),ki(v,v.return);break;case 30:break;default:dr(p,v,i)}s=s.sibling}}function Sm(t,s){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&mi(i))}function _m(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&mi(t))}function os(t,s,i,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cy(t,s,i,u),s=s.sibling}function cy(t,s,i,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:os(t,s,i,u),p&2048&&Ci(9,s);break;case 1:os(t,s,i,u);break;case 3:os(t,s,i,u),p&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&mi(t)));break;case 12:if(p&2048){os(t,s,i,u),t=s.stateNode;try{var v=s.memoizedProps,T=v.id,z=v.onPostCommit;typeof z=="function"&&z(T,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){xt(s,s.return,F)}}else os(t,s,i,u);break;case 13:os(t,s,i,u);break;case 23:break;case 22:v=s.stateNode,T=s.alternate,s.memoizedState!==null?v._visibility&2?os(t,s,i,u):Ti(t,s):v._visibility&2?os(t,s,i,u):(v._visibility|=2,Ko(t,s,i,u,(s.subtreeFlags&10256)!==0)),p&2048&&Sm(T,s);break;case 24:os(t,s,i,u),p&2048&&_m(s.alternate,s);break;default:os(t,s,i,u)}}function Ko(t,s,i,u,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=t,T=s,z=i,F=u,se=T.flags;switch(T.tag){case 0:case 11:case 15:Ko(v,T,z,F,p),Ci(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?Ko(v,T,z,F,p):Ti(v,T):(ue._visibility|=2,Ko(v,T,z,F,p)),p&&se&2048&&Sm(T.alternate,T);break;case 24:Ko(v,T,z,F,p),p&&se&2048&&_m(T.alternate,T);break;default:Ko(v,T,z,F,p)}s=s.sibling}}function Ti(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var i=t,u=s,p=u.flags;switch(u.tag){case 22:Ti(i,u),p&2048&&Sm(u.alternate,u);break;case 24:Ti(i,u),p&2048&&_m(u.alternate,u);break;default:Ti(i,u)}s=s.sibling}}var Ai=8192;function Qo(t){if(t.subtreeFlags&Ai)for(t=t.child;t!==null;)uy(t),t=t.sibling}function uy(t){switch(t.tag){case 26:Qo(t),t.flags&Ai&&t.memoizedState!==null&&HE(Vn,t.memoizedState,t.memoizedProps);break;case 5:Qo(t);break;case 3:case 4:var s=Vn;Vn=Uc(t.stateNode.containerInfo),Qo(t),Vn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Ai,Ai=16777216,Qo(t),Ai=s):Qo(t));break;default:Qo(t)}}function dy(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Mi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Ut=u,my(u,t)}dy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fy(t),t=t.sibling}function fy(t){switch(t.tag){case 0:case 11:case 15:Mi(t),t.flags&2048&&cr(9,t,t.return);break;case 3:Mi(t);break;case 12:Mi(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ac(t)):Mi(t);break;default:Mi(t)}}function Ac(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var i=0;i<s.length;i++){var u=s[i];Ut=u,my(u,t)}dy(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:cr(8,s,s.return),Ac(s);break;case 22:i=s.stateNode,i._visibility&2&&(i._visibility&=-3,Ac(s));break;default:Ac(s)}t=t.sibling}}function my(t,s){for(;Ut!==null;){var i=Ut;switch(i.tag){case 0:case 11:case 15:cr(8,i,s);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var u=i.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mi(i.memoizedState.cache)}if(u=i.child,u!==null)u.return=i,Ut=u;else e:for(i=t;Ut!==null;){u=Ut;var p=u.sibling,v=u.return;if(ry(u),u===i){Ut=null;break e}if(p!==null){p.return=v,Ut=p;break e}Ut=v}}}var tE={getCacheForType:function(t){var s=Qt(zt),i=s.data.get(t);return i===void 0&&(i=t(),s.data.set(t,i)),i}},nE=typeof WeakMap=="function"?WeakMap:Map,ft=0,vt=null,nt=null,it=0,mt=0,yn=null,fr=!1,Jo=!1,Em=!1,Ls=0,_t=0,mr=0,ao=0,Cm=0,On=0,ea=0,Ri=null,dn=null,km=!1,Tm=0,Mc=1/0,Rc=null,hr=null,Gt=0,pr=null,ta=null,na=0,Am=0,Mm=null,hy=null,Di=0,Rm=null;function vn(){if((ft&2)!==0&&it!==0)return it&-it;if(k.T!==null){var t=Vo;return t!==0?t:Hm()}return Hl()}function py(){On===0&&(On=(it&536870912)===0||ct?Ft():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),On}function bn(t,s,i){(t===vt&&(mt===2||mt===9)||t.cancelPendingCommit!==null)&&(sa(t,0),gr(t,it,On,!1)),dt(t,i),((ft&2)===0||t!==vt)&&(t===vt&&((ft&2)===0&&(ao|=i),_t===4&&gr(t,it,On,!1)),as(t))}function gy(t,s,i){if((ft&6)!==0)throw Error(a(327));var u=!i&&(s&124)===0&&(s&t.expiredLanes)===0||Ie(t,s),p=u?oE(t,s):zm(t,s,!0),v=u;do{if(p===0){Jo&&!u&&gr(t,s,0,!1);break}else{if(i=t.current.alternate,v&&!sE(i)){p=zm(t,s,!1),v=!1;continue}if(p===2){if(v=s,t.errorRecoveryDisabledLanes&v)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var z=t;p=Ri;var F=z.current.memoizedState.isDehydrated;if(F&&(sa(z,T).flags|=256),T=zm(z,T,!1),T!==2){if(Em&&!F){z.errorRecoveryDisabledLanes|=v,ao|=v,p=4;break e}v=dn,dn=p,v!==null&&(dn===null?dn=v:dn.push.apply(dn,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){sa(t,0),gr(t,s,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:gr(u,s,On,!fr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Tm+300-be(),10<p)){if(gr(u,s,On,!fr),Ae(u,0,!0)!==0)break e;u.timeoutHandle=Fy(xy.bind(null,u,i,dn,Rc,km,s,On,ao,ea,fr,v,2,-0,0),p);break e}xy(u,i,dn,Rc,km,s,On,ao,ea,fr,v,0,-0,0)}}break}while(!0);as(t)}function xy(t,s,i,u,p,v,T,z,F,se,ue,he,oe,ae){if(t.timeoutHandle=-1,he=s.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(Pi={stylesheets:null,count:0,unsuspend:$E},uy(s),he=PE(),he!==null)){t.cancelPendingCommit=he(Sy.bind(null,t,s,v,i,u,p,T,z,F,ue,1,oe,ae)),gr(t,v,T,!se);return}Sy(t,s,v,i,u,p,T,z,F)}function sE(t){for(var s=t;;){var i=s.tag;if((i===0||i===11||i===15)&&s.flags&16384&&(i=s.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var u=0;u<i.length;u++){var p=i[u],v=p.getSnapshot;p=p.value;try{if(!hn(v(),p))return!1}catch{return!1}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gr(t,s,i,u){s&=~Cm,s&=~ao,t.suspendedLanes|=s,t.pingedLanes&=~s,u&&(t.warmLanes|=s),u=t.expirationTimes;for(var p=s;0<p;){var v=31-Ge(p),T=1<<v;u[v]=-1,p&=~T}i!==0&&ot(t,i,s)}function Dc(){return(ft&6)===0?(Oi(0),!1):!0}function Dm(){if(nt!==null){if(mt===0)var t=nt.return;else t=nt,Ts=eo=null,Wf(t),Zo=null,Si=0,t=nt;for(;t!==null;)W0(t.alternate,t),t=t.return;nt=null}}function sa(t,s){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,wE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Dm(),vt=t,nt=i=Es(t.current,null),it=s,mt=0,yn=null,fr=!1,Jo=Ie(t,s),Em=!1,ea=On=Cm=ao=mr=_t=0,dn=Ri=null,km=!1,(s&8)!==0&&(s|=s&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=s;0<u;){var p=31-Ge(u),v=1<<p;s|=t[p],u&=~v}return Ls=s,tc(),i}function yy(t,s){Qe=null,k.H=bc,s===pi||s===uc?(s=zx(),mt=3):s===Rx?(s=zx(),mt=4):mt=s===I0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,yn=s,nt===null&&(_t=1,_c(t,Tn(s,t.current)))}function vy(){var t=k.H;return k.H=bc,t===null?bc:t}function by(){var t=k.A;return k.A=tE,t}function Om(){_t=4,fr||(it&4194048)!==it&&Dn.current!==null||(Jo=!0),(mr&134217727)===0&&(ao&134217727)===0||vt===null||gr(vt,it,On,!1)}function zm(t,s,i){var u=ft;ft|=2;var p=vy(),v=by();(vt!==t||it!==s)&&(Rc=null,sa(t,s)),s=!1;var T=_t;e:do try{if(mt!==0&&nt!==null){var z=nt,F=yn;switch(mt){case 8:Dm(),T=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(s=!0);var se=mt;if(mt=0,yn=null,ra(t,z,F,se),i&&Jo){T=0;break e}break;default:se=mt,mt=0,yn=null,ra(t,z,F,se)}}rE(),T=_t;break}catch(ue){yy(t,ue)}while(!0);return s&&t.shellSuspendCounter++,Ts=eo=null,ft=u,k.H=p,k.A=v,nt===null&&(vt=null,it=0,tc()),T}function rE(){for(;nt!==null;)wy(nt)}function oE(t,s){var i=ft;ft|=2;var u=vy(),p=by();vt!==t||it!==s?(Rc=null,Mc=be()+500,sa(t,s)):Jo=Ie(t,s);e:do try{if(mt!==0&&nt!==null){s=nt;var v=yn;t:switch(mt){case 1:mt=0,yn=null,ra(t,s,v,1);break;case 2:case 9:if(Dx(v)){mt=0,yn=null,Ny(s);break}s=function(){mt!==2&&mt!==9||vt!==t||(mt=7),as(t)},v.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Dx(v)?(mt=0,yn=null,Ny(s)):(mt=0,yn=null,ra(t,s,v,7));break;case 5:var T=null;switch(nt.tag){case 26:T=nt.memoizedState;case 5:case 27:var z=nt;if(!T||sv(T)){mt=0,yn=null;var F=z.sibling;if(F!==null)nt=F;else{var se=z.return;se!==null?(nt=se,Oc(se)):nt=null}break t}}mt=0,yn=null,ra(t,s,v,5);break;case 6:mt=0,yn=null,ra(t,s,v,6);break;case 8:Dm(),_t=6;break e;default:throw Error(a(462))}}aE();break}catch(ue){yy(t,ue)}while(!0);return Ts=eo=null,k.H=u,k.A=p,ft=i,nt!==null?0:(vt=null,it=0,tc(),_t)}function aE(){for(;nt!==null&&!K();)wy(nt)}function wy(t){var s=X0(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,s===null?Oc(t):nt=s}function Ny(t){var s=t,i=s.alternate;switch(s.tag){case 15:case 0:s=U0(i,s,s.pendingProps,s.type,void 0,it);break;case 11:s=U0(i,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:Wf(s);default:W0(i,s),s=nt=jx(s,Ls),s=X0(i,s,Ls)}t.memoizedProps=t.pendingProps,s===null?Oc(t):nt=s}function ra(t,s,i,u){Ts=eo=null,Wf(s),Zo=null,Si=0;var p=s.return;try{if(Z_(t,p,s,i,it)){_t=1,_c(t,Tn(i,t.current)),nt=null;return}}catch(v){if(p!==null)throw nt=p,v;_t=1,_c(t,Tn(i,t.current)),nt=null;return}s.flags&32768?(ct||u===1?t=!0:Jo||(it&536870912)!==0?t=!1:(fr=t=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jy(s,t)):Oc(s)}function Oc(t){var s=t;do{if((s.flags&32768)!==0){jy(s,fr);return}t=s.return;var i=K_(s.alternate,s,Ls);if(i!==null){nt=i;return}if(s=s.sibling,s!==null){nt=s;return}nt=s=t}while(s!==null);_t===0&&(_t=5)}function jy(t,s){do{var i=Q_(t.alternate,t);if(i!==null){i.flags&=32767,nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!s&&(t=t.sibling,t!==null)){nt=t;return}nt=t=i}while(t!==null);_t=6,nt=null}function Sy(t,s,i,u,p,v,T,z,F){t.cancelPendingCommit=null;do zc();while(Gt!==0);if((ft&6)!==0)throw Error(a(327));if(s!==null){if(s===t.current)throw Error(a(177));if(v=s.lanes|s.childLanes,v|=_f,Ct(t,i,v,T,z,F),t===vt&&(nt=vt=null,it=0),ta=s,pr=t,na=i,Am=v,Mm=p,hy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uE(je,function(){return Ty(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,p=L.p,L.p=2,T=ft,ft|=4;try{J_(t,s,i)}finally{ft=T,L.p=p,k.T=u}}Gt=1,_y(),Ey(),Cy()}}function _y(){if(Gt===1){Gt=0;var t=pr,s=ta,i=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=ft;ft|=4;try{iy(s,t);var v=Gm,T=mx(t.containerInfo),z=v.focusedElem,F=v.selectionRange;if(T!==z&&z&&z.ownerDocument&&fx(z.ownerDocument.documentElement,z)){if(F!==null&&bf(z)){var se=F.start,ue=F.end;if(ue===void 0&&(ue=se),"selectionStart"in z)z.selectionStart=se,z.selectionEnd=Math.min(ue,z.value.length);else{var he=z.ownerDocument||document,oe=he&&he.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),Fe=z.textContent.length,Ve=Math.min(F.start,Fe),gt=F.end===void 0?Ve:Math.min(F.end,Fe);!ae.extend&&Ve>gt&&(T=gt,gt=Ve,Ve=T);var W=dx(z,Ve),X=dx(z,gt);if(W&&X&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==X.node||ae.focusOffset!==X.offset)){var te=he.createRange();te.setStart(W.node,W.offset),ae.removeAllRanges(),Ve>gt?(ae.addRange(te),ae.extend(X.node,X.offset)):(te.setEnd(X.node,X.offset),ae.addRange(te))}}}}for(he=[],ae=z;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<he.length;z++){var de=he[z];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Gc=!!Ym,Gm=Ym=null}finally{ft=p,L.p=u,k.T=i}}t.current=s,Gt=2}}function Ey(){if(Gt===2){Gt=0;var t=pr,s=ta,i=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var u=L.p;L.p=2;var p=ft;ft|=4;try{sy(t,s.alternate,s)}finally{ft=p,L.p=u,k.T=i}}Gt=3}}function Cy(){if(Gt===4||Gt===3){Gt=0,me();var t=pr,s=ta,i=na,u=hy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,ta=pr=null,ky(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(hr=null),Pn(i),s=s.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(_e,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=k.T,p=L.p,L.p=2,k.T=null;try{for(var v=t.onRecoverableError,T=0;T<u.length;T++){var z=u[T];v(z.value,{componentStack:z.stack})}}finally{k.T=s,L.p=p}}(na&3)!==0&&zc(),as(t),p=t.pendingLanes,(i&4194090)!==0&&(p&42)!==0?t===Rm?Di++:(Di=0,Rm=t):Di=0,Oi(0)}}function ky(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,mi(s)))}function zc(t){return _y(),Ey(),Cy(),Ty()}function Ty(){if(Gt!==5)return!1;var t=pr,s=Am;Am=0;var i=Pn(na),u=k.T,p=L.p;try{L.p=32>i?32:i,k.T=null,i=Mm,Mm=null;var v=pr,T=na;if(Gt=0,ta=pr=null,na=0,(ft&6)!==0)throw Error(a(331));var z=ft;if(ft|=4,fy(v.current),cy(v,v.current,T,i),ft=z,Oi(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(_e,v)}catch{}return!0}finally{L.p=p,k.T=u,ky(t,s)}}function Ay(t,s,i){s=Tn(i,s),s=um(t.stateNode,s,2),t=or(t,s,2),t!==null&&(dt(t,2),as(t))}function xt(t,s,i){if(t.tag===3)Ay(t,t,i);else for(;s!==null;){if(s.tag===3){Ay(s,t,i);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hr===null||!hr.has(u))){t=Tn(i,t),i=O0(2),u=or(s,i,2),u!==null&&(z0(i,u,s,t),dt(u,2),as(u));break}}s=s.return}}function Im(t,s,i){var u=t.pingCache;if(u===null){u=t.pingCache=new nE;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(i)||(Em=!0,p.add(i),t=iE.bind(null,t,s,i),s.then(t,t))}function iE(t,s,i){var u=t.pingCache;u!==null&&u.delete(s),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,vt===t&&(it&i)===i&&(_t===4||_t===3&&(it&62914560)===it&&300>be()-Tm?(ft&2)===0&&sa(t,0):Cm|=i,ea===it&&(ea=0)),as(t)}function My(t,s){s===0&&(s=He()),t=Ho(t,s),t!==null&&(dt(t,s),as(t))}function lE(t){var s=t.memoizedState,i=0;s!==null&&(i=s.retryLane),My(t,i)}function cE(t,s){var i=0;switch(t.tag){case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(i=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),My(t,i)}function uE(t,s){return ze(t,s)}var Ic=null,oa=null,Lm=!1,Lc=!1,$m=!1,io=0;function as(t){t!==oa&&t.next===null&&(oa===null?Ic=oa=t:oa=oa.next=t),Lc=!0,Lm||(Lm=!0,fE())}function Oi(t,s){if(!$m&&Lc){$m=!0;do for(var i=!1,u=Ic;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var T=u.suspendedLanes,z=u.pingedLanes;v=(1<<31-Ge(42|t)+1)-1,v&=p&~(T&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(i=!0,zy(u,v))}else v=it,v=Ae(u,u===vt?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Ie(u,v)||(i=!0,zy(u,v));u=u.next}while(i);$m=!1}}function dE(){Ry()}function Ry(){Lc=Lm=!1;var t=0;io!==0&&(bE()&&(t=io),io=0);for(var s=be(),i=null,u=Ic;u!==null;){var p=u.next,v=Dy(u,s);v===0?(u.next=null,i===null?Ic=p:i.next=p,p===null&&(oa=i)):(i=u,(t!==0||(v&3)!==0)&&(Lc=!0)),u=p}Oi(t)}function Dy(t,s){for(var i=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var T=31-Ge(v),z=1<<T,F=p[T];F===-1?((z&i)===0||(z&u)!==0)&&(p[T]=Ot(z,s)):F<=s&&(t.expiredLanes|=z),v&=~z}if(s=vt,i=it,i=Ae(t,t===s?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,i===0||t===s&&(mt===2||mt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&re(u),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Ie(t,i)){if(s=i&-i,s===t.callbackPriority)return s;switch(u!==null&&re(u),Pn(i)){case 2:case 8:i=Me;break;case 32:i=je;break;case 268435456:i=Ke;break;default:i=je}return u=Oy.bind(null,t),i=ze(i,u),t.callbackPriority=s,t.callbackNode=i,s}return u!==null&&u!==null&&re(u),t.callbackPriority=2,t.callbackNode=null,2}function Oy(t,s){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(zc()&&t.callbackNode!==i)return null;var u=it;return u=Ae(t,t===vt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(gy(t,u,s),Dy(t,be()),t.callbackNode!=null&&t.callbackNode===i?Oy.bind(null,t):null)}function zy(t,s){if(zc())return null;gy(t,s,!0)}function fE(){NE(function(){(ft&6)!==0?ze(we,dE):Ry()})}function Hm(){return io===0&&(io=Ft()),io}function Iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xl(""+t)}function Ly(t,s){var i=s.ownerDocument.createElement("input");return i.name=s.name,i.value=s.value,t.id&&i.setAttribute("form",t.id),s.parentNode.insertBefore(i,s),t=new FormData(t),i.parentNode.removeChild(i),t}function mE(t,s,i,u,p){if(s==="submit"&&i&&i.stateNode===p){var v=Iy((p[Kt]||null).action),T=u.submitter;T&&(s=(s=T[Kt]||null)?Iy(s.formAction):T.getAttribute("formAction"),s!==null&&(v=s,T=null));var z=new Ql("action","action",null,u,p);t.push({event:z,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(io!==0){var F=T?Ly(p,T):new FormData(p);om(i,{pending:!0,data:F,method:p.method,action:v},null,F)}}else typeof v=="function"&&(z.preventDefault(),F=T?Ly(p,T):new FormData(p),om(i,{pending:!0,data:F,method:p.method,action:v},v,F))},currentTarget:p}]})}}for(var Pm=0;Pm<Sf.length;Pm++){var Bm=Sf[Pm],hE=Bm.toLowerCase(),pE=Bm[0].toUpperCase()+Bm.slice(1);Un(hE,"on"+pE)}Un(gx,"onAnimationEnd"),Un(xx,"onAnimationIteration"),Un(yx,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(R_,"onTransitionRun"),Un(D_,"onTransitionStart"),Un(O_,"onTransitionCancel"),Un(vx,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zi));function $y(t,s){s=(s&4)!==0;for(var i=0;i<t.length;i++){var u=t[i],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var T=u.length-1;0<=T;T--){var z=u[T],F=z.instance,se=z.currentTarget;if(z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=se;try{v(p)}catch(ue){Sc(ue)}p.currentTarget=null,v=F}else for(T=0;T<u.length;T++){if(z=u[T],F=z.instance,se=z.currentTarget,z=z.listener,F!==v&&p.isPropagationStopped())break e;v=z,p.currentTarget=se;try{v(p)}catch(ue){Sc(ue)}p.currentTarget=null,v=F}}}}function st(t,s){var i=s[Ya];i===void 0&&(i=s[Ya]=new Set);var u=t+"__bubble";i.has(u)||(Hy(s,t,2,!1),i.add(u))}function Um(t,s,i){var u=0;s&&(u|=4),Hy(i,t,u,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Vm(t){if(!t[$c]){t[$c]=!0,Bl.forEach(function(i){i!=="selectionchange"&&(gE.has(i)||Um(i,!1,t),Um(i,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[$c]||(s[$c]=!0,Um("selectionchange",!1,s))}}function Hy(t,s,i,u){switch(cv(s)){case 2:var p=VE;break;case 8:p=qE;break;default:p=sh}i=p.bind(null,s,i,t),p=void 0,!df||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(s,i,{capture:!0,passive:p}):t.addEventListener(s,i,!0):p!==void 0?t.addEventListener(s,i,{passive:p}):t.addEventListener(s,i,!1)}function qm(t,s,i,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var z=u.stateNode.containerInfo;if(z===p)break;if(T===4)for(T=u.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;z!==null;){if(T=Qs(z),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){u=v=T;continue e}z=z.parentNode}}u=u.return}Yg(function(){var se=v,ue=cf(i),he=[];e:{var oe=bx.get(t);if(oe!==void 0){var ae=Ql,Fe=t;switch(t){case"keypress":if(Wl(i)===0)break e;case"keydown":case"keyup":ae=u_;break;case"focusin":Fe="focus",ae=pf;break;case"focusout":Fe="blur",ae=pf;break;case"beforeblur":case"afterblur":ae=pf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=QS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=m_;break;case gx:case xx:case yx:ae=t_;break;case vx:ae=p_;break;case"scroll":case"scrollend":ae=WS;break;case"wheel":ae=x_;break;case"copy":case"cut":case"paste":ae=s_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Kg;break;case"toggle":case"beforetoggle":ae=v_}var Ve=(s&4)!==0,gt=!Ve&&(t==="scroll"||t==="scrollend"),W=Ve?oe!==null?oe+"Capture":null:oe;Ve=[];for(var X=se,te;X!==null;){var de=X;if(te=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||te===null||W===null||(de=ei(X,W),de!=null&&Ve.push(Ii(X,de,te))),gt)break;X=X.return}0<Ve.length&&(oe=new ae(oe,Fe,null,i,ue),he.push({event:oe,listeners:Ve}))}}if((s&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",ae=t==="mouseout"||t==="pointerout",oe&&i!==lf&&(Fe=i.relatedTarget||i.fromElement)&&(Qs(Fe)||Fe[Ks]))break e;if((ae||oe)&&(oe=ue.window===ue?ue:(oe=ue.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(Fe=i.relatedTarget||i.toElement,ae=se,Fe=Fe?Qs(Fe):null,Fe!==null&&(gt=c(Fe),Ve=Fe.tag,Fe!==gt||Ve!==5&&Ve!==27&&Ve!==6)&&(Fe=null)):(ae=null,Fe=se),ae!==Fe)){if(Ve=Zg,de="onMouseLeave",W="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Kg,de="onPointerLeave",W="onPointerEnter",X="pointer"),gt=ae==null?oe:Js(ae),te=Fe==null?oe:Js(Fe),oe=new Ve(de,X+"leave",ae,i,ue),oe.target=gt,oe.relatedTarget=te,de=null,Qs(ue)===se&&(Ve=new Ve(W,X+"enter",Fe,i,ue),Ve.target=te,Ve.relatedTarget=gt,de=Ve),gt=de,ae&&Fe)t:{for(Ve=ae,W=Fe,X=0,te=Ve;te;te=aa(te))X++;for(te=0,de=W;de;de=aa(de))te++;for(;0<X-te;)Ve=aa(Ve),X--;for(;0<te-X;)W=aa(W),te--;for(;X--;){if(Ve===W||W!==null&&Ve===W.alternate)break t;Ve=aa(Ve),W=aa(W)}Ve=null}else Ve=null;ae!==null&&Py(he,oe,ae,Ve,!1),Fe!==null&&gt!==null&&Py(he,gt,Fe,Ve,!0)}}e:{if(oe=se?Js(se):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var Re=ox;else if(sx(oe))if(ax)Re=T_;else{Re=C_;var et=E_}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&af(se.elementType)&&(Re=ox):Re=k_;if(Re&&(Re=Re(t,se))){rx(he,Re,i,ue);break e}et&&et(t,oe,se),t==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&Ja(oe,"number",oe.value)}switch(et=se?Js(se):window,t){case"focusin":(sx(et)||et.contentEditable==="true")&&(Io=et,wf=se,li=null);break;case"focusout":li=wf=Io=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,hx(he,i,ue);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":hx(he,i,ue)}var Pe;if(xf)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else zo?tx(t,i)&&(qe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(qe="onCompositionStart");qe&&(Qg&&i.locale!=="ko"&&(zo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&zo&&(Pe=Gg()):(tr=ue,ff="value"in tr?tr.value:tr.textContent,zo=!0)),et=Hc(se,qe),0<et.length&&(qe=new Wg(qe,t,null,i,ue),he.push({event:qe,listeners:et}),Pe?qe.data=Pe:(Pe=nx(i),Pe!==null&&(qe.data=Pe)))),(Pe=w_?N_(t,i):j_(t,i))&&(qe=Hc(se,"onBeforeInput"),0<qe.length&&(et=new Wg("onBeforeInput","beforeinput",null,i,ue),he.push({event:et,listeners:qe}),et.data=Pe)),mE(he,t,se,i,ue)}$y(he,s)})}function Ii(t,s,i){return{instance:t,listener:s,currentTarget:i}}function Hc(t,s){for(var i=s+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=ei(t,i),p!=null&&u.unshift(Ii(t,p,v)),p=ei(t,s),p!=null&&u.push(Ii(t,p,v))),t.tag===3)return u;t=t.return}return[]}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Py(t,s,i,u,p){for(var v=s._reactName,T=[];i!==null&&i!==u;){var z=i,F=z.alternate,se=z.stateNode;if(z=z.tag,F!==null&&F===u)break;z!==5&&z!==26&&z!==27||se===null||(F=se,p?(se=ei(i,v),se!=null&&T.unshift(Ii(i,se,F))):p||(se=ei(i,v),se!=null&&T.push(Ii(i,se,F)))),i=i.return}T.length!==0&&t.push({event:s,listeners:T})}var xE=/\r\n?/g,yE=/\u0000|\uFFFD/g;function By(t){return(typeof t=="string"?t:""+t).replace(xE,`
`).replace(yE,"")}function Uy(t,s){return s=By(s),By(t)===s}function Pc(){}function pt(t,s,i,u,p,v){switch(i){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ro(t,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ro(t,""+u);break;case"className":To(t,"class",u);break;case"tabIndex":To(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":To(t,i,u);break;case"style":qg(t,u,v);break;case"data":if(s!=="object"){To(t,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||i!=="href")){t.removeAttribute(i);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=Xl(""+u),t.setAttribute(i,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(i==="formAction"?(s!=="input"&&pt(t,s,"name",p.name,p,null),pt(t,s,"formEncType",p.formEncType,p,null),pt(t,s,"formMethod",p.formMethod,p,null),pt(t,s,"formTarget",p.formTarget,p,null)):(pt(t,s,"encType",p.encType,p,null),pt(t,s,"method",p.method,p,null),pt(t,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(i);break}u=Xl(""+u),t.setAttribute(i,u);break;case"onClick":u!=null&&(t.onclick=Pc);break;case"onScroll":u!=null&&st("scroll",t);break;case"onScrollEnd":u!=null&&st("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}i=Xl(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""+u):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":u===!0?t.setAttribute(i,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(i,u):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(i,u):t.removeAttribute(i);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(i):t.setAttribute(i,u);break;case"popover":st("beforetoggle",t),st("toggle",t),ko(t,"popover",u);break;case"xlinkActuate":Bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ko(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=XS.get(i)||i,ko(t,i,u))}}function Fm(t,s,i,u,p,v){switch(i){case"style":qg(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(i=u.__html,i!=null){if(p.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof u=="string"?Ro(t,u):(typeof u=="number"||typeof u=="bigint")&&Ro(t,""+u);break;case"onScroll":u!=null&&st("scroll",t);break;case"onScrollEnd":u!=null&&st("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(p=i.endsWith("Capture"),s=i.slice(2,p?i.length-7:void 0),v=t[Kt]||null,v=v!=null?v[i]:null,typeof v=="function"&&t.removeEventListener(s,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(s,u,p);break e}i in t?t[i]=u:u===!0?t.setAttribute(i,""):ko(t,i,u)}}}function Xt(t,s,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",t),st("load",t);var u=!1,p=!1,v;for(v in i)if(i.hasOwnProperty(v)){var T=i[v];if(T!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:pt(t,s,v,T,i,null)}}p&&pt(t,s,"srcSet",i.srcSet,i,null),u&&pt(t,s,"src",i.src,i,null);return;case"input":st("invalid",t);var z=v=T=p=null,F=null,se=null;for(u in i)if(i.hasOwnProperty(u)){var ue=i[u];if(ue!=null)switch(u){case"name":p=ue;break;case"type":T=ue;break;case"checked":F=ue;break;case"defaultChecked":se=ue;break;case"value":v=ue;break;case"defaultValue":z=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,s));break;default:pt(t,s,u,ue,i,null)}}Gl(t,v,z,F,se,T,p,!1),Ao(t);return;case"select":st("invalid",t),u=T=v=null;for(p in i)if(i.hasOwnProperty(p)&&(z=i[p],z!=null))switch(p){case"value":v=z;break;case"defaultValue":T=z;break;case"multiple":u=z;default:pt(t,s,p,z,i,null)}s=v,i=T,t.multiple=!!u,s!=null?Ss(t,!!u,s,!1):i!=null&&Ss(t,!!u,i,!0);return;case"textarea":st("invalid",t),v=p=u=null;for(T in i)if(i.hasOwnProperty(T)&&(z=i[T],z!=null))switch(T){case"value":u=z;break;case"defaultValue":p=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:pt(t,s,T,z,i,null)}Ug(t,u,p,v),Ao(t);return;case"option":for(F in i)if(i.hasOwnProperty(F)&&(u=i[F],u!=null))switch(F){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:pt(t,s,F,u,i,null)}return;case"dialog":st("beforetoggle",t),st("toggle",t),st("cancel",t),st("close",t);break;case"iframe":case"object":st("load",t);break;case"video":case"audio":for(u=0;u<zi.length;u++)st(zi[u],t);break;case"image":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"embed":case"source":case"link":st("error",t),st("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in i)if(i.hasOwnProperty(se)&&(u=i[se],u!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:pt(t,s,se,u,i,null)}return;default:if(af(s)){for(ue in i)i.hasOwnProperty(ue)&&(u=i[ue],u!==void 0&&Fm(t,s,ue,u,i,void 0));return}}for(z in i)i.hasOwnProperty(z)&&(u=i[z],u!=null&&pt(t,s,z,u,i,null))}function vE(t,s,i,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,z=null,F=null,se=null,ue=null;for(ae in i){var he=i[ae];if(i.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":F=he;default:u.hasOwnProperty(ae)||pt(t,s,ae,null,u,he)}}for(var oe in u){var ae=u[oe];if(he=i[oe],u.hasOwnProperty(oe)&&(ae!=null||he!=null))switch(oe){case"type":v=ae;break;case"name":p=ae;break;case"checked":se=ae;break;case"defaultChecked":ue=ae;break;case"value":T=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,s));break;default:ae!==he&&pt(t,s,oe,ae,u,he)}}Fr(t,T,z,F,se,ue,v,p);return;case"select":ae=T=z=oe=null;for(v in i)if(F=i[v],i.hasOwnProperty(v)&&F!=null)switch(v){case"value":break;case"multiple":ae=F;default:u.hasOwnProperty(v)||pt(t,s,v,null,u,F)}for(p in u)if(v=u[p],F=i[p],u.hasOwnProperty(p)&&(v!=null||F!=null))switch(p){case"value":oe=v;break;case"defaultValue":z=v;break;case"multiple":T=v;default:v!==F&&pt(t,s,p,v,u,F)}s=z,i=T,u=ae,oe!=null?Ss(t,!!i,oe,!1):!!u!=!!i&&(s!=null?Ss(t,!!i,s,!0):Ss(t,!!i,i?[]:"",!1));return;case"textarea":ae=oe=null;for(z in i)if(p=i[z],i.hasOwnProperty(z)&&p!=null&&!u.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:pt(t,s,z,null,u,p)}for(T in u)if(p=u[T],v=i[T],u.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":oe=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==v&&pt(t,s,T,p,u,v)}Bg(t,oe,ae);return;case"option":for(var Fe in i)if(oe=i[Fe],i.hasOwnProperty(Fe)&&oe!=null&&!u.hasOwnProperty(Fe))switch(Fe){case"selected":t.selected=!1;break;default:pt(t,s,Fe,null,u,oe)}for(F in u)if(oe=u[F],ae=i[F],u.hasOwnProperty(F)&&oe!==ae&&(oe!=null||ae!=null))switch(F){case"selected":t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:pt(t,s,F,oe,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in i)oe=i[Ve],i.hasOwnProperty(Ve)&&oe!=null&&!u.hasOwnProperty(Ve)&&pt(t,s,Ve,null,u,oe);for(se in u)if(oe=u[se],ae=i[se],u.hasOwnProperty(se)&&oe!==ae&&(oe!=null||ae!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,s));break;default:pt(t,s,se,oe,u,ae)}return;default:if(af(s)){for(var gt in i)oe=i[gt],i.hasOwnProperty(gt)&&oe!==void 0&&!u.hasOwnProperty(gt)&&Fm(t,s,gt,void 0,u,oe);for(ue in u)oe=u[ue],ae=i[ue],!u.hasOwnProperty(ue)||oe===ae||oe===void 0&&ae===void 0||Fm(t,s,ue,oe,u,ae);return}}for(var W in i)oe=i[W],i.hasOwnProperty(W)&&oe!=null&&!u.hasOwnProperty(W)&&pt(t,s,W,null,u,oe);for(he in u)oe=u[he],ae=i[he],!u.hasOwnProperty(he)||oe===ae||oe==null&&ae==null||pt(t,s,he,oe,u,ae)}var Ym=null,Gm=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function Vy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Xm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function bE(){var t=window.event;return t&&t.type==="popstate"?t===Zm?!1:(Zm=t,!0):(Zm=null,!1)}var Fy=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(jE)}:Fy;function jE(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function Gy(t,s){var i=s,u=0,p=0;do{var v=i.nextSibling;if(t.removeChild(i),v&&v.nodeType===8)if(i=v.data,i==="/$"){if(0<u&&8>u){i=u;var T=t.ownerDocument;if(i&1&&Li(T.documentElement),i&2&&Li(T.body),i&4)for(i=T.head,Li(i),T=i.firstChild;T;){var z=T.nextSibling,F=T.nodeName;T[qr]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||i.removeChild(T),T=z}}if(p===0){t.removeChild(v),Fi(s);return}p--}else i==="$"||i==="$?"||i==="$!"?p++:u=i.charCodeAt(0)-48;else u=0;i=v}while(i);Fi(s)}function Wm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var i=s;switch(s=s.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wm(i),Ga(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function SE(t,s,i,u){for(;t.nodeType===1;){var p=i;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[qr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function _E(t,s,i){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function Km(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function EE(t,s){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")s();else{var u=function(){s(),i.removeEventListener("DOMContentLoaded",u)};i.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function qn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Qm=null;function Xy(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return t;s--}else i==="/$"&&s++}t=t.previousSibling}return null}function Zy(t,s,i){switch(s=Bc(i),t){case"html":if(t=s.documentElement,!t)throw Error(a(452));return t;case"head":if(t=s.head,!t)throw Error(a(453));return t;case"body":if(t=s.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Li(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ga(t)}var zn=new Map,Wy=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $s=L.d;L.d={f:CE,r:kE,D:TE,C:AE,L:ME,m:RE,X:OE,S:DE,M:zE};function CE(){var t=$s.f(),s=Dc();return t||s}function kE(t){var s=bs(t);s!==null&&s.tag===5&&s.type==="form"?g0(s):$s.r(t)}var ia=typeof document>"u"?null:document;function Ky(t,s,i){var u=ia;if(u&&typeof s=="string"&&s){var p=an(s);p='link[rel="'+t+'"][href="'+p+'"]',typeof i=="string"&&(p+='[crossorigin="'+i+'"]'),Wy.has(p)||(Wy.add(p),t={rel:t,crossOrigin:i,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),Xt(s,"link",t),At(s),u.head.appendChild(s)))}}function TE(t){$s.D(t),Ky("dns-prefetch",t,null)}function AE(t,s){$s.C(t,s),Ky("preconnect",t,s)}function ME(t,s,i){$s.L(t,s,i);var u=ia;if(u&&t&&s){var p='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&i&&i.imageSrcSet?(p+='[imagesrcset="'+an(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(p+='[imagesizes="'+an(i.imageSizes)+'"]')):p+='[href="'+an(t)+'"]';var v=p;switch(s){case"style":v=la(t);break;case"script":v=ca(t)}zn.has(v)||(t=g({rel:"preload",href:s==="image"&&i&&i.imageSrcSet?void 0:t,as:s},i),zn.set(v,t),u.querySelector(p)!==null||s==="style"&&u.querySelector($i(v))||s==="script"&&u.querySelector(Hi(v))||(s=u.createElement("link"),Xt(s,"link",t),At(s),u.head.appendChild(s)))}}function RE(t,s){$s.m(t,s);var i=ia;if(i&&t){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ca(t)}if(!zn.has(v)&&(t=g({rel:"modulepreload",href:t},s),zn.set(v,t),i.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Hi(v)))return}u=i.createElement("link"),Xt(u,"link",t),At(u),i.head.appendChild(u)}}}function DE(t,s,i){$s.S(t,s,i);var u=ia;if(u&&t){var p=ws(u).hoistableStyles,v=la(t);s=s||"default";var T=p.get(v);if(!T){var z={loading:0,preload:null};if(T=u.querySelector($i(v)))z.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},i),(i=zn.get(v))&&Jm(t,i);var F=T=u.createElement("link");At(F),Xt(F,"link",t),F._p=new Promise(function(se,ue){F.onload=se,F.onerror=ue}),F.addEventListener("load",function(){z.loading|=1}),F.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Vc(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:z},p.set(v,T)}}}function OE(t,s){$s.X(t,s);var i=ia;if(i&&t){var u=ws(i).hoistableScripts,p=ca(t),v=u.get(p);v||(v=i.querySelector(Hi(p)),v||(t=g({src:t,async:!0},s),(s=zn.get(p))&&eh(t,s),v=i.createElement("script"),At(v),Xt(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function zE(t,s){$s.M(t,s);var i=ia;if(i&&t){var u=ws(i).hoistableScripts,p=ca(t),v=u.get(p);v||(v=i.querySelector(Hi(p)),v||(t=g({src:t,async:!0,type:"module"},s),(s=zn.get(p))&&eh(t,s),v=i.createElement("script"),At(v),Xt(v,"link",t),i.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function Qy(t,s,i,u){var p=(p=fe.current)?Uc(p):null;if(!p)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(s=la(i.href),i=ws(p).hoistableStyles,u=i.get(s),u||(u={type:"style",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=la(i.href);var v=ws(p).hoistableStyles,T=v.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,T),(v=p.querySelector($i(t)))&&!v._p&&(T.instance=v,T.state.loading=5),zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zn.set(t,i),v||IE(p,t,i,T.state))),s&&u===null)throw Error(a(528,""));return T}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=i.async,i=i.src,typeof i=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ca(i),i=ws(p).hoistableScripts,u=i.get(s),u||(u={type:"script",instance:null,count:0,state:null},i.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function la(t){return'href="'+an(t)+'"'}function $i(t){return'link[rel="stylesheet"]['+t+"]"}function Jy(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function IE(t,s,i,u){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=t.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xt(s,"link",i),At(s),t.head.appendChild(s))}function ca(t){return'[src="'+an(t)+'"]'}function Hi(t){return"script[async]"+t}function ev(t,s,i){if(s.count++,s.instance===null)switch(s.type){case"style":var u=t.querySelector('style[data-href~="'+an(i.href)+'"]');if(u)return s.instance=u,At(u),u;var p=g({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),At(u),Xt(u,"style",p),Vc(u,i.precedence,t),s.instance=u;case"stylesheet":p=la(i.href);var v=t.querySelector($i(p));if(v)return s.state.loading|=4,s.instance=v,At(v),v;u=Jy(i),(p=zn.get(p))&&Jm(u,p),v=(t.ownerDocument||t).createElement("link"),At(v);var T=v;return T._p=new Promise(function(z,F){T.onload=z,T.onerror=F}),Xt(v,"link",u),s.state.loading|=4,Vc(v,i.precedence,t),s.instance=v;case"script":return v=ca(i.src),(p=t.querySelector(Hi(v)))?(s.instance=p,At(p),p):(u=i,(p=zn.get(v))&&(u=g({},i),eh(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),At(p),Xt(p,"link",u),t.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Vc(u,i.precedence,t));return s.instance}function Vc(t,s,i){for(var u=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,T=0;T<u.length;T++){var z=u[T];if(z.dataset.precedence===s)v=z;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(s=i.nodeType===9?i.head:i,s.insertBefore(t,s.firstChild))}function Jm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function eh(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var qc=null;function tv(t,s,i){if(qc===null){var u=new Map,p=qc=new Map;p.set(i,u)}else p=qc,u=p.get(i),u||(u=new Map,p.set(i,u));if(u.has(t))return u;for(u.set(t,null),i=i.getElementsByTagName(t),p=0;p<i.length;p++){var v=i[p];if(!(v[qr]||v[Pt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(s)||"";T=t+T;var z=u.get(T);z?z.push(v):u.set(T,[v])}}return u}function nv(t,s,i){t=t.ownerDocument||t,t.head.insertBefore(i,s==="title"?t.querySelector("head > title"):null)}function LE(t,s,i){if(i===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pi=null;function $E(){}function HE(t,s,i){if(Pi===null)throw Error(a(475));var u=Pi;if(s.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=la(i.href),v=t.querySelector($i(p));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Fc.bind(u),t.then(u,u)),s.state.loading|=4,s.instance=v,At(v);return}v=t.ownerDocument||t,i=Jy(i),(p=zn.get(p))&&Jm(i,p),v=v.createElement("link"),At(v);var T=v;T._p=new Promise(function(z,F){T.onload=z,T.onerror=F}),Xt(v,"link",i),s.instance=v}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Fc.bind(u),t.addEventListener("load",s),t.addEventListener("error",s))}}function PE(){if(Pi===null)throw Error(a(475));var t=Pi;return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count?function(s){var i=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function th(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,s.forEach(BE,t),Yc=null,Fc.call(t))}function BE(t,s){if(!(s.state.loading&4)){var i=Yc.get(t);if(i)var u=i.get(null);else{i=new Map,Yc.set(t,i);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(i.set(T.dataset.precedence,T),u=T)}u&&i.set(null,u)}p=s.instance,T=p.getAttribute("data-precedence"),v=i.get(T)||u,v===u&&i.set(null,p),i.set(T,p),this.count++,u=Fc.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),s.state.loading|=4}}var Bi={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function UE(t,s,i,u,p,v,T,z){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.hiddenUpdates=ye(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function rv(t,s,i,u,p,v,T,z,F,se,ue,he){return t=new UE(t,s,i,T,z,F,se,he),s=1,v===!0&&(s|=24),v=pn(3,null,null,s),t.current=v,v.stateNode=t,s=If(),s.refCount++,t.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:i,cache:s},Pf(v),t}function ov(t){return t?(t=Po,t):Po}function av(t,s,i,u,p,v){p=ov(p),u.context===null?u.context=p:u.pendingContext=p,u=rr(s),u.payload={element:i},v=v===void 0?null:v,v!==null&&(u.callback=v),i=or(t,u,s),i!==null&&(bn(i,t,s),xi(i,t,s))}function iv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<s?i:s}}function nh(t,s){iv(t,s),(t=t.alternate)&&iv(t,s)}function lv(t){if(t.tag===13){var s=Ho(t,67108864);s!==null&&bn(s,t,67108864),nh(t,67108864)}}var Gc=!0;function VE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=2,sh(t,s,i,u)}finally{L.p=v,k.T=p}}function qE(t,s,i,u){var p=k.T;k.T=null;var v=L.p;try{L.p=8,sh(t,s,i,u)}finally{L.p=v,k.T=p}}function sh(t,s,i,u){if(Gc){var p=rh(u);if(p===null)qm(t,s,u,Xc,i),uv(t,u);else if(YE(p,t,s,i,u))u.stopPropagation();else if(uv(t,u),s&4&&-1<FE.indexOf(t)){for(;p!==null;){var v=bs(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=pe(v.pendingLanes);if(T!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;T;){var F=1<<31-Ge(T);z.entanglements[1]|=F,T&=~F}as(v),(ft&6)===0&&(Mc=be()+500,Oi(0))}}break;case 13:z=Ho(v,2),z!==null&&bn(z,v,2),Dc(),nh(v,2)}if(v=rh(u),v===null&&qm(t,s,u,Xc,i),v===p)break;p=v}p!==null&&u.stopPropagation()}else qm(t,s,u,null,i)}}function rh(t){return t=cf(t),oh(t)}var Xc=null;function oh(t){if(Xc=null,t=Qs(t),t!==null){var s=c(t);if(s===null)t=null;else{var i=s.tag;if(i===13){if(t=d(s),t!==null)return t;t=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Xc=t,null}function cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case we:return 2;case Me:return 8;case je:case Se:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var ah=!1,yr=null,vr=null,br=null,Ui=new Map,Vi=new Map,wr=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(t,s){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Ui.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(s.pointerId)}}function qi(t,s,i,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:i,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=bs(s),s!==null&&lv(s)),t):(t.eventSystemFlags|=u,s=t.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),t)}function YE(t,s,i,u,p){switch(s){case"focusin":return yr=qi(yr,t,s,i,u,p),!0;case"dragenter":return vr=qi(vr,t,s,i,u,p),!0;case"mouseover":return br=qi(br,t,s,i,u,p),!0;case"pointerover":var v=p.pointerId;return Ui.set(v,qi(Ui.get(v)||null,t,s,i,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Vi.set(v,qi(Vi.get(v)||null,t,s,i,u,p)),!0}return!1}function dv(t){var s=Qs(t.target);if(s!==null){var i=c(s);if(i!==null){if(s=i.tag,s===13){if(s=d(i),s!==null){t.blockedOn=s,Qd(t.priority,function(){if(i.tag===13){var u=vn();u=mn(u);var p=Ho(i,u);p!==null&&bn(p,i,u),nh(i,u)}});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var i=rh(t.nativeEvent);if(i===null){i=t.nativeEvent;var u=new i.constructor(i.type,i);lf=u,i.target.dispatchEvent(u),lf=null}else return s=bs(i),s!==null&&lv(s),t.blockedOn=i,!1;s.shift()}return!0}function fv(t,s,i){Zc(t)&&i.delete(s)}function GE(){ah=!1,yr!==null&&Zc(yr)&&(yr=null),vr!==null&&Zc(vr)&&(vr=null),br!==null&&Zc(br)&&(br=null),Ui.forEach(fv),Vi.forEach(fv)}function Wc(t,s){t.blockedOn===s&&(t.blockedOn=null,ah||(ah=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GE)))}var Kc=null;function mv(t){Kc!==t&&(Kc=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var s=0;s<t.length;s+=3){var i=t[s],u=t[s+1],p=t[s+2];if(typeof u!="function"){if(oh(u||i)===null)continue;break}var v=bs(i);v!==null&&(t.splice(s,3),s-=3,om(v,{pending:!0,data:p,method:i.method,action:u},u,p))}}))}function Fi(t){function s(F){return Wc(F,t)}yr!==null&&Wc(yr,t),vr!==null&&Wc(vr,t),br!==null&&Wc(br,t),Ui.forEach(s),Vi.forEach(s);for(var i=0;i<wr.length;i++){var u=wr[i];u.blockedOn===t&&(u.blockedOn=null)}for(;0<wr.length&&(i=wr[0],i.blockedOn===null);)dv(i),i.blockedOn===null&&wr.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(u=0;u<i.length;u+=3){var p=i[u],v=i[u+1],T=p[Kt]||null;if(typeof v=="function")T||mv(i);else if(T){var z=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[Kt]||null)z=T.formAction;else if(oh(p)!==null)continue}else z=T.action;typeof z=="function"?i[u+1]=z:(i.splice(u,3),u-=3),mv(i)}}}function ih(t){this._internalRoot=t}Qc.prototype.render=ih.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));var i=s.current,u=vn();av(i,u,t,s,null,null)},Qc.prototype.unmount=ih.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;av(t.current,2,null,t,null,null),Dc(),s[Ks]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var s=Hl();t={blockedOn:null,target:t,priority:s};for(var i=0;i<wr.length&&s!==0&&s<wr[i].priority;i++);wr.splice(i,0,t),i===0&&dv(t)}};var hv=n.version;if(hv!=="19.1.1")throw Error(a(527,hv,"19.1.1"));L.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(s),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var XE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{_e=Jc.inject(XE),xe=Jc}catch{}}return Gi.createRoot=function(t,s){if(!l(t))throw Error(a(299));var i=!1,u="",p=A0,v=M0,T=R0,z=null;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(z=s.unstable_transitionCallbacks)),s=rv(t,1,!1,null,null,i,u,p,v,T,z,null),t[Ks]=s.current,Vm(t),new ih(s)},Gi.hydrateRoot=function(t,s,i){if(!l(t))throw Error(a(299));var u=!1,p="",v=A0,T=M0,z=R0,F=null,se=null;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(z=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(F=i.unstable_transitionCallbacks),i.formState!==void 0&&(se=i.formState)),s=rv(t,1,!0,s,i??null,u,p,v,T,z,F,se),s.context=ov(null),i=s.current,u=vn(),u=mn(u),p=rr(u),p.callback=null,or(i,p,u),i=u,s.current.lanes=i,dt(s,i),as(s),t[Ks]=s.current,Vm(t),new Qc(s)},Gi.version="19.1.1",Gi}var Sv;function rC(){if(Sv)return uh.exports;Sv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),uh.exports=sC(),uh.exports}var oC=rC();function _v(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function cd(...e){return n=>{let r=!1;const a=e.map(l=>{const c=_v(l,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let l=0;l<a.length;l++){const c=a[l];typeof c=="function"?c():_v(e[l],null)}}}}function rt(...e){return w.useCallback(cd(...e),e)}function _a(e){const n=iC(e),r=w.forwardRef((a,l)=>{const{children:c,...d}=a,f=w.Children.toArray(c),m=f.find(cC);if(m){const h=m.props.children,g=f.map(y=>y===m?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:y);return o.jsx(n,{...d,ref:l,children:w.isValidElement(h)?w.cloneElement(h,void 0,g):null})}return o.jsx(n,{...d,ref:l,children:c})});return r.displayName=`${e}.Slot`,r}var aC=_a("Slot");function iC(e){const n=w.forwardRef((r,a)=>{const{children:l,...c}=r;if(w.isValidElement(l)){const d=dC(l),f=uC(c,l.props);return l.type!==w.Fragment&&(f.ref=a?cd(a,d):d),w.cloneElement(l,f)}return w.Children.count(l)>1?w.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var ww=Symbol("radix.slottable");function lC(e){const n=({children:r})=>o.jsx(o.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=ww,n}function cC(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ww}function uC(e,n){const r={...n};for(const a in n){const l=e[a],c=n[a];/^on[A-Z]/.test(a)?l&&c?r[a]=(...f)=>{const m=c(...f);return l(...f),m}:l&&(r[a]=l):a==="style"?r[a]={...l,...c}:a==="className"&&(r[a]=[l,c].filter(Boolean).join(" "))}return{...e,...r}}function dC(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nw(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(n=0;n<l;n++)e[n]&&(r=Nw(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function jw(){for(var e,n,r=0,a="",l=arguments.length;r<l;r++)(e=arguments[r])&&(n=Nw(e))&&(a&&(a+=" "),a+=n);return a}const Ev=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Cv=jw,Sw=(e,n)=>r=>{var a;if(n?.variants==null)return Cv(e,r?.class,r?.className);const{variants:l,defaultVariants:c}=n,d=Object.keys(l).map(h=>{const g=r?.[h],y=c?.[h];if(g===null)return null;const x=Ev(g)||Ev(y);return l[h][x]}),f=r&&Object.entries(r).reduce((h,g)=>{let[y,x]=g;return x===void 0||(h[y]=x),h},{}),m=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((h,g)=>{let{class:y,className:x,...b}=g;return Object.entries(b).every(j=>{let[N,S]=j;return Array.isArray(S)?S.includes({...c,...f}[N]):{...c,...f}[N]===S})?[...h,y,x]:h},[]);return Cv(e,d,m,r?.class,r?.className)},zp="-",fC=e=>{const n=hC(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split(zp);return f[0]===""&&f.length!==1&&f.shift(),_w(f,n)||mC(d)},getConflictingClassGroupIds:(d,f)=>{const m=r[d]||[];return f&&a[d]?[...m,...a[d]]:m}}},_w=(e,n)=>{if(e.length===0)return n.classGroupId;const r=e[0],a=n.nextPart.get(r),l=a?_w(e.slice(1),a):void 0;if(l)return l;if(n.validators.length===0)return;const c=e.join(zp);return n.validators.find(({validator:d})=>d(c))?.classGroupId},kv=/^\[(.+)\]$/,mC=e=>{if(kv.test(e)){const n=kv.exec(e)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},hC=e=>{const{theme:n,classGroups:r}=e,a={nextPart:new Map,validators:[]};for(const l in r)Zh(r[l],a,l,n);return a},Zh=(e,n,r,a)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?n:Tv(n,l);c.classGroupId=r;return}if(typeof l=="function"){if(pC(l)){Zh(l(a),n,r,a);return}n.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([c,d])=>{Zh(d,Tv(n,c),r,a)})})},Tv=(e,n)=>{let r=e;return n.split(zp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},pC=e=>e.isThemeGetter,gC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,a=new Map;const l=(c,d)=>{r.set(c,d),n++,n>e&&(n=0,a=r,r=new Map)};return{get(c){let d=r.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return l(c,d),d},set(c,d){r.has(c)?r.set(c,d):l(c,d)}}},Wh="!",Kh=":",xC=Kh.length,yC=e=>{const{prefix:n,experimentalParseClassName:r}=e;let a=l=>{const c=[];let d=0,f=0,m=0,h;for(let j=0;j<l.length;j++){let N=l[j];if(d===0&&f===0){if(N===Kh){c.push(l.slice(m,j)),m=j+xC;continue}if(N==="/"){h=j;continue}}N==="["?d++:N==="]"?d--:N==="("?f++:N===")"&&f--}const g=c.length===0?l:l.substring(m),y=vC(g),x=y!==g,b=h&&h>m?h-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}};if(n){const l=n+Kh,c=a;a=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=c=>r({className:c,parseClassName:l})}return a},vC=e=>e.endsWith(Wh)?e.substring(0,e.length-1):e.startsWith(Wh)?e.substring(1):e,bC=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let c=[];return a.forEach(d=>{d[0]==="["||n[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},wC=e=>({cache:gC(e.cacheSize),parseClassName:yC(e),sortModifiers:bC(e),...fC(e)}),NC=/\s+/,jC=(e,n)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:c}=n,d=[],f=e.trim().split(NC);let m="";for(let h=f.length-1;h>=0;h-=1){const g=f[h],{isExternal:y,modifiers:x,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:N}=r(g);if(y){m=g+(m.length>0?" "+m:m);continue}let S=!!N,_=a(S?j.substring(0,N):j);if(!_){if(!S){m=g+(m.length>0?" "+m:m);continue}if(_=a(j),!_){m=g+(m.length>0?" "+m:m);continue}S=!1}const A=c(x).join(":"),E=b?A+Wh:A,M=E+_;if(d.includes(M))continue;d.push(M);const R=l(_,S);for(let D=0;D<R.length;++D){const O=R[D];d.push(E+O)}m=g+(m.length>0?" "+m:m)}return m};function SC(){let e=0,n,r,a="";for(;e<arguments.length;)(n=arguments[e++])&&(r=Ew(n))&&(a&&(a+=" "),a+=r);return a}const Ew=e=>{if(typeof e=="string")return e;let n,r="";for(let a=0;a<e.length;a++)e[a]&&(n=Ew(e[a]))&&(r&&(r+=" "),r+=n);return r};function _C(e,...n){let r,a,l,c=d;function d(m){const h=n.reduce((g,y)=>y(g),e());return r=wC(h),a=r.cache.get,l=r.cache.set,c=f,f(m)}function f(m){const h=a(m);if(h)return h;const g=jC(m,r);return l(m,g),g}return function(){return c(SC.apply(null,arguments))}}const Lt=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},Cw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,EC=/^\d+\/\d+$/,CC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,AC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ua=e=>EC.test(e),Je=e=>!!e&&!Number.isNaN(Number(e)),jr=e=>!!e&&Number.isInteger(Number(e)),hh=e=>e.endsWith("%")&&Je(e.slice(0,-1)),Hs=e=>CC.test(e),RC=()=>!0,DC=e=>kC.test(e)&&!TC.test(e),Tw=()=>!1,OC=e=>AC.test(e),zC=e=>MC.test(e),IC=e=>!De(e)&&!Oe(e),LC=e=>Ha(e,Rw,Tw),De=e=>Cw.test(e),lo=e=>Ha(e,Dw,DC),ph=e=>Ha(e,UC,Je),Av=e=>Ha(e,Aw,Tw),$C=e=>Ha(e,Mw,zC),eu=e=>Ha(e,Ow,OC),Oe=e=>kw.test(e),Xi=e=>Pa(e,Dw),HC=e=>Pa(e,VC),Mv=e=>Pa(e,Aw),PC=e=>Pa(e,Rw),BC=e=>Pa(e,Mw),tu=e=>Pa(e,Ow,!0),Ha=(e,n,r)=>{const a=Cw.exec(e);return a?a[1]?n(a[1]):r(a[2]):!1},Pa=(e,n,r=!1)=>{const a=kw.exec(e);return a?a[1]?n(a[1]):r:!1},Aw=e=>e==="position"||e==="percentage",Mw=e=>e==="image"||e==="url",Rw=e=>e==="length"||e==="size"||e==="bg-size",Dw=e=>e==="length",UC=e=>e==="number",VC=e=>e==="family-name",Ow=e=>e==="shadow",qC=()=>{const e=Lt("color"),n=Lt("font"),r=Lt("text"),a=Lt("font-weight"),l=Lt("tracking"),c=Lt("leading"),d=Lt("breakpoint"),f=Lt("container"),m=Lt("spacing"),h=Lt("radius"),g=Lt("shadow"),y=Lt("inset-shadow"),x=Lt("text-shadow"),b=Lt("drop-shadow"),j=Lt("blur"),N=Lt("perspective"),S=Lt("aspect"),_=Lt("ease"),A=Lt("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...M(),Oe,De],D=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],P=()=>[Oe,De,m],q=()=>[ua,"full","auto",...P()],Z=()=>[jr,"none","subgrid",Oe,De],Q=()=>["auto",{span:["full",jr,Oe,De]},jr,Oe,De],G=()=>[jr,"auto",Oe,De],ne=()=>["auto","min","max","fr",Oe,De],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...P()],L=()=>[ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],I=()=>[e,Oe,De],$=()=>[...M(),Mv,Av,{position:[Oe,De]}],C=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",PC,LC,{size:[Oe,De]}],Y=()=>[hh,Xi,lo],V=()=>["","none","full",h,Oe,De],J=()=>["",Je,Xi,lo],ce=()=>["solid","dashed","dotted","double"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Je,hh,Mv,Av],ie=()=>["","none",j,Oe,De],ge=()=>["none",Je,Oe,De],Ee=()=>["none",Je,Oe,De],Ne=()=>[Je,Oe,De],ve=()=>[ua,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hs],breakpoint:[Hs],color:[RC],container:[Hs],"drop-shadow":[Hs],ease:["in","out","in-out"],font:[IC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hs],shadow:[Hs],spacing:["px",Je],text:[Hs],"text-shadow":[Hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ua,De,Oe,S]}],container:["container"],columns:[{columns:[Je,De,Oe,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[jr,"auto",Oe,De]}],basis:[{basis:[ua,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,ua,"auto","initial","none",De]}],grow:[{grow:["",Je,Oe,De]}],shrink:[{shrink:["",Je,Oe,De]}],order:[{order:[jr,"first","last","none",Oe,De]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[f,"screen",...L()]}],"min-w":[{"min-w":[f,"screen","none",...L()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",r,Xi,lo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Oe,ph]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hh,De]}],"font-family":[{font:[HC,De,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,Oe,De]}],"line-clamp":[{"line-clamp":[Je,"none",Oe,ph]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",Oe,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Oe,lo]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Je,"auto",Oe,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:C()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jr,Oe,De],radial:["",Oe,De],conic:[jr,Oe,De]},BC,$C]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Oe,De]}],"outline-w":[{outline:["",Je,Xi,lo]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,tu,eu]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",y,tu,eu]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Je,lo]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",x,tu,eu]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Je,Oe,De]}],"mix-blend":[{"mix-blend":[...fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Oe,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:C()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,De]}],filter:[{filter:["","none",Oe,De]}],blur:[{blur:ie()}],brightness:[{brightness:[Je,Oe,De]}],contrast:[{contrast:[Je,Oe,De]}],"drop-shadow":[{"drop-shadow":["","none",b,tu,eu]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Je,Oe,De]}],"hue-rotate":[{"hue-rotate":[Je,Oe,De]}],invert:[{invert:["",Je,Oe,De]}],saturate:[{saturate:[Je,Oe,De]}],sepia:[{sepia:["",Je,Oe,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,De]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Oe,De]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Oe,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Oe,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Oe,De]}],"backdrop-invert":[{"backdrop-invert":["",Je,Oe,De]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Oe,De]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Oe,De]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Oe,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Oe,De]}],ease:[{ease:["linear","initial",_,Oe,De]}],delay:[{delay:[Je,Oe,De]}],animate:[{animate:["none",A,Oe,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Oe,De]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Ne()}],"skew-x":[{"skew-x":Ne()}],"skew-y":[{"skew-y":Ne()}],transform:[{transform:[Oe,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,De]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Je,Xi,lo,ph]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FC=_C(qC);function We(...e){return FC(jw(e))}const YC=Sw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Le({className:e,variant:n,size:r,asChild:a=!1,...l}){const c=a?aC:"button";return o.jsx(c,{"data-slot":"button",className:We(YC({variant:n,size:r,className:e})),...l})}const GC=Sw("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:n,...r}){return o.jsx("div",{className:We(GC({variant:n}),e),...r})}function ke(e,n,{checkForDefaultPrevented:r=!0}={}){return function(l){if(e?.(l),r===!1||!l.defaultPrevented)return n?.(l)}}function Qn(e,n=[]){let r=[];function a(c,d){const f=w.createContext(d),m=r.length;r=[...r,d];const h=y=>{const{scope:x,children:b,...j}=y,N=x?.[e]?.[m]||f,S=w.useMemo(()=>j,Object.values(j));return o.jsx(N.Provider,{value:S,children:b})};h.displayName=c+"Provider";function g(y,x){const b=x?.[e]?.[m]||f,j=w.useContext(b);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[h,g]}const l=()=>{const c=r.map(d=>w.createContext(d));return function(f){const m=f?.[e]||c;return w.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[a,XC(l,...n)]}function XC(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=a.reduce((f,{useScope:m,scopeName:h})=>{const y=m(c)[`__scope${h}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${n.scopeName}`]:d}),[d])}};return r.scopeName=n.scopeName,r}var Wt=globalThis?.document?w.useLayoutEffect:()=>{},ZC=vw[" useInsertionEffect ".trim().toString()]||Wt;function Rr({prop:e,defaultProp:n,onChange:r=()=>{},caller:a}){const[l,c,d]=WC({defaultProp:n,onChange:r}),f=e!==void 0,m=f?e:l;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,a])}const h=w.useCallback(g=>{if(f){const y=KC(g)?g(e):g;y!==e&&d.current?.(y)}else c(g)},[f,e,c,d]);return[m,h]}function WC({defaultProp:e,onChange:n}){const[r,a]=w.useState(e),l=w.useRef(r),c=w.useRef(n);return ZC(()=>{c.current=n},[n]),w.useEffect(()=>{l.current!==r&&(c.current?.(r),l.current=r)},[r,l]),[r,a,c]}function KC(e){return typeof e=="function"}var jl=bw();const QC=Op(jl);var JC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=JC.reduce((e,n)=>{const r=_a(`Primitive.${n}`),a=w.forwardRef((l,c)=>{const{asChild:d,...f}=l,m=d?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function zw(e,n){e&&jl.flushSync(()=>e.dispatchEvent(n))}function Ip(e){const n=e+"CollectionProvider",[r,a]=Qn(n),[l,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),d=N=>{const{scope:S,children:_}=N,A=Nn.useRef(null),E=Nn.useRef(new Map).current;return o.jsx(l,{scope:S,itemMap:E,collectionRef:A,children:_})};d.displayName=n;const f=e+"CollectionSlot",m=_a(f),h=Nn.forwardRef((N,S)=>{const{scope:_,children:A}=N,E=c(f,_),M=rt(S,E.collectionRef);return o.jsx(m,{ref:M,children:A})});h.displayName=f;const g=e+"CollectionItemSlot",y="data-radix-collection-item",x=_a(g),b=Nn.forwardRef((N,S)=>{const{scope:_,children:A,...E}=N,M=Nn.useRef(null),R=rt(S,M),D=c(g,_);return Nn.useEffect(()=>(D.itemMap.set(M,{ref:M,...E}),()=>void D.itemMap.delete(M))),o.jsx(x,{[y]:"",ref:R,children:A})});b.displayName=g;function j(N){const S=c(e+"CollectionConsumer",N);return Nn.useCallback(()=>{const A=S.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${y}]`));return Array.from(S.itemMap.values()).sort((D,O)=>E.indexOf(D.ref.current)-E.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:d,Slot:h,ItemSlot:b},j,a]}var ek=w.createContext(void 0);function Sl(e){const n=w.useContext(ek);return e||n||"ltr"}function Zt(e){const n=w.useRef(e);return w.useEffect(()=>{n.current=e}),w.useMemo(()=>(...r)=>n.current?.(...r),[])}function tk(e,n=globalThis?.document){const r=Zt(e);w.useEffect(()=>{const a=l=>{l.key==="Escape"&&r(l)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[r,n])}var nk="DismissableLayer",Qh="dismissableLayer.update",sk="dismissableLayer.pointerDownOutside",rk="dismissableLayer.focusOutside",Rv,Iw=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ud=w.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,onDismiss:f,...m}=e,h=w.useContext(Iw),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,b]=w.useState({}),j=rt(n,O=>y(O)),N=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(S),A=g?N.indexOf(g):-1,E=h.layersWithOutsidePointerEventsDisabled.size>0,M=A>=_,R=ik(O=>{const P=O.target,q=[...h.branches].some(Z=>Z.contains(P));!M||q||(l?.(O),d?.(O),O.defaultPrevented||f?.())},x),D=lk(O=>{const P=O.target;[...h.branches].some(Z=>Z.contains(P))||(c?.(O),d?.(O),O.defaultPrevented||f?.())},x);return tk(O=>{A===h.layers.size-1&&(a?.(O),!O.defaultPrevented&&f&&(O.preventDefault(),f()))},x),w.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Rv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),Dv(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Rv)}},[g,x,r,h]),w.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),Dv())},[g,h]),w.useEffect(()=>{const O=()=>b({});return document.addEventListener(Qh,O),()=>document.removeEventListener(Qh,O)},[]),o.jsx(Ye.div,{...m,ref:j,style:{pointerEvents:E?M?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,R.onPointerDownCapture)})});ud.displayName=nk;var ok="DismissableLayerBranch",ak=w.forwardRef((e,n)=>{const r=w.useContext(Iw),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),o.jsx(Ye.div,{...e,ref:l})});ak.displayName=ok;function ik(e,n=globalThis?.document){const r=Zt(e),a=w.useRef(!1),l=w.useRef(()=>{});return w.useEffect(()=>{const c=f=>{if(f.target&&!a.current){let m=function(){Lw(sk,r,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",l.current),l.current=m,n.addEventListener("click",l.current,{once:!0})):m()}else n.removeEventListener("click",l.current);a.current=!1},d=window.setTimeout(()=>{n.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),n.removeEventListener("pointerdown",c),n.removeEventListener("click",l.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function lk(e,n=globalThis?.document){const r=Zt(e),a=w.useRef(!1);return w.useEffect(()=>{const l=c=>{c.target&&!a.current&&Lw(rk,r,{originalEvent:c},{discrete:!1})};return n.addEventListener("focusin",l),()=>n.removeEventListener("focusin",l)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Dv(){const e=new CustomEvent(Qh);document.dispatchEvent(e)}function Lw(e,n,r,{discrete:a}){const l=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),a?zw(l,c):l.dispatchEvent(c)}var gh=0;function $w(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ov()),document.body.insertAdjacentElement("beforeend",e[1]??Ov()),gh++,()=>{gh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),gh--}},[])}function Ov(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xh="focusScope.autoFocusOnMount",yh="focusScope.autoFocusOnUnmount",zv={bubbles:!1,cancelable:!0},ck="FocusScope",Lp=w.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:l,onUnmountAutoFocus:c,...d}=e,[f,m]=w.useState(null),h=Zt(l),g=Zt(c),y=w.useRef(null),x=rt(n,N=>m(N)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let N=function(E){if(b.paused||!f)return;const M=E.target;f.contains(M)?y.current=M:Cr(y.current,{select:!0})},S=function(E){if(b.paused||!f)return;const M=E.relatedTarget;M!==null&&(f.contains(M)||Cr(y.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const R of E)R.removedNodes.length>0&&Cr(f)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const A=new MutationObserver(_);return f&&A.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),A.disconnect()}}},[a,f,b.paused]),w.useEffect(()=>{if(f){Lv.add(b);const N=document.activeElement;if(!f.contains(N)){const _=new CustomEvent(xh,zv);f.addEventListener(xh,h),f.dispatchEvent(_),_.defaultPrevented||(uk(pk(Hw(f)),{select:!0}),document.activeElement===N&&Cr(f))}return()=>{f.removeEventListener(xh,h),setTimeout(()=>{const _=new CustomEvent(yh,zv);f.addEventListener(yh,g),f.dispatchEvent(_),_.defaultPrevented||Cr(N??document.body,{select:!0}),f.removeEventListener(yh,g),Lv.remove(b)},0)}}},[f,h,g,b]);const j=w.useCallback(N=>{if(!r&&!a||b.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(S&&_){const A=N.currentTarget,[E,M]=dk(A);E&&M?!N.shiftKey&&_===M?(N.preventDefault(),r&&Cr(E,{select:!0})):N.shiftKey&&_===E&&(N.preventDefault(),r&&Cr(M,{select:!0})):_===A&&N.preventDefault()}},[r,a,b.paused]);return o.jsx(Ye.div,{tabIndex:-1,...d,ref:x,onKeyDown:j})});Lp.displayName=ck;function uk(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(Cr(a,{select:n}),document.activeElement!==r)return}function dk(e){const n=Hw(e),r=Iv(n,e),a=Iv(n.reverse(),e);return[r,a]}function Hw(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Iv(e,n){for(const r of e)if(!fk(r,{upTo:n}))return r}function fk(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mk(e){return e instanceof HTMLInputElement&&"select"in e}function Cr(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&mk(e)&&n&&e.select()}}var Lv=hk();function hk(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=$v(e,n),e.unshift(n)},remove(n){e=$v(e,n),e[0]?.resume()}}}function $v(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function pk(e){return e.filter(n=>n.tagName!=="A")}var gk=vw[" useId ".trim().toString()]||(()=>{}),xk=0;function Dr(e){const[n,r]=w.useState(gk());return Wt(()=>{r(a=>a??String(xk++))},[e]),n?`radix-${n}`:""}const yk=["top","right","bottom","left"],Or=Math.min,jn=Math.max,zu=Math.round,nu=Math.floor,ds=e=>({x:e,y:e}),vk={left:"right",right:"left",bottom:"top",top:"bottom"},bk={start:"end",end:"start"};function Jh(e,n,r){return jn(e,Or(n,r))}function Gs(e,n){return typeof e=="function"?e(n):e}function Xs(e){return e.split("-")[0]}function Ba(e){return e.split("-")[1]}function $p(e){return e==="x"?"y":"x"}function Hp(e){return e==="y"?"height":"width"}const wk=new Set(["top","bottom"]);function cs(e){return wk.has(Xs(e))?"y":"x"}function Pp(e){return $p(cs(e))}function Nk(e,n,r){r===void 0&&(r=!1);const a=Ba(e),l=Pp(e),c=Hp(l);let d=l==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return n.reference[c]>n.floating[c]&&(d=Iu(d)),[d,Iu(d)]}function jk(e){const n=Iu(e);return[ep(e),n,ep(n)]}function ep(e){return e.replace(/start|end/g,n=>bk[n])}const Hv=["left","right"],Pv=["right","left"],Sk=["top","bottom"],_k=["bottom","top"];function Ek(e,n,r){switch(e){case"top":case"bottom":return r?n?Pv:Hv:n?Hv:Pv;case"left":case"right":return n?Sk:_k;default:return[]}}function Ck(e,n,r,a){const l=Ba(e);let c=Ek(Xs(e),r==="start",a);return l&&(c=c.map(d=>d+"-"+l),n&&(c=c.concat(c.map(ep)))),c}function Iu(e){return e.replace(/left|right|bottom|top/g,n=>vk[n])}function kk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pw(e){return typeof e!="number"?kk(e):{top:e,right:e,bottom:e,left:e}}function Lu(e){const{x:n,y:r,width:a,height:l}=e;return{width:a,height:l,top:r,left:n,right:n+a,bottom:r+l,x:n,y:r}}function Bv(e,n,r){let{reference:a,floating:l}=e;const c=cs(n),d=Pp(n),f=Hp(d),m=Xs(n),h=c==="y",g=a.x+a.width/2-l.width/2,y=a.y+a.height/2-l.height/2,x=a[f]/2-l[f]/2;let b;switch(m){case"top":b={x:g,y:a.y-l.height};break;case"bottom":b={x:g,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y};break;case"left":b={x:a.x-l.width,y};break;default:b={x:a.x,y:a.y}}switch(Ba(n)){case"start":b[d]-=x*(r&&h?-1:1);break;case"end":b[d]+=x*(r&&h?-1:1);break}return b}const Tk=async(e,n,r)=>{const{placement:a="bottom",strategy:l="absolute",middleware:c=[],platform:d}=r,f=c.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(n));let h=await d.getElementRects({reference:e,floating:n,strategy:l}),{x:g,y}=Bv(h,a,m),x=a,b={},j=0;for(let N=0;N<f.length;N++){const{name:S,fn:_}=f[N],{x:A,y:E,data:M,reset:R}=await _({x:g,y,initialPlacement:a,placement:x,strategy:l,middlewareData:b,rects:h,platform:d,elements:{reference:e,floating:n}});g=A??g,y=E??y,b={...b,[S]:{...b[S],...M}},R&&j<=50&&(j++,typeof R=="object"&&(R.placement&&(x=R.placement),R.rects&&(h=R.rects===!0?await d.getElementRects({reference:e,floating:n,strategy:l}):R.rects),{x:g,y}=Bv(h,x,m)),N=-1)}return{x:g,y,placement:x,strategy:l,middlewareData:b}};async function al(e,n){var r;n===void 0&&(n={});const{x:a,y:l,platform:c,rects:d,elements:f,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:b=0}=Gs(n,e),j=Pw(b),S=f[x?y==="floating"?"reference":"floating":y],_=Lu(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(S)))==null||r?S:S.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:g,strategy:m})),A=y==="floating"?{x:a,y:l,width:d.floating.width,height:d.floating.height}:d.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),M=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},R=Lu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:A,offsetParent:E,strategy:m}):A);return{top:(_.top-R.top+j.top)/M.y,bottom:(R.bottom-_.bottom+j.bottom)/M.y,left:(_.left-R.left+j.left)/M.x,right:(R.right-_.right+j.right)/M.x}}const Ak=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:a,placement:l,rects:c,platform:d,elements:f,middlewareData:m}=n,{element:h,padding:g=0}=Gs(e,n)||{};if(h==null)return{};const y=Pw(g),x={x:r,y:a},b=Pp(l),j=Hp(b),N=await d.getDimensions(h),S=b==="y",_=S?"top":"left",A=S?"bottom":"right",E=S?"clientHeight":"clientWidth",M=c.reference[j]+c.reference[b]-x[b]-c.floating[j],R=x[b]-c.reference[b],D=await(d.getOffsetParent==null?void 0:d.getOffsetParent(h));let O=D?D[E]:0;(!O||!await(d.isElement==null?void 0:d.isElement(D)))&&(O=f.floating[E]||c.floating[j]);const P=M/2-R/2,q=O/2-N[j]/2-1,Z=Or(y[_],q),Q=Or(y[A],q),G=Z,ne=O-N[j]-Q,U=O/2-N[j]/2+P,B=Jh(G,U,ne),k=!m.arrow&&Ba(l)!=null&&U!==B&&c.reference[j]/2-(U<G?Z:Q)-N[j]/2<0,L=k?U<G?U-G:U-ne:0;return{[b]:x[b]+L,data:{[b]:B,centerOffset:U-B-L,...k&&{alignmentOffset:L}},reset:k}}}),Mk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,a;const{placement:l,middlewareData:c,rects:d,initialPlacement:f,platform:m,elements:h}=n,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...S}=Gs(e,n);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const _=Xs(l),A=cs(f),E=Xs(f)===f,M=await(m.isRTL==null?void 0:m.isRTL(h.floating)),R=x||(E||!N?[Iu(f)]:jk(f)),D=j!=="none";!x&&D&&R.push(...Ck(f,N,j,M));const O=[f,...R],P=await al(n,S),q=[];let Z=((a=c.flip)==null?void 0:a.overflows)||[];if(g&&q.push(P[_]),y){const U=Nk(l,d,M);q.push(P[U[0]],P[U[1]])}if(Z=[...Z,{placement:l,overflows:q}],!q.every(U=>U<=0)){var Q,G;const U=(((Q=c.flip)==null?void 0:Q.index)||0)+1,B=O[U];if(B&&(!(y==="alignment"?A!==cs(B):!1)||Z.every(I=>cs(I.placement)===A?I.overflows[0]>0:!0)))return{data:{index:U,overflows:Z},reset:{placement:B}};let k=(G=Z.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:G.placement;if(!k)switch(b){case"bestFit":{var ne;const L=(ne=Z.filter(I=>{if(D){const $=cs(I.placement);return $===A||$==="y"}return!0}).map(I=>[I.placement,I.overflows.filter($=>$>0).reduce(($,C)=>$+C,0)]).sort((I,$)=>I[1]-$[1])[0])==null?void 0:ne[0];L&&(k=L);break}case"initialPlacement":k=f;break}if(l!==k)return{reset:{placement:k}}}return{}}}};function Uv(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Vv(e){return yk.some(n=>e[n]>=0)}const Rk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:a="referenceHidden",...l}=Gs(e,n);switch(a){case"referenceHidden":{const c=await al(n,{...l,elementContext:"reference"}),d=Uv(c,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:Vv(d)}}}case"escaped":{const c=await al(n,{...l,altBoundary:!0}),d=Uv(c,r.floating);return{data:{escapedOffsets:d,escaped:Vv(d)}}}default:return{}}}}},Bw=new Set(["left","top"]);async function Dk(e,n){const{placement:r,platform:a,elements:l}=e,c=await(a.isRTL==null?void 0:a.isRTL(l.floating)),d=Xs(r),f=Ba(r),m=cs(r)==="y",h=Bw.has(d)?-1:1,g=c&&m?-1:1,y=Gs(n,e);let{mainAxis:x,crossAxis:b,alignmentAxis:j}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof j=="number"&&(b=f==="end"?j*-1:j),m?{x:b*g,y:x*h}:{x:x*h,y:b*g}}const Ok=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,a;const{x:l,y:c,placement:d,middlewareData:f}=n,m=await Dk(n,e);return d===((r=f.offset)==null?void 0:r.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:l+m.x,y:c+m.y,data:{...m,placement:d}}}}},zk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:a,placement:l}=n,{mainAxis:c=!0,crossAxis:d=!1,limiter:f={fn:S=>{let{x:_,y:A}=S;return{x:_,y:A}}},...m}=Gs(e,n),h={x:r,y:a},g=await al(n,m),y=cs(Xs(l)),x=$p(y);let b=h[x],j=h[y];if(c){const S=x==="y"?"top":"left",_=x==="y"?"bottom":"right",A=b+g[S],E=b-g[_];b=Jh(A,b,E)}if(d){const S=y==="y"?"top":"left",_=y==="y"?"bottom":"right",A=j+g[S],E=j-g[_];j=Jh(A,j,E)}const N=f.fn({...n,[x]:b,[y]:j});return{...N,data:{x:N.x-r,y:N.y-a,enabled:{[x]:c,[y]:d}}}}}},Ik=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:a,placement:l,rects:c,middlewareData:d}=n,{offset:f=0,mainAxis:m=!0,crossAxis:h=!0}=Gs(e,n),g={x:r,y:a},y=cs(l),x=$p(y);let b=g[x],j=g[y];const N=Gs(f,n),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(m){const E=x==="y"?"height":"width",M=c.reference[x]-c.floating[E]+S.mainAxis,R=c.reference[x]+c.reference[E]-S.mainAxis;b<M?b=M:b>R&&(b=R)}if(h){var _,A;const E=x==="y"?"width":"height",M=Bw.has(Xs(l)),R=c.reference[y]-c.floating[E]+(M&&((_=d.offset)==null?void 0:_[y])||0)+(M?0:S.crossAxis),D=c.reference[y]+c.reference[E]+(M?0:((A=d.offset)==null?void 0:A[y])||0)-(M?S.crossAxis:0);j<R?j=R:j>D&&(j=D)}return{[x]:b,[y]:j}}}},Lk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,a;const{placement:l,rects:c,platform:d,elements:f}=n,{apply:m=()=>{},...h}=Gs(e,n),g=await al(n,h),y=Xs(l),x=Ba(l),b=cs(l)==="y",{width:j,height:N}=c.floating;let S,_;y==="top"||y==="bottom"?(S=y,_=x===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(_=y,S=x==="end"?"top":"bottom");const A=N-g.top-g.bottom,E=j-g.left-g.right,M=Or(N-g[S],A),R=Or(j-g[_],E),D=!n.middlewareData.shift;let O=M,P=R;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(P=E),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(O=A),D&&!x){const Z=jn(g.left,0),Q=jn(g.right,0),G=jn(g.top,0),ne=jn(g.bottom,0);b?P=j-2*(Z!==0||Q!==0?Z+Q:jn(g.left,g.right)):O=N-2*(G!==0||ne!==0?G+ne:jn(g.top,g.bottom))}await m({...n,availableWidth:P,availableHeight:O});const q=await d.getDimensions(f.floating);return j!==q.width||N!==q.height?{reset:{rects:!0}}:{}}}};function dd(){return typeof window<"u"}function Ua(e){return Uw(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function gs(e){var n;return(n=(Uw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Uw(e){return dd()?e instanceof Node||e instanceof _n(e).Node:!1}function Zn(e){return dd()?e instanceof Element||e instanceof _n(e).Element:!1}function ms(e){return dd()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function qv(e){return!dd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}const $k=new Set(["inline","contents"]);function _l(e){const{overflow:n,overflowX:r,overflowY:a,display:l}=Wn(e);return/auto|scroll|overlay|hidden|clip/.test(n+a+r)&&!$k.has(l)}const Hk=new Set(["table","td","th"]);function Pk(e){return Hk.has(Ua(e))}const Bk=[":popover-open",":modal"];function fd(e){return Bk.some(n=>{try{return e.matches(n)}catch{return!1}})}const Uk=["transform","translate","scale","rotate","perspective"],Vk=["transform","translate","scale","rotate","perspective","filter"],qk=["paint","layout","strict","content"];function Bp(e){const n=Up(),r=Zn(e)?Wn(e):e;return Uk.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||Vk.some(a=>(r.willChange||"").includes(a))||qk.some(a=>(r.contain||"").includes(a))}function Fk(e){let n=zr(e);for(;ms(n)&&!Ea(n);){if(Bp(n))return n;if(fd(n))return null;n=zr(n)}return null}function Up(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yk=new Set(["html","body","#document"]);function Ea(e){return Yk.has(Ua(e))}function Wn(e){return _n(e).getComputedStyle(e)}function md(e){return Zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zr(e){if(Ua(e)==="html")return e;const n=e.assignedSlot||e.parentNode||qv(e)&&e.host||gs(e);return qv(n)?n.host:n}function Vw(e){const n=zr(e);return Ea(n)?e.ownerDocument?e.ownerDocument.body:e.body:ms(n)&&_l(n)?n:Vw(n)}function il(e,n,r){var a;n===void 0&&(n=[]),r===void 0&&(r=!0);const l=Vw(e),c=l===((a=e.ownerDocument)==null?void 0:a.body),d=_n(l);if(c){const f=tp(d);return n.concat(d,d.visualViewport||[],_l(l)?l:[],f&&r?il(f):[])}return n.concat(l,il(l,[],r))}function tp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qw(e){const n=Wn(e);let r=parseFloat(n.width)||0,a=parseFloat(n.height)||0;const l=ms(e),c=l?e.offsetWidth:r,d=l?e.offsetHeight:a,f=zu(r)!==c||zu(a)!==d;return f&&(r=c,a=d),{width:r,height:a,$:f}}function Vp(e){return Zn(e)?e:e.contextElement}function va(e){const n=Vp(e);if(!ms(n))return ds(1);const r=n.getBoundingClientRect(),{width:a,height:l,$:c}=qw(n);let d=(c?zu(r.width):r.width)/a,f=(c?zu(r.height):r.height)/l;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const Gk=ds(0);function Fw(e){const n=_n(e);return!Up()||!n.visualViewport?Gk:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Xk(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==_n(e)?!1:n}function xo(e,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1);const l=e.getBoundingClientRect(),c=Vp(e);let d=ds(1);n&&(a?Zn(a)&&(d=va(a)):d=va(e));const f=Xk(c,r,a)?Fw(c):ds(0);let m=(l.left+f.x)/d.x,h=(l.top+f.y)/d.y,g=l.width/d.x,y=l.height/d.y;if(c){const x=_n(c),b=a&&Zn(a)?_n(a):a;let j=x,N=tp(j);for(;N&&a&&b!==j;){const S=va(N),_=N.getBoundingClientRect(),A=Wn(N),E=_.left+(N.clientLeft+parseFloat(A.paddingLeft))*S.x,M=_.top+(N.clientTop+parseFloat(A.paddingTop))*S.y;m*=S.x,h*=S.y,g*=S.x,y*=S.y,m+=E,h+=M,j=_n(N),N=tp(j)}}return Lu({width:g,height:y,x:m,y:h})}function hd(e,n){const r=md(e).scrollLeft;return n?n.left+r:xo(gs(e)).left+r}function Yw(e,n){const r=e.getBoundingClientRect(),a=r.left+n.scrollLeft-hd(e,r),l=r.top+n.scrollTop;return{x:a,y:l}}function Zk(e){let{elements:n,rect:r,offsetParent:a,strategy:l}=e;const c=l==="fixed",d=gs(a),f=n?fd(n.floating):!1;if(a===d||f&&c)return r;let m={scrollLeft:0,scrollTop:0},h=ds(1);const g=ds(0),y=ms(a);if((y||!y&&!c)&&((Ua(a)!=="body"||_l(d))&&(m=md(a)),ms(a))){const b=xo(a);h=va(a),g.x=b.x+a.clientLeft,g.y=b.y+a.clientTop}const x=d&&!y&&!c?Yw(d,m):ds(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-m.scrollLeft*h.x+g.x+x.x,y:r.y*h.y-m.scrollTop*h.y+g.y+x.y}}function Wk(e){return Array.from(e.getClientRects())}function Kk(e){const n=gs(e),r=md(e),a=e.ownerDocument.body,l=jn(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),c=jn(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let d=-r.scrollLeft+hd(e);const f=-r.scrollTop;return Wn(a).direction==="rtl"&&(d+=jn(n.clientWidth,a.clientWidth)-l),{width:l,height:c,x:d,y:f}}const Fv=25;function Qk(e,n){const r=_n(e),a=gs(e),l=r.visualViewport;let c=a.clientWidth,d=a.clientHeight,f=0,m=0;if(l){c=l.width,d=l.height;const g=Up();(!g||g&&n==="fixed")&&(f=l.offsetLeft,m=l.offsetTop)}const h=hd(a);if(h<=0){const g=a.ownerDocument,y=g.body,x=getComputedStyle(y),b=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(a.clientWidth-y.clientWidth-b);j<=Fv&&(c-=j)}else h<=Fv&&(c+=h);return{width:c,height:d,x:f,y:m}}const Jk=new Set(["absolute","fixed"]);function e4(e,n){const r=xo(e,!0,n==="fixed"),a=r.top+e.clientTop,l=r.left+e.clientLeft,c=ms(e)?va(e):ds(1),d=e.clientWidth*c.x,f=e.clientHeight*c.y,m=l*c.x,h=a*c.y;return{width:d,height:f,x:m,y:h}}function Yv(e,n,r){let a;if(n==="viewport")a=Qk(e,r);else if(n==="document")a=Kk(gs(e));else if(Zn(n))a=e4(n,r);else{const l=Fw(e);a={x:n.x-l.x,y:n.y-l.y,width:n.width,height:n.height}}return Lu(a)}function Gw(e,n){const r=zr(e);return r===n||!Zn(r)||Ea(r)?!1:Wn(r).position==="fixed"||Gw(r,n)}function t4(e,n){const r=n.get(e);if(r)return r;let a=il(e,[],!1).filter(f=>Zn(f)&&Ua(f)!=="body"),l=null;const c=Wn(e).position==="fixed";let d=c?zr(e):e;for(;Zn(d)&&!Ea(d);){const f=Wn(d),m=Bp(d);!m&&f.position==="fixed"&&(l=null),(c?!m&&!l:!m&&f.position==="static"&&!!l&&Jk.has(l.position)||_l(d)&&!m&&Gw(e,d))?a=a.filter(g=>g!==d):l=f,d=zr(d)}return n.set(e,a),a}function n4(e){let{element:n,boundary:r,rootBoundary:a,strategy:l}=e;const d=[...r==="clippingAncestors"?fd(n)?[]:t4(n,this._c):[].concat(r),a],f=d[0],m=d.reduce((h,g)=>{const y=Yv(n,g,l);return h.top=jn(y.top,h.top),h.right=Or(y.right,h.right),h.bottom=Or(y.bottom,h.bottom),h.left=jn(y.left,h.left),h},Yv(n,f,l));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function s4(e){const{width:n,height:r}=qw(e);return{width:n,height:r}}function r4(e,n,r){const a=ms(n),l=gs(n),c=r==="fixed",d=xo(e,!0,c,n);let f={scrollLeft:0,scrollTop:0};const m=ds(0);function h(){m.x=hd(l)}if(a||!a&&!c)if((Ua(n)!=="body"||_l(l))&&(f=md(n)),a){const b=xo(n,!0,c,n);m.x=b.x+n.clientLeft,m.y=b.y+n.clientTop}else l&&h();c&&!a&&l&&h();const g=l&&!a&&!c?Yw(l,f):ds(0),y=d.left+f.scrollLeft-m.x-g.x,x=d.top+f.scrollTop-m.y-g.y;return{x:y,y:x,width:d.width,height:d.height}}function vh(e){return Wn(e).position==="static"}function Gv(e,n){if(!ms(e)||Wn(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return gs(e)===r&&(r=r.ownerDocument.body),r}function Xw(e,n){const r=_n(e);if(fd(e))return r;if(!ms(e)){let l=zr(e);for(;l&&!Ea(l);){if(Zn(l)&&!vh(l))return l;l=zr(l)}return r}let a=Gv(e,n);for(;a&&Pk(a)&&vh(a);)a=Gv(a,n);return a&&Ea(a)&&vh(a)&&!Bp(a)?r:a||Fk(e)||r}const o4=async function(e){const n=this.getOffsetParent||Xw,r=this.getDimensions,a=await r(e.floating);return{reference:r4(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function a4(e){return Wn(e).direction==="rtl"}const i4={convertOffsetParentRelativeRectToViewportRelativeRect:Zk,getDocumentElement:gs,getClippingRect:n4,getOffsetParent:Xw,getElementRects:o4,getClientRects:Wk,getDimensions:s4,getScale:va,isElement:Zn,isRTL:a4};function Zw(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function l4(e,n){let r=null,a;const l=gs(e);function c(){var f;clearTimeout(a),(f=r)==null||f.disconnect(),r=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),c();const h=e.getBoundingClientRect(),{left:g,top:y,width:x,height:b}=h;if(f||n(),!x||!b)return;const j=nu(y),N=nu(l.clientWidth-(g+x)),S=nu(l.clientHeight-(y+b)),_=nu(g),E={rootMargin:-j+"px "+-N+"px "+-S+"px "+-_+"px",threshold:jn(0,Or(1,m))||1};let M=!0;function R(D){const O=D[0].intersectionRatio;if(O!==m){if(!M)return d();O?d(!1,O):a=setTimeout(()=>{d(!1,1e-7)},1e3)}O===1&&!Zw(h,e.getBoundingClientRect())&&d(),M=!1}try{r=new IntersectionObserver(R,{...E,root:l.ownerDocument})}catch{r=new IntersectionObserver(R,E)}r.observe(e)}return d(!0),c}function c4(e,n,r,a){a===void 0&&(a={});const{ancestorScroll:l=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,h=Vp(e),g=l||c?[...h?il(h):[],...il(n)]:[];g.forEach(_=>{l&&_.addEventListener("scroll",r,{passive:!0}),c&&_.addEventListener("resize",r)});const y=h&&f?l4(h,r):null;let x=-1,b=null;d&&(b=new ResizeObserver(_=>{let[A]=_;A&&A.target===h&&b&&(b.unobserve(n),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(n)})),r()}),h&&!m&&b.observe(h),b.observe(n));let j,N=m?xo(e):null;m&&S();function S(){const _=xo(e);N&&!Zw(N,_)&&r(),N=_,j=requestAnimationFrame(S)}return r(),()=>{var _;g.forEach(A=>{l&&A.removeEventListener("scroll",r),c&&A.removeEventListener("resize",r)}),y?.(),(_=b)==null||_.disconnect(),b=null,m&&cancelAnimationFrame(j)}}const u4=Ok,d4=zk,f4=Mk,m4=Lk,h4=Rk,Xv=Ak,p4=Ik,g4=(e,n,r)=>{const a=new Map,l={platform:i4,...r},c={...l.platform,_c:a};return Tk(e,n,{...l,platform:c})};var x4=typeof document<"u",y4=function(){},bu=x4?w.useLayoutEffect:y4;function $u(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,a,l;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(a=r;a--!==0;)if(!$u(e[a],n[a]))return!1;return!0}if(l=Object.keys(e),r=l.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(n,l[a]))return!1;for(a=r;a--!==0;){const c=l[a];if(!(c==="_owner"&&e.$$typeof)&&!$u(e[c],n[c]))return!1}return!0}return e!==e&&n!==n}function Ww(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zv(e,n){const r=Ww(e);return Math.round(n*r)/r}function bh(e){const n=w.useRef(e);return bu(()=>{n.current=e}),n}function v4(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:l,elements:{reference:c,floating:d}={},transform:f=!0,whileElementsMounted:m,open:h}=e,[g,y]=w.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[x,b]=w.useState(a);$u(x,a)||b(a);const[j,N]=w.useState(null),[S,_]=w.useState(null),A=w.useCallback(I=>{I!==D.current&&(D.current=I,N(I))},[]),E=w.useCallback(I=>{I!==O.current&&(O.current=I,_(I))},[]),M=c||j,R=d||S,D=w.useRef(null),O=w.useRef(null),P=w.useRef(g),q=m!=null,Z=bh(m),Q=bh(l),G=bh(h),ne=w.useCallback(()=>{if(!D.current||!O.current)return;const I={placement:n,strategy:r,middleware:x};Q.current&&(I.platform=Q.current),g4(D.current,O.current,I).then($=>{const C={...$,isPositioned:G.current!==!1};U.current&&!$u(P.current,C)&&(P.current=C,jl.flushSync(()=>{y(C)}))})},[x,n,r,Q,G]);bu(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,y(I=>({...I,isPositioned:!1})))},[h]);const U=w.useRef(!1);bu(()=>(U.current=!0,()=>{U.current=!1}),[]),bu(()=>{if(M&&(D.current=M),R&&(O.current=R),M&&R){if(Z.current)return Z.current(M,R,ne);ne()}},[M,R,ne,Z,q]);const B=w.useMemo(()=>({reference:D,floating:O,setReference:A,setFloating:E}),[A,E]),k=w.useMemo(()=>({reference:M,floating:R}),[M,R]),L=w.useMemo(()=>{const I={position:r,left:0,top:0};if(!k.floating)return I;const $=Zv(k.floating,g.x),C=Zv(k.floating,g.y);return f?{...I,transform:"translate("+$+"px, "+C+"px)",...Ww(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:C}},[r,f,k.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:ne,refs:B,elements:k,floatingStyles:L}),[g,ne,B,k,L])}const b4=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:l}=typeof e=="function"?e(r):e;return a&&n(a)?a.current!=null?Xv({element:a.current,padding:l}).fn(r):{}:a?Xv({element:a,padding:l}).fn(r):{}}}},w4=(e,n)=>({...u4(e),options:[e,n]}),N4=(e,n)=>({...d4(e),options:[e,n]}),j4=(e,n)=>({...p4(e),options:[e,n]}),S4=(e,n)=>({...f4(e),options:[e,n]}),_4=(e,n)=>({...m4(e),options:[e,n]}),E4=(e,n)=>({...h4(e),options:[e,n]}),C4=(e,n)=>({...b4(e),options:[e,n]});var k4="Arrow",Kw=w.forwardRef((e,n)=>{const{children:r,width:a=10,height:l=5,...c}=e;return o.jsx(Ye.svg,{...c,ref:n,width:a,height:l,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kw.displayName=k4;var T4=Kw;function qp(e){const[n,r]=w.useState(void 0);return Wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const c=l[0];let d,f;if("borderBoxSize"in c){const m=c.borderBoxSize,h=Array.isArray(m)?m[0]:m;d=h.inlineSize,f=h.blockSize}else d=e.offsetWidth,f=e.offsetHeight;r({width:d,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),n}var Fp="Popper",[Qw,Va]=Qn(Fp),[A4,Jw]=Qw(Fp),e1=e=>{const{__scopePopper:n,children:r}=e,[a,l]=w.useState(null);return o.jsx(A4,{scope:n,anchor:a,onAnchorChange:l,children:r})};e1.displayName=Fp;var t1="PopperAnchor",n1=w.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:a,...l}=e,c=Jw(t1,r),d=w.useRef(null),f=rt(n,d),m=w.useRef(null);return w.useEffect(()=>{const h=m.current;m.current=a?.current||d.current,h!==m.current&&c.onAnchorChange(m.current)}),a?null:o.jsx(Ye.div,{...l,ref:f})});n1.displayName=t1;var Yp="PopperContent",[M4,R4]=Qw(Yp),s1=w.forwardRef((e,n)=>{const{__scopePopper:r,side:a="bottom",sideOffset:l=0,align:c="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:j,...N}=e,S=Jw(Yp,r),[_,A]=w.useState(null),E=rt(n,ee=>A(ee)),[M,R]=w.useState(null),D=qp(M),O=D?.width??0,P=D?.height??0,q=a+(c!=="center"?"-"+c:""),Z=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Q=Array.isArray(h)?h:[h],G=Q.length>0,ne={padding:Z,boundary:Q.filter(O4),altBoundary:G},{refs:U,floatingStyles:B,placement:k,isPositioned:L,middlewareData:I}=v4({strategy:"fixed",placement:q,whileElementsMounted:(...ee)=>c4(...ee,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[w4({mainAxis:l+P,alignmentAxis:d}),m&&N4({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?j4():void 0,...ne}),m&&S4({...ne}),_4({...ne,apply:({elements:ee,rects:ie,availableWidth:ge,availableHeight:Ee})=>{const{width:Ne,height:ve}=ie.reference,ze=ee.floating.style;ze.setProperty("--radix-popper-available-width",`${ge}px`),ze.setProperty("--radix-popper-available-height",`${Ee}px`),ze.setProperty("--radix-popper-anchor-width",`${Ne}px`),ze.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),M&&C4({element:M,padding:f}),z4({arrowWidth:O,arrowHeight:P}),x&&E4({strategy:"referenceHidden",...ne})]}),[$,C]=a1(k),H=Zt(j);Wt(()=>{L&&H?.()},[L,H]);const Y=I.arrow?.x,V=I.arrow?.y,J=I.arrow?.centerOffset!==0,[ce,fe]=w.useState();return Wt(()=>{_&&fe(window.getComputedStyle(_).zIndex)},[_]),o.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(M4,{scope:r,placedSide:$,onArrowChange:R,arrowX:Y,arrowY:V,shouldHideArrow:J,children:o.jsx(Ye.div,{"data-side":$,"data-align":C,...N,ref:E,style:{...N.style,animation:L?void 0:"none"}})})})});s1.displayName=Yp;var r1="PopperArrow",D4={top:"bottom",right:"left",bottom:"top",left:"right"},o1=w.forwardRef(function(n,r){const{__scopePopper:a,...l}=n,c=R4(r1,a),d=D4[c.placedSide];return o.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:o.jsx(T4,{...l,ref:r,style:{...l.style,display:"block"}})})});o1.displayName=r1;function O4(e){return e!==null}var z4=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:a,middlewareData:l}=n,d=l.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[h,g]=a1(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(l.arrow?.x??0)+f/2,b=(l.arrow?.y??0)+m/2;let j="",N="";return h==="bottom"?(j=d?y:`${x}px`,N=`${-m}px`):h==="top"?(j=d?y:`${x}px`,N=`${a.floating.height+m}px`):h==="right"?(j=`${-m}px`,N=d?y:`${b}px`):h==="left"&&(j=`${a.floating.width+m}px`,N=d?y:`${b}px`),{data:{x:j,y:N}}}});function a1(e){const[n,r="center"]=e.split("-");return[n,r]}var Gp=e1,Xp=n1,Zp=s1,Wp=o1,I4="Portal",pd=w.forwardRef((e,n)=>{const{container:r,...a}=e,[l,c]=w.useState(!1);Wt(()=>c(!0),[]);const d=r||l&&globalThis?.document?.body;return d?QC.createPortal(o.jsx(Ye.div,{...a,ref:n}),d):null});pd.displayName=I4;function L4(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var Cn=e=>{const{present:n,children:r}=e,a=$4(n),l=typeof r=="function"?r({present:a.isPresent}):w.Children.only(r),c=rt(a.ref,H4(l));return typeof r=="function"||a.isPresent?w.cloneElement(l,{ref:c}):null};Cn.displayName="Presence";function $4(e){const[n,r]=w.useState(),a=w.useRef(null),l=w.useRef(e),c=w.useRef("none"),d=e?"mounted":"unmounted",[f,m]=L4(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=su(a.current);c.current=f==="mounted"?h:"none"},[f]),Wt(()=>{const h=a.current,g=l.current;if(g!==e){const x=c.current,b=su(h);e?m("MOUNT"):b==="none"||h?.display==="none"?m("UNMOUNT"):m(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),l.current=e}},[e,m]),Wt(()=>{if(n){let h;const g=n.ownerDocument.defaultView??window,y=b=>{const N=su(a.current).includes(CSS.escape(b.animationName));if(b.target===n&&N&&(m("ANIMATION_END"),!l.current)){const S=n.style.animationFillMode;n.style.animationFillMode="forwards",h=g.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=S)})}},x=b=>{b.target===n&&(c.current=su(a.current))};return n.addEventListener("animationstart",x),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{g.clearTimeout(h),n.removeEventListener("animationstart",x),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[n,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function su(e){return e?.animationName||"none"}function H4(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wh="rovingFocusGroup.onEntryFocus",P4={bubbles:!1,cancelable:!0},El="RovingFocusGroup",[np,i1,B4]=Ip(El),[U4,gd]=Qn(El,[B4]),[V4,q4]=U4(El),l1=w.forwardRef((e,n)=>o.jsx(np.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(np.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(F4,{...e,ref:n})})}));l1.displayName=El;var F4=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:l=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:g=!1,...y}=e,x=w.useRef(null),b=rt(n,x),j=Sl(c),[N,S]=Rr({prop:d,defaultProp:f??null,onChange:m,caller:El}),[_,A]=w.useState(!1),E=Zt(h),M=i1(r),R=w.useRef(!1),[D,O]=w.useState(0);return w.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(wh,E),()=>P.removeEventListener(wh,E)},[E]),o.jsx(V4,{scope:r,orientation:a,dir:j,loop:l,currentTabStopId:N,onItemFocus:w.useCallback(P=>S(P),[S]),onItemShiftTab:w.useCallback(()=>A(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(P=>P+1),[]),onFocusableItemRemove:w.useCallback(()=>O(P=>P-1),[]),children:o.jsx(Ye.div,{tabIndex:_||D===0?-1:0,"data-orientation":a,...y,ref:b,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{R.current=!0}),onFocus:ke(e.onFocus,P=>{const q=!R.current;if(P.target===P.currentTarget&&q&&!_){const Z=new CustomEvent(wh,P4);if(P.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const Q=M().filter(k=>k.focusable),G=Q.find(k=>k.active),ne=Q.find(k=>k.id===N),B=[G,ne,...Q].filter(Boolean).map(k=>k.ref.current);d1(B,g)}}R.current=!1}),onBlur:ke(e.onBlur,()=>A(!1))})})}),c1="RovingFocusGroupItem",u1=w.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:l=!1,tabStopId:c,children:d,...f}=e,m=Dr(),h=c||m,g=q4(c1,r),y=g.currentTabStopId===h,x=i1(r),{onFocusableItemAdd:b,onFocusableItemRemove:j,currentTabStopId:N}=g;return w.useEffect(()=>{if(a)return b(),()=>j()},[a,b,j]),o.jsx(np.ItemSlot,{scope:r,id:h,focusable:a,active:l,children:o.jsx(Ye.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...f,ref:n,onMouseDown:ke(e.onMouseDown,S=>{a?g.onItemFocus(h):S.preventDefault()}),onFocus:ke(e.onFocus,()=>g.onItemFocus(h)),onKeyDown:ke(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){g.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const _=X4(S,g.orientation,g.dir);if(_!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let E=x().filter(M=>M.focusable).map(M=>M.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const M=E.indexOf(S.currentTarget);E=g.loop?Z4(E,M+1):E.slice(M+1)}setTimeout(()=>d1(E))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:N!=null}):d})})});u1.displayName=c1;var Y4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G4(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X4(e,n,r){const a=G4(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Y4[a]}function d1(e,n=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:n}),document.activeElement!==r))return}function Z4(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var f1=l1,m1=u1,W4=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},da=new WeakMap,ru=new WeakMap,ou={},Nh=0,h1=function(e){return e&&(e.host||h1(e.parentNode))},K4=function(e,n){return n.map(function(r){if(e.contains(r))return r;var a=h1(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Q4=function(e,n,r,a){var l=K4(n,Array.isArray(e)?e:[e]);ou[r]||(ou[r]=new WeakMap);var c=ou[r],d=[],f=new Set,m=new Set(l),h=function(y){!y||f.has(y)||(f.add(y),h(y.parentNode))};l.forEach(h);var g=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(x){if(f.has(x))g(x);else try{var b=x.getAttribute(a),j=b!==null&&b!=="false",N=(da.get(x)||0)+1,S=(c.get(x)||0)+1;da.set(x,N),c.set(x,S),d.push(x),N===1&&j&&ru.set(x,!0),S===1&&x.setAttribute(r,"true"),j||x.setAttribute(a,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return g(n),f.clear(),Nh++,function(){d.forEach(function(y){var x=da.get(y)-1,b=c.get(y)-1;da.set(y,x),c.set(y,b),x||(ru.has(y)||y.removeAttribute(a),ru.delete(y)),b||y.removeAttribute(r)}),Nh--,Nh||(da=new WeakMap,da=new WeakMap,ru=new WeakMap,ou={})}},p1=function(e,n,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),l=W4(e);return l?(a.push.apply(a,Array.from(l.querySelectorAll("[aria-live], script"))),Q4(a,l,r,"aria-hidden")):function(){return null}},ls=function(){return ls=Object.assign||function(n){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},ls.apply(this,arguments)};function g1(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r}function J4(e,n,r){if(r||arguments.length===2)for(var a=0,l=n.length,c;a<l;a++)(c||!(a in n))&&(c||(c=Array.prototype.slice.call(n,0,a)),c[a]=n[a]);return e.concat(c||Array.prototype.slice.call(n))}var wu="right-scroll-bar-position",Nu="width-before-scroll-bar",e3="with-scroll-bars-hidden",t3="--removed-body-scroll-bar-size";function jh(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function n3(e,n){var r=w.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(a){var l=r.value;l!==a&&(r.value=a,r.callback(a,l))}}}})[0];return r.callback=n,r.facade}var s3=typeof window<"u"?w.useLayoutEffect:w.useEffect,Wv=new WeakMap;function r3(e,n){var r=n3(null,function(a){return e.forEach(function(l){return jh(l,a)})});return s3(function(){var a=Wv.get(r);if(a){var l=new Set(a),c=new Set(e),d=r.current;l.forEach(function(f){c.has(f)||jh(f,null)}),c.forEach(function(f){l.has(f)||jh(f,d)})}Wv.set(r,e)},[e]),r}function o3(e){return e}function a3(e,n){n===void 0&&(n=o3);var r=[],a=!1,l={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var d=n(c,a);return r.push(d),function(){r=r.filter(function(f){return f!==d})}},assignSyncMedium:function(c){for(a=!0;r.length;){var d=r;r=[],d.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){a=!0;var d=[];if(r.length){var f=r;r=[],f.forEach(c),d=r}var m=function(){var g=d;d=[],g.forEach(c)},h=function(){return Promise.resolve().then(m)};h(),r={push:function(g){d.push(g),h()},filter:function(g){return d=d.filter(g),r}}}};return l}function i3(e){e===void 0&&(e={});var n=a3(null);return n.options=ls({async:!0,ssr:!1},e),n}var x1=function(e){var n=e.sideCar,r=g1(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,ls({},r))};x1.isSideCarExport=!0;function l3(e,n){return e.useMedium(n),x1}var y1=i3(),Sh=function(){},xd=w.forwardRef(function(e,n){var r=w.useRef(null),a=w.useState({onScrollCapture:Sh,onWheelCapture:Sh,onTouchMoveCapture:Sh}),l=a[0],c=a[1],d=e.forwardProps,f=e.children,m=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,b=e.noRelative,j=e.noIsolation,N=e.inert,S=e.allowPinchZoom,_=e.as,A=_===void 0?"div":_,E=e.gapMode,M=g1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=x,D=r3([r,n]),O=ls(ls({},M),l);return w.createElement(w.Fragment,null,g&&w.createElement(R,{sideCar:y1,removeScrollBar:h,shards:y,noRelative:b,noIsolation:j,inert:N,setCallbacks:c,allowPinchZoom:!!S,lockRef:r,gapMode:E}),d?w.cloneElement(w.Children.only(f),ls(ls({},O),{ref:D})):w.createElement(A,ls({},O,{className:m,ref:D}),f))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Nu,zeroRight:wu};var c3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=c3();return n&&e.setAttribute("nonce",n),e}function d3(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function f3(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var m3=function(){var e=0,n=null;return{add:function(r){e==0&&(n=u3())&&(d3(n,r),f3(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},h3=function(){var e=m3();return function(n,r){w.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},v1=function(){var e=h3(),n=function(r){var a=r.styles,l=r.dynamic;return e(a,l),null};return n},p3={left:0,top:0,right:0,gap:0},_h=function(e){return parseInt(e||"",10)||0},g3=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],l=n[e==="padding"?"paddingRight":"marginRight"];return[_h(r),_h(a),_h(l)]},x3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p3;var n=g3(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-r+n[2]-n[0])}},y3=v1(),ba="data-scroll-locked",v3=function(e,n,r,a){var l=e.left,c=e.top,d=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(e3,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(ba,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(l,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wu,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Nu,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ba,`] {
    `).concat(t3,": ").concat(f,`px;
  }
`)},Kv=function(){var e=parseInt(document.body.getAttribute(ba)||"0",10);return isFinite(e)?e:0},b3=function(){w.useEffect(function(){return document.body.setAttribute(ba,(Kv()+1).toString()),function(){var e=Kv()-1;e<=0?document.body.removeAttribute(ba):document.body.setAttribute(ba,e.toString())}},[])},w3=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,l=a===void 0?"margin":a;b3();var c=w.useMemo(function(){return x3(l)},[l]);return w.createElement(y3,{styles:v3(c,!n,l,r?"":"!important")})},sp=!1;if(typeof window<"u")try{var au=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{sp=!1}var fa=sp?{passive:!1}:!1,N3=function(e){return e.tagName==="TEXTAREA"},b1=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!N3(e)&&r[n]==="visible")},j3=function(e){return b1(e,"overflowY")},S3=function(e){return b1(e,"overflowX")},Qv=function(e,n){var r=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var l=w1(e,a);if(l){var c=N1(e,a),d=c[1],f=c[2];if(d>f)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},_3=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},E3=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},w1=function(e,n){return e==="v"?j3(n):S3(n)},N1=function(e,n){return e==="v"?_3(n):E3(n)},C3=function(e,n){return e==="h"&&n==="rtl"?-1:1},k3=function(e,n,r,a,l){var c=C3(e,window.getComputedStyle(n).direction),d=c*a,f=r.target,m=n.contains(f),h=!1,g=d>0,y=0,x=0;do{if(!f)break;var b=N1(e,f),j=b[0],N=b[1],S=b[2],_=N-S-c*j;(j||_)&&w1(e,f)&&(y+=_,x+=j);var A=f.parentNode;f=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!m&&f!==document.body||m&&(n.contains(f)||n===f));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},iu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jv=function(e){return[e.deltaX,e.deltaY]},eb=function(e){return e&&"current"in e?e.current:e},T3=function(e,n){return e[0]===n[0]&&e[1]===n[1]},A3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},M3=0,ma=[];function R3(e){var n=w.useRef([]),r=w.useRef([0,0]),a=w.useRef(),l=w.useState(M3++)[0],c=w.useState(v1)[0],d=w.useRef(e);w.useEffect(function(){d.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var N=J4([e.lockRef.current],(e.shards||[]).map(eb),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var f=w.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!d.current.allowPinchZoom;var _=iu(N),A=r.current,E="deltaX"in N?N.deltaX:A[0]-_[0],M="deltaY"in N?N.deltaY:A[1]-_[1],R,D=N.target,O=Math.abs(E)>Math.abs(M)?"h":"v";if("touches"in N&&O==="h"&&D.type==="range")return!1;var P=Qv(O,D);if(!P)return!0;if(P?R=O:(R=O==="v"?"h":"v",P=Qv(O,D)),!P)return!1;if(!a.current&&"changedTouches"in N&&(E||M)&&(a.current=R),!R)return!0;var q=a.current||R;return k3(q,S,N,q==="h"?E:M)},[]),m=w.useCallback(function(N){var S=N;if(!(!ma.length||ma[ma.length-1]!==c)){var _="deltaY"in S?Jv(S):iu(S),A=n.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&T3(R.delta,_)})[0];if(A&&A.should){S.cancelable&&S.preventDefault();return}if(!A){var E=(d.current.shards||[]).map(eb).filter(Boolean).filter(function(R){return R.contains(S.target)}),M=E.length>0?f(S,E[0]):!d.current.noIsolation;M&&S.cancelable&&S.preventDefault()}}},[]),h=w.useCallback(function(N,S,_,A){var E={name:N,delta:S,target:_,should:A,shadowParent:D3(_)};n.current.push(E),setTimeout(function(){n.current=n.current.filter(function(M){return M!==E})},1)},[]),g=w.useCallback(function(N){r.current=iu(N),a.current=void 0},[]),y=w.useCallback(function(N){h(N.type,Jv(N),N.target,f(N,e.lockRef.current))},[]),x=w.useCallback(function(N){h(N.type,iu(N),N.target,f(N,e.lockRef.current))},[]);w.useEffect(function(){return ma.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",m,fa),document.addEventListener("touchmove",m,fa),document.addEventListener("touchstart",g,fa),function(){ma=ma.filter(function(N){return N!==c}),document.removeEventListener("wheel",m,fa),document.removeEventListener("touchmove",m,fa),document.removeEventListener("touchstart",g,fa)}},[]);var b=e.removeScrollBar,j=e.inert;return w.createElement(w.Fragment,null,j?w.createElement(c,{styles:A3(l)}):null,b?w.createElement(w3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function D3(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const O3=l3(y1,R3);var Kp=w.forwardRef(function(e,n){return w.createElement(xd,ls({},e,{ref:n,sideCar:O3}))});Kp.classNames=xd.classNames;var rp=["Enter"," "],z3=["ArrowDown","PageUp","Home"],j1=["ArrowUp","PageDown","End"],I3=[...z3,...j1],L3={ltr:[...rp,"ArrowRight"],rtl:[...rp,"ArrowLeft"]},$3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cl="Menu",[ll,H3,P3]=Ip(Cl),[jo,S1]=Qn(Cl,[P3,Va,gd]),yd=Va(),_1=gd(),[B3,So]=jo(Cl),[U3,kl]=jo(Cl),E1=e=>{const{__scopeMenu:n,open:r=!1,children:a,dir:l,onOpenChange:c,modal:d=!0}=e,f=yd(n),[m,h]=w.useState(null),g=w.useRef(!1),y=Zt(c),x=Sl(l);return w.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),o.jsx(Gp,{...f,children:o.jsx(B3,{scope:n,open:r,onOpenChange:y,content:m,onContentChange:h,children:o.jsx(U3,{scope:n,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:x,modal:d,children:a})})})};E1.displayName=Cl;var V3="MenuAnchor",Qp=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=yd(r);return o.jsx(Xp,{...l,...a,ref:n})});Qp.displayName=V3;var Jp="MenuPortal",[q3,C1]=jo(Jp,{forceMount:void 0}),k1=e=>{const{__scopeMenu:n,forceMount:r,children:a,container:l}=e,c=So(Jp,n);return o.jsx(q3,{scope:n,forceMount:r,children:o.jsx(Cn,{present:r||c.open,children:o.jsx(pd,{asChild:!0,container:l,children:a})})})};k1.displayName=Jp;var $n="MenuContent",[F3,eg]=jo($n),T1=w.forwardRef((e,n)=>{const r=C1($n,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=So($n,e.__scopeMenu),d=kl($n,e.__scopeMenu);return o.jsx(ll.Provider,{scope:e.__scopeMenu,children:o.jsx(Cn,{present:a||c.open,children:o.jsx(ll.Slot,{scope:e.__scopeMenu,children:d.modal?o.jsx(Y3,{...l,ref:n}):o.jsx(G3,{...l,ref:n})})})})}),Y3=w.forwardRef((e,n)=>{const r=So($n,e.__scopeMenu),a=w.useRef(null),l=rt(n,a);return w.useEffect(()=>{const c=a.current;if(c)return p1(c)},[]),o.jsx(tg,{...e,ref:l,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),G3=w.forwardRef((e,n)=>{const r=So($n,e.__scopeMenu);return o.jsx(tg,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),X3=_a("MenuContent.ScrollLock"),tg=w.forwardRef((e,n)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:l,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:f,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,disableOutsideScroll:j,...N}=e,S=So($n,r),_=kl($n,r),A=yd(r),E=_1(r),M=H3(r),[R,D]=w.useState(null),O=w.useRef(null),P=rt(n,O,S.onContentChange),q=w.useRef(0),Z=w.useRef(""),Q=w.useRef(0),G=w.useRef(null),ne=w.useRef("right"),U=w.useRef(0),B=j?Kp:w.Fragment,k=j?{as:X3,allowPinchZoom:!0}:void 0,L=$=>{const C=Z.current+$,H=M().filter(ee=>!ee.disabled),Y=document.activeElement,V=H.find(ee=>ee.ref.current===Y)?.textValue,J=H.map(ee=>ee.textValue),ce=aT(J,C,V),fe=H.find(ee=>ee.textValue===ce)?.ref.current;(function ee(ie){Z.current=ie,window.clearTimeout(q.current),ie!==""&&(q.current=window.setTimeout(()=>ee(""),1e3))})(C),fe&&setTimeout(()=>fe.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),$w();const I=w.useCallback($=>ne.current===G.current?.side&&lT($,G.current?.area),[]);return o.jsx(F3,{scope:r,searchRef:Z,onItemEnter:w.useCallback($=>{I($)&&$.preventDefault()},[I]),onItemLeave:w.useCallback($=>{I($)||(O.current?.focus(),D(null))},[I]),onTriggerLeave:w.useCallback($=>{I($)&&$.preventDefault()},[I]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:w.useCallback($=>{G.current=$},[]),children:o.jsx(B,{...k,children:o.jsx(Lp,{asChild:!0,trapped:l,onMountAutoFocus:ke(c,$=>{$.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:o.jsx(ud,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:h,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:b,children:o.jsx(f1,{asChild:!0,...E,dir:_.dir,orientation:"vertical",loop:a,currentTabStopId:R,onCurrentTabStopIdChange:D,onEntryFocus:ke(m,$=>{_.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Zp,{role:"menu","aria-orientation":"vertical","data-state":F1(S.open),"data-radix-menu-content":"",dir:_.dir,...A,...N,ref:P,style:{outline:"none",...N.style},onKeyDown:ke(N.onKeyDown,$=>{const H=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Y=$.ctrlKey||$.altKey||$.metaKey,V=$.key.length===1;H&&($.key==="Tab"&&$.preventDefault(),!Y&&V&&L($.key));const J=O.current;if($.target!==J||!I3.includes($.key))return;$.preventDefault();const fe=M().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);j1.includes($.key)&&fe.reverse(),rT(fe)}),onBlur:ke(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(q.current),Z.current="")}),onPointerMove:ke(e.onPointerMove,cl($=>{const C=$.target,H=U.current!==$.clientX;if($.currentTarget.contains(C)&&H){const Y=$.clientX>U.current?"right":"left";ne.current=Y,U.current=$.clientX}}))})})})})})})});T1.displayName=$n;var Z3="MenuGroup",ng=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"group",...a,ref:n})});ng.displayName=Z3;var W3="MenuLabel",A1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{...a,ref:n})});A1.displayName=W3;var Hu="MenuItem",tb="menu.itemSelect",vd=w.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:a,...l}=e,c=w.useRef(null),d=kl(Hu,e.__scopeMenu),f=eg(Hu,e.__scopeMenu),m=rt(n,c),h=w.useRef(!1),g=()=>{const y=c.current;if(!r&&y){const x=new CustomEvent(tb,{bubbles:!0,cancelable:!0});y.addEventListener(tb,b=>a?.(b),{once:!0}),zw(y,x),x.defaultPrevented?h.current=!1:d.onClose()}};return o.jsx(M1,{...l,ref:m,disabled:r,onClick:ke(e.onClick,g),onPointerDown:y=>{e.onPointerDown?.(y),h.current=!0},onPointerUp:ke(e.onPointerUp,y=>{h.current||y.currentTarget?.click()}),onKeyDown:ke(e.onKeyDown,y=>{const x=f.searchRef.current!=="";r||x&&y.key===" "||rp.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});vd.displayName=Hu;var M1=w.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:a=!1,textValue:l,...c}=e,d=eg(Hu,r),f=_1(r),m=w.useRef(null),h=rt(n,m),[g,y]=w.useState(!1),[x,b]=w.useState("");return w.useEffect(()=>{const j=m.current;j&&b((j.textContent??"").trim())},[c.children]),o.jsx(ll.ItemSlot,{scope:r,disabled:a,textValue:l??x,children:o.jsx(m1,{asChild:!0,...f,focusable:!a,children:o.jsx(Ye.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...c,ref:h,onPointerMove:ke(e.onPointerMove,cl(j=>{a?d.onItemLeave(j):(d.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,cl(j=>d.onItemLeave(j))),onFocus:ke(e.onFocus,()=>y(!0)),onBlur:ke(e.onBlur,()=>y(!1))})})})}),K3="MenuCheckboxItem",R1=w.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:a,...l}=e;return o.jsx(L1,{scope:e.__scopeMenu,checked:r,children:o.jsx(vd,{role:"menuitemcheckbox","aria-checked":Pu(r)?"mixed":r,...l,ref:n,"data-state":rg(r),onSelect:ke(l.onSelect,()=>a?.(Pu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});R1.displayName=K3;var D1="MenuRadioGroup",[Q3,J3]=jo(D1,{value:void 0,onValueChange:()=>{}}),O1=w.forwardRef((e,n)=>{const{value:r,onValueChange:a,...l}=e,c=Zt(a);return o.jsx(Q3,{scope:e.__scopeMenu,value:r,onValueChange:c,children:o.jsx(ng,{...l,ref:n})})});O1.displayName=D1;var z1="MenuRadioItem",I1=w.forwardRef((e,n)=>{const{value:r,...a}=e,l=J3(z1,e.__scopeMenu),c=r===l.value;return o.jsx(L1,{scope:e.__scopeMenu,checked:c,children:o.jsx(vd,{role:"menuitemradio","aria-checked":c,...a,ref:n,"data-state":rg(c),onSelect:ke(a.onSelect,()=>l.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});I1.displayName=z1;var sg="MenuItemIndicator",[L1,eT]=jo(sg,{checked:!1}),$1=w.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:a,...l}=e,c=eT(sg,r);return o.jsx(Cn,{present:a||Pu(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{...l,ref:n,"data-state":rg(c.checked)})})});$1.displayName=sg;var tT="MenuSeparator",H1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e;return o.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...a,ref:n})});H1.displayName=tT;var nT="MenuArrow",P1=w.forwardRef((e,n)=>{const{__scopeMenu:r,...a}=e,l=yd(r);return o.jsx(Wp,{...l,...a,ref:n})});P1.displayName=nT;var sT="MenuSub",[X7,B1]=jo(sT),Ki="MenuSubTrigger",U1=w.forwardRef((e,n)=>{const r=So(Ki,e.__scopeMenu),a=kl(Ki,e.__scopeMenu),l=B1(Ki,e.__scopeMenu),c=eg(Ki,e.__scopeMenu),d=w.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:m}=c,h={__scopeMenu:e.__scopeMenu},g=w.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const y=f.current;return()=>{window.clearTimeout(y),m(null)}},[f,m]),o.jsx(Qp,{asChild:!0,...h,children:o.jsx(M1,{id:l.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":l.contentId,"data-state":F1(r.open),...e,ref:cd(n,l.onTriggerChange),onClick:y=>{e.onClick?.(y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,cl(y=>{c.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!r.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:ke(e.onPointerLeave,cl(y=>{g();const x=r.content?.getBoundingClientRect();if(x){const b=r.content?.dataset.side,j=b==="right",N=j?-5:5,S=x[j?"left":"right"],_=x[j?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+N,y:y.clientY},{x:S,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:S,y:x.bottom}],side:b}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,y=>{const x=c.searchRef.current!=="";e.disabled||x&&y.key===" "||L3[a.dir].includes(y.key)&&(r.onOpenChange(!0),r.content?.focus(),y.preventDefault())})})})});U1.displayName=Ki;var V1="MenuSubContent",q1=w.forwardRef((e,n)=>{const r=C1($n,e.__scopeMenu),{forceMount:a=r.forceMount,...l}=e,c=So($n,e.__scopeMenu),d=kl($n,e.__scopeMenu),f=B1(V1,e.__scopeMenu),m=w.useRef(null),h=rt(n,m);return o.jsx(ll.Provider,{scope:e.__scopeMenu,children:o.jsx(Cn,{present:a||c.open,children:o.jsx(ll.Slot,{scope:e.__scopeMenu,children:o.jsx(tg,{id:f.contentId,"aria-labelledby":f.triggerId,...l,ref:h,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{d.isUsingKeyboardRef.current&&m.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ke(e.onFocusOutside,g=>{g.target!==f.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,g=>{d.onClose(),g.preventDefault()}),onKeyDown:ke(e.onKeyDown,g=>{const y=g.currentTarget.contains(g.target),x=$3[d.dir].includes(g.key);y&&x&&(c.onOpenChange(!1),f.trigger?.focus(),g.preventDefault())})})})})})});q1.displayName=V1;function F1(e){return e?"open":"closed"}function Pu(e){return e==="indeterminate"}function rg(e){return Pu(e)?"indeterminate":e?"checked":"unchecked"}function rT(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function oT(e,n){return e.map((r,a)=>e[(n+a)%e.length])}function aT(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=oT(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function iT(e,n){const{x:r,y:a}=e;let l=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],m=n[d],h=f.x,g=f.y,y=m.x,x=m.y;g>a!=x>a&&r<(y-h)*(a-g)/(x-g)+h&&(l=!l)}return l}function lT(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return iT(r,n)}function cl(e){return n=>n.pointerType==="mouse"?e(n):void 0}var cT=E1,uT=Qp,dT=k1,fT=T1,mT=ng,hT=A1,pT=vd,gT=R1,xT=O1,yT=I1,vT=$1,bT=H1,wT=P1,NT=U1,jT=q1,bd="DropdownMenu",[ST,Z7]=Qn(bd,[S1]),sn=S1(),[_T,Y1]=ST(bd),G1=e=>{const{__scopeDropdownMenu:n,children:r,dir:a,open:l,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,m=sn(n),h=w.useRef(null),[g,y]=Rr({prop:l,defaultProp:c??!1,onChange:d,caller:bd});return o.jsx(_T,{scope:n,triggerId:Dr(),triggerRef:h,contentId:Dr(),open:g,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(x=>!x),[y]),modal:f,children:o.jsx(cT,{...m,open:g,onOpenChange:y,dir:a,modal:f,children:r})})};G1.displayName=bd;var X1="DropdownMenuTrigger",Z1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...l}=e,c=Y1(X1,r),d=sn(r);return o.jsx(uT,{asChild:!0,...d,children:o.jsx(Ye.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...l,ref:cd(n,c.triggerRef),onPointerDown:ke(e.onPointerDown,f=>{!a&&f.button===0&&f.ctrlKey===!1&&(c.onOpenToggle(),c.open||f.preventDefault())}),onKeyDown:ke(e.onKeyDown,f=>{a||(["Enter"," "].includes(f.key)&&c.onOpenToggle(),f.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});Z1.displayName=X1;var ET="DropdownMenuPortal",W1=e=>{const{__scopeDropdownMenu:n,...r}=e,a=sn(n);return o.jsx(dT,{...a,...r})};W1.displayName=ET;var K1="DropdownMenuContent",Q1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=Y1(K1,r),c=sn(r),d=w.useRef(!1);return o.jsx(fT,{id:l.contentId,"aria-labelledby":l.triggerId,...c,...a,ref:n,onCloseAutoFocus:ke(e.onCloseAutoFocus,f=>{d.current||l.triggerRef.current?.focus(),d.current=!1,f.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,f=>{const m=f.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,g=m.button===2||h;(!l.modal||g)&&(d.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q1.displayName=K1;var CT="DropdownMenuGroup",kT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(mT,{...l,...a,ref:n})});kT.displayName=CT;var TT="DropdownMenuLabel",J1=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(hT,{...l,...a,ref:n})});J1.displayName=TT;var AT="DropdownMenuItem",eN=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(pT,{...l,...a,ref:n})});eN.displayName=AT;var MT="DropdownMenuCheckboxItem",RT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(gT,{...l,...a,ref:n})});RT.displayName=MT;var DT="DropdownMenuRadioGroup",OT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(xT,{...l,...a,ref:n})});OT.displayName=DT;var zT="DropdownMenuRadioItem",IT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(yT,{...l,...a,ref:n})});IT.displayName=zT;var LT="DropdownMenuItemIndicator",$T=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(vT,{...l,...a,ref:n})});$T.displayName=LT;var HT="DropdownMenuSeparator",tN=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(bT,{...l,...a,ref:n})});tN.displayName=HT;var PT="DropdownMenuArrow",BT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(wT,{...l,...a,ref:n})});BT.displayName=PT;var UT="DropdownMenuSubTrigger",VT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(NT,{...l,...a,ref:n})});VT.displayName=UT;var qT="DropdownMenuSubContent",FT=w.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...a}=e,l=sn(r);return o.jsx(jT,{...l,...a,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FT.displayName=qT;var YT=G1,GT=Z1,XT=W1,ZT=Q1,WT=J1,KT=eN,QT=tN;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eA=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,a)=>a?a.toUpperCase():r.toLowerCase()),nb=e=>{const n=eA(e);return n.charAt(0).toUpperCase()+n.slice(1)},nN=(...e)=>e.filter((n,r,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===r).join(" ").trim(),tA=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=w.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...f},m)=>w.createElement("svg",{ref:m,...nA,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:nN("lucide",l),...!c&&!tA(f)&&{"aria-hidden":"true"},...f},[...d.map(([h,g])=>w.createElement(h,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,n)=>{const r=w.forwardRef(({className:a,...l},c)=>w.createElement(sA,{ref:c,iconNode:n,className:nN(`lucide-${JT(nb(e))}`,`lucide-${e}`,a),...l}));return r.displayName=nb(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],og=Te("activity",rA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],aA=Te("arrow-down",oA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],lA=Te("arrow-left-right",iA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uA=Te("arrow-left",cA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sN=Te("book-open",dA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Vs=Te("bot",fA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ga=Te("chart-column",mA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],pA=Te("check-check",hA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_o=Te("check",gA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Et=Te("chevron-down",xA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rN=Te("chevron-left",yA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],en=Te("chevron-right",vA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Bu=Te("chevron-up",bA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hs=Te("circle-alert",wA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wd=Te("circle-check-big",NA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nn=Te("circle-check",jA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_A=Te("circle-play",SA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tl=Te("circle-x",EA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ag=Te("clock",CA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],TA=Te("cloud",kA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],oN=Te("code",AA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]],RA=Te("container",MA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fo=Te("copy",DA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],op=Te("database",OA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Uu=Te("download",zA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],LA=Te("ellipsis-vertical",IA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vu=Te("external-link",$A);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qs=Te("file-text",HA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],aN=Te("folder-open",PA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iN=Te("globe",BA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],VA=Te("grid-3x3",UA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FA=Te("house",qA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],GA=Te("image",YA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fs=Te("info",XA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],WA=Te("key",ZA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],QA=Te("layers",KA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],eM=Te("lightbulb",JA);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ir=Te("loader-circle",tM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sM=Te("lock",nM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],oM=Te("map",rM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],iM=Te("maximize",aM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ig=Te("message-square",lM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],uM=Te("moon",cM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],lN=Te("music",dM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qu=Te("package",fM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],hM=Te("panel-right-open",mM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],gM=Te("paperclip",pM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sb=Te("play",xM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lg=Te("plus",yM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],cg=Te("refresh-cw",vM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ap=Te("rocket",bM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ug=Te("rotate-ccw",wM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fu=Te("search",NM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],SM=Te("send-horizontal",jM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],nl=Te("send",_M);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M7 2h13a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5",key:"bt2siv"}],["path",{d:"M10 10 2.5 2.5C2 2 2 2.5 2 5v3a2 2 0 0 0 2 2h6z",key:"1hjrv1"}],["path",{d:"M22 17v-1a2 2 0 0 0-2-2h-1",key:"1iynyr"}],["path",{d:"M4 14a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16.5l1-.5.5.5-8-8H4z",key:"161ggg"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],CM=Te("server-off",EM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ip=Te("settings",kM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],AM=Te("shuffle",TM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Nd=Te("square",MM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DM=Te("sun",RM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dg=Te("trash-2",OM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IM=Te("triangle-alert",zM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$M=Te("upload",LM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cN=Te("user",HM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Bs=Te("workflow",PM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Ca=Te("wrench",BM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ka=Te("x",UM);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Al=Te("zap",VM);function jd({...e}){return o.jsx(YT,{"data-slot":"dropdown-menu",...e})}function Sd({...e}){return o.jsx(GT,{"data-slot":"dropdown-menu-trigger",...e})}function _d({className:e,sideOffset:n=4,...r}){return o.jsx(XT,{children:o.jsx(ZT,{"data-slot":"dropdown-menu-content",sideOffset:n,className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function $t({className:e,inset:n,variant:r="default",...a}){return o.jsx(KT,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:We("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function Eh({className:e,inset:n,...r}){return o.jsx(WT,{"data-slot":"dropdown-menu-label","data-inset":n,className:We("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function wa({className:e,...n}){return o.jsx(QT,{"data-slot":"dropdown-menu-separator",className:We("bg-border -mx-1 my-1 h-px",e),...n})}function Yu({size:e="md",className:n}){return o.jsx(Ir,{className:We("animate-spin",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},n)})}const qM=e=>e==="workflow"?Bs:Vs;function FM({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1}){const[f,m]=w.useState(!1),h=r||[...e,...n],g=j=>{l(j),m(!1)},y=a?qM(a.type):Vs,x=a?.name||a?.id||"Select Agent or Workflow",b=a?.metadata?.lazy_loaded!==!1;return o.jsxs(jd,{open:f,onOpenChange:m,children:[o.jsx(Sd,{asChild:!0,children:o.jsx(Le,{variant:"outline",className:"w-64 justify-between font-mono text-sm",disabled:d,children:d?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yu,{size:"sm"}),o.jsx("span",{className:"text-muted-foreground",children:"Loading..."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(y,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:x}),a&&!b&&o.jsx(Ir,{className:"h-3 w-3 text-muted-foreground animate-spin ml-auto flex-shrink-0"})]}),o.jsx(Et,{className:"h-4 w-4 opacity-50"})]})})}),o.jsxs(_d,{className:"w-80 font-mono",children:[(()=>{const j=h.filter(_=>_.type==="workflow"),N=h.filter(_=>_.type==="agent"),S=h[0]?.type;return o.jsxs(o.Fragment,{children:[S==="workflow"&&j.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(Eh,{className:"flex items-center gap-2",children:[o.jsx(Bs,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const A=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Bs,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),A&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),j.length>0&&N.length>0&&o.jsx(wa,{}),N.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(Eh,{className:"flex items-center gap-2",children:[o.jsx(Vs,{className:"h-4 w-4"}),"Agents (",N.length,")"]}),N.map(_=>{const A=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Vs,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),A&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]}),S==="agent"&&j.length>0&&o.jsxs(o.Fragment,{children:[N.length>0&&o.jsx(wa,{}),o.jsxs(Eh,{className:"flex items-center gap-2",children:[o.jsx(Bs,{className:"h-4 w-4"}),"Workflows (",j.length,")"]}),j.map(_=>{const A=_.metadata?.lazy_loaded!==!1;return o.jsx($t,{className:"cursor-pointer group",onClick:()=>g(_),children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsx(Bs,{className:"h-4 w-4 flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("span",{className:"truncate font-medium block",children:_.name||_.id}),A&&_.description&&o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:_.description})]})]})},_.id)})]})]})})(),h.length===0&&o.jsx($t,{disabled:!0,children:o.jsx("div",{className:"text-center text-muted-foreground py-2",children:d?"Loading agents and workflows...":"No agents or workflows found"})}),o.jsx(wa,{}),o.jsxs($t,{className:"cursor-pointer text-primary",onClick:()=>{c?.(),m(!1)},children:[o.jsx(lg,{className:"h-4 w-4 mr-2"}),"Browse Gallery"]})]})]})}var YM=(e,n,r,a,l,c,d,f)=>{let m=document.documentElement,h=["light","dark"];function g(b){(Array.isArray(e)?e:[e]).forEach(j=>{let N=j==="class",S=N&&c?l.map(_=>c[_]||_):l;N?(m.classList.remove(...S),m.classList.add(c&&c[b]?c[b]:b)):m.setAttribute(j,b)}),y(b)}function y(b){f&&h.includes(b)&&(m.style.colorScheme=b)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)g(a);else try{let b=localStorage.getItem(n)||r,j=d&&b==="system"?x():b;g(j)}catch{}},rb=["light","dark"],uN="(prefers-color-scheme: dark)",GM=typeof window>"u",fg=w.createContext(void 0),XM={setTheme:e=>{},themes:[]},ZM=()=>{var e;return(e=w.useContext(fg))!=null?e:XM},WM=e=>w.useContext(fg)?w.createElement(w.Fragment,null,e.children):w.createElement(QM,{...e}),KM=["light","dark"],QM=({forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:l="theme",themes:c=KM,defaultTheme:d=r?"system":"light",attribute:f="data-theme",value:m,children:h,nonce:g,scriptProps:y})=>{let[x,b]=w.useState(()=>e5(l,d)),[j,N]=w.useState(()=>x==="system"?Ch():x),S=m?Object.values(m):c,_=w.useCallback(R=>{let D=R;if(!D)return;R==="system"&&r&&(D=Ch());let O=m?m[D]:D,P=n?t5(g):null,q=document.documentElement,Z=Q=>{Q==="class"?(q.classList.remove(...S),O&&q.classList.add(O)):Q.startsWith("data-")&&(O?q.setAttribute(Q,O):q.removeAttribute(Q))};if(Array.isArray(f)?f.forEach(Z):Z(f),a){let Q=rb.includes(d)?d:null,G=rb.includes(D)?D:Q;q.style.colorScheme=G}P?.()},[g]),A=w.useCallback(R=>{let D=typeof R=="function"?R(x):R;b(D);try{localStorage.setItem(l,D)}catch{}},[x]),E=w.useCallback(R=>{let D=Ch(R);N(D),x==="system"&&r&&!e&&_("system")},[x,e]);w.useEffect(()=>{let R=window.matchMedia(uN);return R.addListener(E),E(R),()=>R.removeListener(E)},[E]),w.useEffect(()=>{let R=D=>{D.key===l&&(D.newValue?b(D.newValue):A(d))};return window.addEventListener("storage",R),()=>window.removeEventListener("storage",R)},[A]),w.useEffect(()=>{_(e??x)},[e,x]);let M=w.useMemo(()=>({theme:x,setTheme:A,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:r?[...c,"system"]:c,systemTheme:r?j:void 0}),[x,A,e,j,r,c]);return w.createElement(fg.Provider,{value:M},w.createElement(JM,{forcedTheme:e,storageKey:l,attribute:f,enableSystem:r,enableColorScheme:a,defaultTheme:d,value:m,themes:c,nonce:g,scriptProps:y}),h)},JM=w.memo(({forcedTheme:e,storageKey:n,attribute:r,enableSystem:a,enableColorScheme:l,defaultTheme:c,value:d,themes:f,nonce:m,scriptProps:h})=>{let g=JSON.stringify([r,n,c,e,f,d,a,l]).slice(1,-1);return w.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${YM.toString()})(${g})`}})}),e5=(e,n)=>{if(GM)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||n},t5=e=>{let n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},Ch=e=>(e||(e=window.matchMedia(uN)),e.matches?"dark":"light");function n5(){const{setTheme:e}=ZM();return o.jsxs(jd,{children:[o.jsx(Sd,{asChild:!0,children:o.jsxs(Le,{variant:"ghost",size:"sm",children:[o.jsx(DM,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(uM,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),o.jsxs(_d,{align:"end",children:[o.jsx($t,{onClick:()=>e("light"),children:"Light"}),o.jsx($t,{onClick:()=>e("dark"),children:"Dark"}),o.jsx($t,{onClick:()=>e("system"),children:"System"})]})]})}const ob=e=>{let n;const r=new Set,a=(h,g)=>{const y=typeof h=="function"?h(n):h;if(!Object.is(y,n)){const x=n;n=g??(typeof y!="object"||y===null)?y:Object.assign({},n,y),r.forEach(b=>b(n,x))}},l=()=>n,f={setState:a,getState:l,getInitialState:()=>m,subscribe:h=>(r.add(h),()=>r.delete(h))},m=n=e(a,l,f);return f},s5=(e=>e?ob(e):ob),r5=e=>e;function o5(e,n=r5){const r=Nn.useSyncExternalStore(e.subscribe,Nn.useCallback(()=>n(e.getState()),[e,n]),Nn.useCallback(()=>n(e.getInitialState()),[e,n]));return Nn.useDebugValue(r),r}const a5=e=>{const n=s5(e),r=a=>o5(n,a);return Object.assign(r,n),r},i5=(e=>a5),ab={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ul=new Map,lu=e=>{const n=ul.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([r,a])=>[r,a.getState()])):{}},l5=(e,n,r)=>{if(e===void 0)return{type:"untracked",connection:n.connect(r)};const a=ul.get(r.name);if(a)return{type:"tracked",store:e,...a};const l={connection:n.connect(r),stores:{}};return ul.set(r.name,l),{type:"tracked",store:e,...l}},c5=(e,n)=>{if(n===void 0)return;const r=ul.get(e);r&&(delete r.stores[n],Object.keys(r.stores).length===0&&ul.delete(e))},u5=e=>{var n,r;if(!e)return;const a=e.split(`
`),l=a.findIndex(d=>d.includes("api.setState"));if(l<0)return;const c=((n=a[l+1])==null?void 0:n.trim())||"";return(r=/.+ (.+) .+/.exec(c))==null?void 0:r[1]},d5=(e,n={})=>(r,a,l)=>{const{enabled:c,anonymousActionType:d,store:f,...m}=n;let h;try{h=(c??(ab?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!h)return e(r,a,l);const{connection:g,...y}=l5(f,h,m);let x=!0;l.setState=((N,S,_)=>{const A=r(N,S);if(!x)return A;const E=_===void 0?{type:d||u5(new Error().stack)||"anonymous"}:typeof _=="string"?{type:_}:_;return f===void 0?(g?.send(E,a()),A):(g?.send({...E,type:`${f}/${E.type}`},{...lu(m.name),[f]:l.getState()}),A)}),l.devtools={cleanup:()=>{g&&typeof g.unsubscribe=="function"&&g.unsubscribe(),c5(m.name,f)}};const b=(...N)=>{const S=x;x=!1,r(...N),x=S},j=e(l.setState,a,l);if(y.type==="untracked"?g?.init(j):(y.stores[y.store]=l,g?.init(Object.fromEntries(Object.entries(y.stores).map(([N,S])=>[N,N===y.store?j:S.getState()])))),l.dispatchFromDevtools&&typeof l.dispatch=="function"){let N=!1;const S=l.dispatch;l.dispatch=(..._)=>{(ab?"production":void 0)!=="production"&&_[0].type==="__setState"&&!N&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),N=!0),S(..._)}}return g.subscribe(N=>{var S;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return kh(N.payload,_=>{if(_.type==="__setState"){if(f===void 0){b(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const A=_.state[f];if(A==null)return;JSON.stringify(l.getState())!==JSON.stringify(A)&&b(A);return}l.dispatchFromDevtools&&typeof l.dispatch=="function"&&l.dispatch(_)});case"DISPATCH":switch(N.payload.type){case"RESET":return b(j),f===void 0?g?.init(l.getState()):g?.init(lu(m.name));case"COMMIT":if(f===void 0){g?.init(l.getState());return}return g?.init(lu(m.name));case"ROLLBACK":return kh(N.state,_=>{if(f===void 0){b(_),g?.init(l.getState());return}b(_[f]),g?.init(lu(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return kh(N.state,_=>{if(f===void 0){b(_);return}JSON.stringify(l.getState())!==JSON.stringify(_[f])&&b(_[f])});case"IMPORT_STATE":{const{nextLiftedState:_}=N.payload,A=(S=_.computedStates.slice(-1)[0])==null?void 0:S.state;if(!A)return;b(f===void 0?A:A[f]),g?.send(null,_);return}case"PAUSE_RECORDING":return x=!x}return}}),j},f5=d5,kh=(e,n)=>{let r;try{r=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}r!==void 0&&n(r)};function m5(e,n){let r;try{r=e()}catch{return}return{getItem:l=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),f=(c=r.getItem(l))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>r.removeItem(l)}}const lp=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(a){return lp(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return lp(a)(r)}}}},h5=(e,n)=>(r,a,l)=>{let c={storage:m5(()=>localStorage),partialize:N=>N,version:0,merge:(N,S)=>({...S,...N}),...n},d=!1;const f=new Set,m=new Set;let h=c.storage;if(!h)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...N)},a,l);const g=()=>{const N=c.partialize({...a()});return h.setItem(c.name,{state:N,version:c.version})},y=l.setState;l.setState=(N,S)=>(y(N,S),g());const x=e((...N)=>(r(...N),g()),a,l);l.getInitialState=()=>x;let b;const j=()=>{var N,S;if(!h)return;d=!1,f.forEach(A=>{var E;return A((E=a())!=null?E:x)});const _=((S=c.onRehydrateStorage)==null?void 0:S.call(c,(N=a())!=null?N:x))||void 0;return lp(h.getItem.bind(h))(c.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==c.version){if(c.migrate){const E=c.migrate(A.state,A.version);return E instanceof Promise?E.then(M=>[!0,M]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var E;const[M,R]=A;if(b=c.merge(R,(E=a())!=null?E:x),r(b,!0),M)return g()}).then(()=>{_?.(b,void 0),b=a(),d=!0,m.forEach(A=>A(b))}).catch(A=>{_?.(void 0,A)})};return l.persist={setOptions:N=>{c={...c,...N},N.storage&&(h=N.storage)},clearStorage:()=>{h?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>d,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},c.skipHydration||j(),b||x},p5=h5,le=i5()(f5(p5(e=>({agents:[],workflows:[],entities:[],selectedAgent:void 0,isLoadingEntities:!0,entityError:null,currentConversation:void 0,availableConversations:[],chatItems:[],isStreaming:!1,isSubmitting:!1,loadingConversations:!1,inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],loadingSessions:!1,loadingCheckpoints:!1,showDebugPanel:!0,debugPanelMinimized:!1,debugPanelWidth:320,debugEvents:[],isResizing:!1,showToolCalls:!0,streamingEnabled:!0,debugPanelTab:"events",debugTraceSubTab:"spans",contextInspectorViewMode:"tokens",contextInspectorCumulative:!1,showAboutModal:!1,showGallery:!1,showDeployModal:!1,showEntityNotFoundToast:!1,toasts:[],oaiMode:{enabled:!1,model:"gpt-4o-mini"},uiMode:"developer",runtime:"python",serverCapabilities:{instrumentation:!1,openai_proxy:!1,deployment:!1},authRequired:!1,serverVersion:null,isDeploying:!1,deploymentLogs:[],lastDeployment:null,azureDeploymentEnabled:!1,setAgents:n=>e({agents:n}),setWorkflows:n=>e({workflows:n}),setEntities:n=>e({entities:n}),setSelectedAgent:n=>e({selectedAgent:n}),addAgent:n=>e(r=>({agents:[...r.agents,n]})),addWorkflow:n=>e(r=>({workflows:[...r.workflows,n]})),updateAgent:n=>e(r=>({agents:r.agents.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="agent"?n:r.selectedAgent})),updateWorkflow:n=>e(r=>({workflows:r.workflows.map(a=>a.id===n.id?n:a),selectedAgent:r.selectedAgent?.id===n.id&&r.selectedAgent.type==="workflow"?n:r.selectedAgent})),removeEntity:n=>e(r=>({agents:r.agents.filter(a=>a.id!==n),workflows:r.workflows.filter(a=>a.id!==n),selectedAgent:r.selectedAgent?.id===n?void 0:r.selectedAgent})),setEntityError:n=>e({entityError:n}),setIsLoadingEntities:n=>e({isLoadingEntities:n}),setCurrentConversation:n=>e({currentConversation:n}),setAvailableConversations:n=>e({availableConversations:n}),setChatItems:n=>e({chatItems:n}),setIsStreaming:n=>e({isStreaming:n}),setIsSubmitting:n=>e({isSubmitting:n}),setLoadingConversations:n=>e({loadingConversations:n}),setInputValue:n=>e({inputValue:n}),setAttachments:n=>e({attachments:n}),updateConversationUsage:n=>e(r=>({conversationUsage:{total_tokens:r.conversationUsage.total_tokens+n,message_count:r.conversationUsage.message_count+1}})),setPendingApprovals:n=>e({pendingApprovals:n}),setCurrentSession:n=>e({currentSession:n}),setAvailableSessions:n=>e({availableSessions:n}),setSessionCheckpoints:n=>e({sessionCheckpoints:n}),setLoadingSessions:n=>e({loadingSessions:n}),setLoadingCheckpoints:n=>e({loadingCheckpoints:n}),addSession:n=>e(r=>({availableSessions:[n,...r.availableSessions]})),removeSession:n=>e(r=>({availableSessions:r.availableSessions.filter(a=>a.conversation_id!==n),currentSession:r.currentSession?.conversation_id===n?void 0:r.currentSession,sessionCheckpoints:r.currentSession?.conversation_id===n?[]:r.sessionCheckpoints})),setShowDebugPanel:n=>e({showDebugPanel:n}),setDebugPanelMinimized:n=>e({debugPanelMinimized:n}),setDebugPanelWidth:n=>e({debugPanelWidth:n}),setShowToolCalls:n=>e({showToolCalls:n}),setStreamingEnabled:n=>e({streamingEnabled:n}),addDebugEvent:n=>e(r=>{const a=Math.floor(Date.now()/1e3),c=(r.debugEvents.length>0?r.debugEvents[r.debugEvents.length-1]:null)?._uiTimestamp??0,d=Math.max(a,c+1);return{debugEvents:[...r.debugEvents,{...n,_uiTimestamp:"created_at"in n&&n.created_at?n.created_at:d}]}}),clearDebugEvents:()=>e({debugEvents:[]}),setIsResizing:n=>e({isResizing:n}),setDebugPanelTab:n=>e({debugPanelTab:n}),setDebugTraceSubTab:n=>e({debugTraceSubTab:n}),setContextInspectorViewMode:n=>e({contextInspectorViewMode:n}),setContextInspectorCumulative:n=>e({contextInspectorCumulative:n}),setShowAboutModal:n=>e({showAboutModal:n}),setShowGallery:n=>e({showGallery:n}),setShowDeployModal:n=>e({showDeployModal:n}),setShowEntityNotFoundToast:n=>e({showEntityNotFoundToast:n}),addToast:n=>e(r=>({toasts:[...r.toasts,{id:`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,type:n.type||"info",duration:n.duration||4e3,...n}]})),removeToast:n=>e(r=>({toasts:r.toasts.filter(a=>a.id!==n)})),setOAIMode:n=>e(r=>n.enabled&&!r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):!n.enabled&&r.oaiMode.enabled?(Object.keys(localStorage).forEach(a=>{a.startsWith("devui_convs_")&&localStorage.removeItem(a)}),{oaiMode:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}):{oaiMode:n}),toggleOAIMode:()=>e(n=>{const r=!n.oaiMode.enabled;return{oaiMode:{...n.oaiMode,enabled:r},currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],debugEvents:[]}}),setServerMeta:n=>e({uiMode:n.uiMode,runtime:n.runtime,serverCapabilities:n.capabilities,authRequired:n.authRequired,serverVersion:n.version||null}),startDeployment:()=>e({isDeploying:!0,deploymentLogs:[],lastDeployment:null}),addDeploymentLog:n=>e(r=>({deploymentLogs:[...r.deploymentLogs,n]})),setDeploymentResult:n=>e({isDeploying:!1,lastDeployment:n}),stopDeployment:()=>e({isDeploying:!1}),clearDeploymentState:()=>e({isDeploying:!1,deploymentLogs:[],lastDeployment:null}),setAzureDeploymentEnabled:n=>e({azureDeploymentEnabled:n}),selectEntity:n=>{e({selectedAgent:n,currentConversation:void 0,availableConversations:[],chatItems:[],inputValue:"",attachments:[],conversationUsage:{total_tokens:0,message_count:0},isStreaming:!1,isSubmitting:!1,pendingApprovals:[],currentSession:void 0,availableSessions:[],sessionCheckpoints:[],debugEvents:[]});const r=new URL(window.location.href);r.searchParams.set("entity_id",n.id),window.history.pushState({},"",r)}}),{name:"devui-storage",partialize:e=>({showDebugPanel:e.showDebugPanel,debugPanelMinimized:e.debugPanelMinimized,debugPanelWidth:e.debugPanelWidth,showToolCalls:e.showToolCalls,streamingEnabled:e.streamingEnabled,oaiMode:e.oaiMode,azureDeploymentEnabled:e.azureDeploymentEnabled,debugPanelTab:e.debugPanelTab,debugTraceSubTab:e.debugTraceSubTab,contextInspectorViewMode:e.contextInspectorViewMode,contextInspectorCumulative:e.contextInspectorCumulative})}),{name:"DevUI Store"})),ju=Object.freeze(Object.defineProperty({__proto__:null,useDevUIStore:le},Symbol.toStringTag,{value:"Module"}));function ib({agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d=!1,onSettingsClick:f}){const{oaiMode:m,serverVersion:h}=le();return o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 805 805",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[o.jsx("path",{d:"M402.488 119.713C439.197 119.713 468.955 149.472 468.955 186.18C468.955 192.086 471.708 197.849 476.915 200.635L546.702 237.977C555.862 242.879 566.95 240.96 576.092 236.023C585.476 230.955 596.218 228.078 607.632 228.078C644.341 228.078 674.098 257.836 674.099 294.545C674.099 316.95 663.013 336.765 646.028 348.806C637.861 354.595 631.412 363.24 631.412 373.251V430.818C631.412 440.83 637.861 449.475 646.028 455.264C663.013 467.305 674.099 487.121 674.099 509.526C674.099 546.235 644.341 575.994 607.632 575.994C598.598 575.994 589.985 574.191 582.133 570.926C573.644 567.397 563.91 566.393 555.804 570.731L469.581 616.867C469.193 617.074 468.955 617.479 468.955 617.919C468.955 654.628 439.197 684.386 402.488 684.386C365.779 684.386 336.021 654.628 336.021 617.919C336.021 616.802 335.423 615.765 334.439 615.238L249.895 570C241.61 565.567 231.646 566.713 223.034 570.472C214.898 574.024 205.914 575.994 196.47 575.994C159.761 575.994 130.002 546.235 130.002 509.526C130.002 486.66 141.549 466.49 159.13 454.531C167.604 448.766 174.349 439.975 174.349 429.726V372.538C174.349 362.289 167.604 353.498 159.13 347.734C141.549 335.774 130.002 315.604 130.002 292.738C130.002 256.029 159.761 226.271 196.47 226.271C208.223 226.271 219.263 229.322 228.843 234.674C238.065 239.827 249.351 241.894 258.666 236.91L328.655 199.459C333.448 196.895 336.021 191.616 336.021 186.18C336.021 149.471 365.779 119.713 402.488 119.713ZM475.716 394.444C471.337 396.787 468.955 401.586 468.955 406.552C468.955 429.68 457.142 450.048 439.221 461.954C430.571 467.7 423.653 476.574 423.653 486.959V537.511C423.653 547.896 430.746 556.851 439.379 562.622C449 569.053 461.434 572.052 471.637 566.592L527.264 536.826C536.887 531.677 541.164 520.44 541.164 509.526C541.164 485.968 553.42 465.272 571.904 453.468C580.846 447.757 588.054 438.749 588.054 428.139V371.427C588.054 363.494 582.671 356.676 575.716 352.862C569.342 349.366 561.663 348.454 555.253 351.884L475.716 394.444ZM247.992 349.841C241.997 346.633 234.806 347.465 228.873 350.785C222.524 354.337 217.706 360.639 217.706 367.915V429.162C217.706 439.537 224.611 448.404 233.248 454.152C251.144 466.062 262.937 486.417 262.937 509.526C262.937 519.654 267.026 529.991 275.955 534.769L334.852 566.284C344.582 571.49 356.362 568.81 365.528 562.667C373.735 557.166 380.296 548.643 380.296 538.764V486.305C380.296 476.067 373.564 467.282 365.103 461.516C347.548 449.552 336.021 429.398 336.021 406.552C336.021 400.967 333.389 395.536 328.465 392.902L247.992 349.841ZM270.019 280.008C265.421 282.469 262.936 287.522 262.937 292.738C262.937 293.308 262.929 293.876 262.915 294.443C262.615 306.354 266.961 318.871 277.466 324.492L334.017 354.751C344.13 360.163 356.442 357.269 366.027 350.969C376.495 344.088 389.024 340.085 402.488 340.085C416.203 340.085 428.947 344.239 439.532 351.357C449.163 357.834 461.63 360.861 471.864 355.385L526.625 326.083C537.106 320.474 541.458 307.999 541.182 296.115C541.17 295.593 541.164 295.069 541.164 294.545C541.164 288.551 538.376 282.696 533.091 279.868L463.562 242.664C454.384 237.753 443.274 239.688 434.123 244.65C424.716 249.75 413.941 252.647 402.488 252.647C390.83 252.647 379.873 249.646 370.348 244.373C361.148 239.281 349.917 237.256 340.646 242.217L270.019 280.008Z",fill:"url(#paint0_linear_510_1294)"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"paint0_linear_510_1294",x1:"255.628",y1:"-34.3245",x2:"618.483",y2:"632.032",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#D59FFF"}),o.jsx("stop",{offset:"1",stopColor:"#8562C5"})]})})]}),"Dev UI",h&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["v",h]}),m.enabled&&o.jsxs(ut,{variant:"secondary",className:"gap-1 ml-2",children:[o.jsx(Al,{className:"h-3 w-3"}),"OpenAI: ",m.model]})]}),!m.enabled&&o.jsx(FM,{agents:e,workflows:n,entities:r,selectedItem:a,onSelect:l,onBrowseGallery:c,isLoading:d}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx(n5,{}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),f?.()},children:o.jsx(ip,{className:"h-4 w-4"})})]})]})}function cp(e,[n,r]){return Math.min(r,Math.max(n,e))}function g5(e,n){return w.useReducer((r,a)=>n[r][a]??r,e)}var mg="ScrollArea",[dN,W7]=Qn(mg),[x5,Hn]=dN(mg),fN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,type:a="hover",dir:l,scrollHideDelay:c=600,...d}=e,[f,m]=w.useState(null),[h,g]=w.useState(null),[y,x]=w.useState(null),[b,j]=w.useState(null),[N,S]=w.useState(null),[_,A]=w.useState(0),[E,M]=w.useState(0),[R,D]=w.useState(!1),[O,P]=w.useState(!1),q=rt(n,Q=>m(Q)),Z=Sl(l);return o.jsx(x5,{scope:r,type:a,dir:Z,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:g,content:y,onContentChange:x,scrollbarX:b,onScrollbarXChange:j,scrollbarXEnabled:R,onScrollbarXEnabledChange:D,scrollbarY:N,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:P,onCornerWidthChange:A,onCornerHeightChange:M,children:o.jsx(Ye.div,{dir:Z,...d,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});fN.displayName=mg;var mN="ScrollAreaViewport",hN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,children:a,nonce:l,...c}=e,d=Hn(mN,r),f=w.useRef(null),m=rt(n,f,d.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),o.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...c,ref:m,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});hN.displayName=mN;var xs="ScrollAreaScrollbar",hg=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Hn(xs,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:d}=l,f=e.orientation==="horizontal";return w.useEffect(()=>(f?c(!0):d(!0),()=>{f?c(!1):d(!1)}),[f,c,d]),l.type==="hover"?o.jsx(y5,{...a,ref:n,forceMount:r}):l.type==="scroll"?o.jsx(v5,{...a,ref:n,forceMount:r}):l.type==="auto"?o.jsx(pN,{...a,ref:n,forceMount:r}):l.type==="always"?o.jsx(pg,{...a,ref:n}):null});hg.displayName=xs;var y5=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Hn(xs,e.__scopeScrollArea),[c,d]=w.useState(!1);return w.useEffect(()=>{const f=l.scrollArea;let m=0;if(f){const h=()=>{window.clearTimeout(m),d(!0)},g=()=>{m=window.setTimeout(()=>d(!1),l.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",g)}}},[l.scrollArea,l.scrollHideDelay]),o.jsx(Cn,{present:r||c,children:o.jsx(pN,{"data-state":c?"visible":"hidden",...a,ref:n})})}),v5=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=Hn(xs,e.__scopeScrollArea),c=e.orientation==="horizontal",d=Cd(()=>m("SCROLL_END"),100),[f,m]=g5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>m("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,l.scrollHideDelay,m]),w.useEffect(()=>{const h=l.viewport,g=c?"scrollLeft":"scrollTop";if(h){let y=h[g];const x=()=>{const b=h[g];y!==b&&(m("SCROLL"),d()),y=b};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[l.viewport,c,m,d]),o.jsx(Cn,{present:r||f!=="hidden",children:o.jsx(pg,{"data-state":f==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:ke(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),pN=w.forwardRef((e,n)=>{const r=Hn(xs,e.__scopeScrollArea),{forceMount:a,...l}=e,[c,d]=w.useState(!1),f=e.orientation==="horizontal",m=Cd(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;d(f?h:g)}},10);return Ta(r.viewport,m),Ta(r.content,m),o.jsx(Cn,{present:a||c,children:o.jsx(pg,{"data-state":c?"visible":"hidden",...l,ref:n})})}),pg=w.forwardRef((e,n)=>{const{orientation:r="vertical",...a}=e,l=Hn(xs,e.__scopeScrollArea),c=w.useRef(null),d=w.useRef(0),[f,m]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=bN(f.viewport,f.content),g={...a,sizes:f,onSizesChange:m,hasThumb:h>0&&h<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:x=>d.current=x};function y(x,b){return _5(x,d.current,f,b)}return r==="horizontal"?o.jsx(b5,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollLeft,b=lb(x,f,l.dir);c.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollLeft=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollLeft=y(x,l.dir))}}):r==="vertical"?o.jsx(w5,{...g,ref:n,onThumbPositionChange:()=>{if(l.viewport&&c.current){const x=l.viewport.scrollTop,b=lb(x,f);c.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:x=>{l.viewport&&(l.viewport.scrollTop=x)},onDragScroll:x=>{l.viewport&&(l.viewport.scrollTop=y(x))}}):null}),b5=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Hn(xs,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarXChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(xN,{"data-orientation":"horizontal",...l,ref:h,sizes:r,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ed(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollLeft+g.deltaX;e.onWheelScroll(x),NN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Xu(d.paddingLeft),paddingEnd:Xu(d.paddingRight)}})}})}),w5=w.forwardRef((e,n)=>{const{sizes:r,onSizesChange:a,...l}=e,c=Hn(xs,e.__scopeScrollArea),[d,f]=w.useState(),m=w.useRef(null),h=rt(n,m,c.onScrollbarYChange);return w.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),o.jsx(xN,{"data-orientation":"vertical",...l,ref:h,sizes:r,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ed(r)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(c.viewport){const x=c.viewport.scrollTop+g.deltaY;e.onWheelScroll(x),NN(x,y)&&g.preventDefault()}},onResize:()=>{m.current&&c.viewport&&d&&a({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Xu(d.paddingTop),paddingEnd:Xu(d.paddingBottom)}})}})}),[N5,gN]=dN(xs),xN=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:l,onThumbChange:c,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:m,onDragScroll:h,onWheelScroll:g,onResize:y,...x}=e,b=Hn(xs,r),[j,N]=w.useState(null),S=rt(n,q=>N(q)),_=w.useRef(null),A=w.useRef(""),E=b.viewport,M=a.content-a.viewport,R=Zt(g),D=Zt(m),O=Cd(y,10);function P(q){if(_.current){const Z=q.clientX-_.current.left,Q=q.clientY-_.current.top;h({x:Z,y:Q})}}return w.useEffect(()=>{const q=Z=>{const Q=Z.target;j?.contains(Q)&&R(Z,M)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[E,j,M,R]),w.useEffect(D,[a,D]),Ta(j,O),Ta(b.content,O),o.jsx(N5,{scope:r,scrollbar:j,hasThumb:l,onThumbChange:Zt(c),onThumbPointerUp:Zt(d),onThumbPositionChange:D,onThumbPointerDown:Zt(f),children:o.jsx(Ye.div,{...x,ref:S,style:{position:"absolute",...x.style},onPointerDown:ke(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),_.current=j.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),P(q))}),onPointerMove:ke(e.onPointerMove,P),onPointerUp:ke(e.onPointerUp,q=>{const Z=q.target;Z.hasPointerCapture(q.pointerId)&&Z.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=A.current,b.viewport&&(b.viewport.style.scrollBehavior=""),_.current=null})})})}),Gu="ScrollAreaThumb",yN=w.forwardRef((e,n)=>{const{forceMount:r,...a}=e,l=gN(Gu,e.__scopeScrollArea);return o.jsx(Cn,{present:r||l.hasThumb,children:o.jsx(j5,{ref:n,...a})})}),j5=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,style:a,...l}=e,c=Hn(Gu,r),d=gN(Gu,r),{onThumbPositionChange:f}=d,m=rt(n,y=>d.onThumbChange(y)),h=w.useRef(void 0),g=Cd(()=>{h.current&&(h.current(),h.current=void 0)},100);return w.useEffect(()=>{const y=c.viewport;if(y){const x=()=>{if(g(),!h.current){const b=E5(y,f);h.current=b,f()}};return f(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[c.viewport,g,f]),o.jsx(Ye.div,{"data-state":d.hasThumb?"visible":"hidden",...l,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ke(e.onPointerDownCapture,y=>{const b=y.target.getBoundingClientRect(),j=y.clientX-b.left,N=y.clientY-b.top;d.onThumbPointerDown({x:j,y:N})}),onPointerUp:ke(e.onPointerUp,d.onThumbPointerUp)})});yN.displayName=Gu;var gg="ScrollAreaCorner",vN=w.forwardRef((e,n)=>{const r=Hn(gg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(S5,{...e,ref:n}):null});vN.displayName=gg;var S5=w.forwardRef((e,n)=>{const{__scopeScrollArea:r,...a}=e,l=Hn(gg,r),[c,d]=w.useState(0),[f,m]=w.useState(0),h=!!(c&&f);return Ta(l.scrollbarX,()=>{const g=l.scrollbarX?.offsetHeight||0;l.onCornerHeightChange(g),m(g)}),Ta(l.scrollbarY,()=>{const g=l.scrollbarY?.offsetWidth||0;l.onCornerWidthChange(g),d(g)}),h?o.jsx(Ye.div,{...a,ref:n,style:{width:c,height:f,position:"absolute",right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Xu(e){return e?parseInt(e,10):0}function bN(e,n){const r=e/n;return isNaN(r)?0:r}function Ed(e){const n=bN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*n;return Math.max(a,18)}function _5(e,n,r,a="ltr"){const l=Ed(r),c=l/2,d=n||c,f=l-d,m=r.scrollbar.paddingStart+d,h=r.scrollbar.size-r.scrollbar.paddingEnd-f,g=r.content-r.viewport,y=a==="ltr"?[0,g]:[g*-1,0];return wN([m,h],y)(e)}function lb(e,n,r="ltr"){const a=Ed(n),l=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,c=n.scrollbar.size-l,d=n.content-n.viewport,f=c-a,m=r==="ltr"?[0,d]:[d*-1,0],h=cp(e,m);return wN([0,d],[0,f])(h)}function wN(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(r-e[0])}}function NN(e,n){return e>0&&e<n}var E5=(e,n=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return(function l(){const c={left:e.scrollLeft,top:e.scrollTop},d=r.left!==c.left,f=r.top!==c.top;(d||f)&&n(),r=c,a=window.requestAnimationFrame(l)})(),()=>window.cancelAnimationFrame(a)};function Cd(e,n){const r=Zt(e),a=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),w.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,n)},[r,n])}function Ta(e,n){const r=Zt(n);Wt(()=>{let a=0;if(e){const l=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return l.observe(e),()=>{window.cancelAnimationFrame(a),l.unobserve(e)}}},[e,r])}var jN=fN,C5=hN,k5=vN;const Kn=w.forwardRef(({className:e,children:n,...r},a)=>o.jsxs(jN,{ref:a,className:We("relative overflow-hidden",e),...r,children:[o.jsx(C5,{className:"h-full w-full rounded-[inherit]",children:n}),o.jsx(SN,{}),o.jsx(k5,{})]}));Kn.displayName=jN.displayName;const SN=w.forwardRef(({className:e,orientation:n="vertical",...r},a)=>o.jsx(hg,{ref:a,orientation:n,className:We("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(yN,{className:"relative flex-1 rounded-full bg-border"})}));SN.displayName=hg.displayName;var kd="Tabs",[T5,K7]=Qn(kd,[gd]),_N=gd(),[A5,xg]=T5(kd),EN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,onValueChange:l,defaultValue:c,orientation:d="horizontal",dir:f,activationMode:m="automatic",...h}=e,g=Sl(f),[y,x]=Rr({prop:a,onChange:l,defaultProp:c??"",caller:kd});return o.jsx(A5,{scope:r,baseId:Dr(),value:y,onValueChange:x,orientation:d,dir:g,activationMode:m,children:o.jsx(Ye.div,{dir:g,"data-orientation":d,...h,ref:n})})});EN.displayName=kd;var CN="TabsList",kN=w.forwardRef((e,n)=>{const{__scopeTabs:r,loop:a=!0,...l}=e,c=xg(CN,r),d=_N(r);return o.jsx(f1,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:a,children:o.jsx(Ye.div,{role:"tablist","aria-orientation":c.orientation,...l,ref:n})})});kN.displayName=CN;var TN="TabsTrigger",AN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,disabled:l=!1,...c}=e,d=xg(TN,r),f=_N(r),m=DN(d.baseId,a),h=ON(d.baseId,a),g=a===d.value;return o.jsx(m1,{asChild:!0,...f,focusable:!l,active:g,children:o.jsx(Ye.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":h,"data-state":g?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...c,ref:n,onMouseDown:ke(e.onMouseDown,y=>{!l&&y.button===0&&y.ctrlKey===!1?d.onValueChange(a):y.preventDefault()}),onKeyDown:ke(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(a)}),onFocus:ke(e.onFocus,()=>{const y=d.activationMode!=="manual";!g&&!l&&y&&d.onValueChange(a)})})})});AN.displayName=TN;var MN="TabsContent",RN=w.forwardRef((e,n)=>{const{__scopeTabs:r,value:a,forceMount:l,children:c,...d}=e,f=xg(MN,r),m=DN(f.baseId,a),h=ON(f.baseId,a),g=a===f.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),o.jsx(Cn,{present:l||g,children:({present:x})=>o.jsx(Ye.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:h,tabIndex:0,...d,ref:n,style:{...e.style,animationDuration:y.current?"0s":void 0},children:x&&c})})});RN.displayName=MN;function DN(e,n){return`${e}-trigger-${n}`}function ON(e,n){return`${e}-content-${n}`}var M5=EN,zN=kN,IN=AN,LN=RN;const R5=M5,$N=w.forwardRef(({className:e,...n},r)=>o.jsx(zN,{ref:r,className:We("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...n}));$N.displayName=zN.displayName;const Su=w.forwardRef(({className:e,...n},r)=>o.jsx(IN,{ref:r,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...n}));Su.displayName=IN.displayName;const _u=w.forwardRef(({className:e,...n},r)=>o.jsx(LN,{ref:r,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));_u.displayName=LN.displayName;function yg(e){const n=w.useRef({value:e,previous:e});return w.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var Td="Checkbox",[D5,Q7]=Qn(Td),[O5,vg]=D5(Td);function z5(e){const{__scopeCheckbox:n,checked:r,children:a,defaultChecked:l,disabled:c,form:d,name:f,onCheckedChange:m,required:h,value:g="on",internal_do_not_use_render:y}=e,[x,b]=Rr({prop:r,defaultProp:l??!1,onChange:m,caller:Td}),[j,N]=w.useState(null),[S,_]=w.useState(null),A=w.useRef(!1),E=j?!!d||!!j.closest("form"):!0,M={checked:x,disabled:c,setChecked:b,control:j,setControl:N,name:f,form:d,value:g,hasConsumerStoppedPropagationRef:A,required:h,defaultChecked:Mr(l)?!1:l,isFormControl:E,bubbleInput:S,setBubbleInput:_};return o.jsx(O5,{scope:n,...M,children:I5(y)?y(M):a})}var HN="CheckboxTrigger",PN=w.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:r,...a},l)=>{const{control:c,value:d,disabled:f,checked:m,required:h,setControl:g,setChecked:y,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:j}=vg(HN,e),N=rt(l,g),S=w.useRef(m);return w.useEffect(()=>{const _=c?.form;if(_){const A=()=>y(S.current);return _.addEventListener("reset",A),()=>_.removeEventListener("reset",A)}},[c,y]),o.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Mr(m)?"mixed":m,"aria-required":h,"data-state":YN(m),"data-disabled":f?"":void 0,disabled:f,value:d,...a,ref:N,onKeyDown:ke(n,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:ke(r,_=>{y(A=>Mr(A)?!0:!A),j&&b&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})})});PN.displayName=HN;var BN=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m,onCheckedChange:h,form:g,...y}=e;return o.jsx(z5,{__scopeCheckbox:r,checked:l,defaultChecked:c,disabled:f,required:d,onCheckedChange:h,name:a,form:g,value:m,internal_do_not_use_render:({isFormControl:x})=>o.jsxs(o.Fragment,{children:[o.jsx(PN,{...y,ref:n,__scopeCheckbox:r}),x&&o.jsx(FN,{__scopeCheckbox:r})]})})});BN.displayName=Td;var UN="CheckboxIndicator",VN=w.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:a,...l}=e,c=vg(UN,r);return o.jsx(Cn,{present:a||Mr(c.checked)||c.checked===!0,children:o.jsx(Ye.span,{"data-state":YN(c.checked),"data-disabled":c.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...e.style}})})});VN.displayName=UN;var qN="CheckboxBubbleInput",FN=w.forwardRef(({__scopeCheckbox:e,...n},r)=>{const{control:a,hasConsumerStoppedPropagationRef:l,checked:c,defaultChecked:d,required:f,disabled:m,name:h,value:g,form:y,bubbleInput:x,setBubbleInput:b}=vg(qN,e),j=rt(r,b),N=yg(c),S=qp(a);w.useEffect(()=>{const A=x;if(!A)return;const E=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(E,"checked").set,D=!l.current;if(N!==c&&R){const O=new Event("click",{bubbles:D});A.indeterminate=Mr(c),R.call(A,Mr(c)?!1:c),A.dispatchEvent(O)}},[x,N,c,l]);const _=w.useRef(Mr(c)?!1:c);return o.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??_.current,required:f,disabled:m,name:h,value:g,form:y,...n,tabIndex:-1,ref:j,style:{...n.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FN.displayName=qN;function I5(e){return typeof e=="function"}function Mr(e){return e==="indeterminate"}function YN(e){return Mr(e)?"indeterminate":e?"checked":"unchecked"}function kr({className:e,...n}){return o.jsx(BN,{"data-slot":"checkbox",className:We("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:o.jsx(VN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:o.jsx(_o,{className:"size-3.5"})})})}var GN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),L5="VisuallyHidden",XN=w.forwardRef((e,n)=>o.jsx(Ye.span,{...e,ref:n,style:{...GN,...e.style}}));XN.displayName=L5;var $5=XN,[Ad,J7]=Qn("Tooltip",[Va]),Md=Va(),ZN="TooltipProvider",H5=700,up="tooltip.open",[P5,bg]=Ad(ZN),WN=e=>{const{__scopeTooltip:n,delayDuration:r=H5,skipDelayDuration:a=300,disableHoverableContent:l=!1,children:c}=e,d=w.useRef(!0),f=w.useRef(!1),m=w.useRef(0);return w.useEffect(()=>{const h=m.current;return()=>window.clearTimeout(h)},[]),o.jsx(P5,{scope:n,isOpenDelayedRef:d,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(m.current),d.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.current=!0,a)},[a]),isPointerInTransitRef:f,onPointerInTransitChange:w.useCallback(h=>{f.current=h},[]),disableHoverableContent:l,children:c})};WN.displayName=ZN;var dl="Tooltip",[B5,Ml]=Ad(dl),KN=e=>{const{__scopeTooltip:n,children:r,open:a,defaultOpen:l,onOpenChange:c,disableHoverableContent:d,delayDuration:f}=e,m=bg(dl,e.__scopeTooltip),h=Md(n),[g,y]=w.useState(null),x=Dr(),b=w.useRef(0),j=d??m.disableHoverableContent,N=f??m.delayDuration,S=w.useRef(!1),[_,A]=Rr({prop:a,defaultProp:l??!1,onChange:O=>{O?(m.onOpen(),document.dispatchEvent(new CustomEvent(up))):m.onClose(),c?.(O)},caller:dl}),E=w.useMemo(()=>_?S.current?"delayed-open":"instant-open":"closed",[_]),M=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,S.current=!1,A(!0)},[A]),R=w.useCallback(()=>{window.clearTimeout(b.current),b.current=0,A(!1)},[A]),D=w.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{S.current=!0,A(!0),b.current=0},N)},[N,A]);return w.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),o.jsx(Gp,{...h,children:o.jsx(B5,{scope:n,contentId:x,open:_,stateAttribute:E,trigger:g,onTriggerChange:y,onTriggerEnter:w.useCallback(()=>{m.isOpenDelayedRef.current?D():M()},[m.isOpenDelayedRef,D,M]),onTriggerLeave:w.useCallback(()=>{j?R():(window.clearTimeout(b.current),b.current=0)},[R,j]),onOpen:M,onClose:R,disableHoverableContent:j,children:r})})};KN.displayName=dl;var dp="TooltipTrigger",QN=w.forwardRef((e,n)=>{const{__scopeTooltip:r,...a}=e,l=Ml(dp,r),c=bg(dp,r),d=Md(r),f=w.useRef(null),m=rt(n,f,l.onTriggerChange),h=w.useRef(!1),g=w.useRef(!1),y=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),o.jsx(Xp,{asChild:!0,...d,children:o.jsx(Ye.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:m,onPointerMove:ke(e.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!c.isPointerInTransitRef.current&&(l.onTriggerEnter(),g.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{l.onTriggerLeave(),g.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{l.open&&l.onClose(),h.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ke(e.onFocus,()=>{h.current||l.onOpen()}),onBlur:ke(e.onBlur,l.onClose),onClick:ke(e.onClick,l.onClose)})})});QN.displayName=dp;var wg="TooltipPortal",[U5,V5]=Ad(wg,{forceMount:void 0}),JN=e=>{const{__scopeTooltip:n,forceMount:r,children:a,container:l}=e,c=Ml(wg,n);return o.jsx(U5,{scope:n,forceMount:r,children:o.jsx(Cn,{present:r||c.open,children:o.jsx(pd,{asChild:!0,container:l,children:a})})})};JN.displayName=wg;var Aa="TooltipContent",e2=w.forwardRef((e,n)=>{const r=V5(Aa,e.__scopeTooltip),{forceMount:a=r.forceMount,side:l="top",...c}=e,d=Ml(Aa,e.__scopeTooltip);return o.jsx(Cn,{present:a||d.open,children:d.disableHoverableContent?o.jsx(t2,{side:l,...c,ref:n}):o.jsx(q5,{side:l,...c,ref:n})})}),q5=w.forwardRef((e,n)=>{const r=Ml(Aa,e.__scopeTooltip),a=bg(Aa,e.__scopeTooltip),l=w.useRef(null),c=rt(n,l),[d,f]=w.useState(null),{trigger:m,onClose:h}=r,g=l.current,{onPointerInTransitChange:y}=a,x=w.useCallback(()=>{f(null),y(!1)},[y]),b=w.useCallback((j,N)=>{const S=j.currentTarget,_={x:j.clientX,y:j.clientY},A=Z5(_,S.getBoundingClientRect()),E=W5(_,A),M=K5(N.getBoundingClientRect()),R=J5([...E,...M]);f(R),y(!0)},[y]);return w.useEffect(()=>()=>x(),[x]),w.useEffect(()=>{if(m&&g){const j=S=>b(S,g),N=S=>b(S,m);return m.addEventListener("pointerleave",j),g.addEventListener("pointerleave",N),()=>{m.removeEventListener("pointerleave",j),g.removeEventListener("pointerleave",N)}}},[m,g,b,x]),w.useEffect(()=>{if(d){const j=N=>{const S=N.target,_={x:N.clientX,y:N.clientY},A=m?.contains(S)||g?.contains(S),E=!Q5(_,d);A?x():E&&(x(),h())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[m,g,d,h,x]),o.jsx(t2,{...e,ref:c})}),[F5,Y5]=Ad(dl,{isInside:!1}),G5=lC("TooltipContent"),t2=w.forwardRef((e,n)=>{const{__scopeTooltip:r,children:a,"aria-label":l,onEscapeKeyDown:c,onPointerDownOutside:d,...f}=e,m=Ml(Aa,r),h=Md(r),{onClose:g}=m;return w.useEffect(()=>(document.addEventListener(up,g),()=>document.removeEventListener(up,g)),[g]),w.useEffect(()=>{if(m.trigger){const y=x=>{x.target?.contains(m.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[m.trigger,g]),o.jsx(ud,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:o.jsxs(Zp,{"data-state":m.stateAttribute,...h,...f,ref:n,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(G5,{children:a}),o.jsx(F5,{scope:r,isInside:!0,children:o.jsx($5,{id:m.contentId,role:"tooltip",children:l||a})})]})})});e2.displayName=Aa;var n2="TooltipArrow",X5=w.forwardRef((e,n)=>{const{__scopeTooltip:r,...a}=e,l=Md(r);return Y5(n2,r).isInside?null:o.jsx(Wp,{...l,...a,ref:n})});X5.displayName=n2;function Z5(e,n){const r=Math.abs(n.top-e.y),a=Math.abs(n.bottom-e.y),l=Math.abs(n.right-e.x),c=Math.abs(n.left-e.x);switch(Math.min(r,a,l,c)){case c:return"left";case l:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function W5(e,n,r=5){const a=[];switch(n){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function K5(e){const{top:n,right:r,bottom:a,left:l}=e;return[{x:l,y:n},{x:r,y:n},{x:r,y:a},{x:l,y:a}]}function Q5(e,n){const{x:r,y:a}=e;let l=!1;for(let c=0,d=n.length-1;c<n.length;d=c++){const f=n[c],m=n[d],h=f.x,g=f.y,y=m.x,x=m.y;g>a!=x>a&&r<(y-h)*(a-g)/(x-g)+h&&(l=!l)}return l}function J5(e){const n=e.slice();return n.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),eR(n)}function eR(e){if(e.length<=1)return e.slice();const n=[];for(let a=0;a<e.length;a++){const l=e[a];for(;n.length>=2;){const c=n[n.length-1],d=n[n.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))n.pop();else break}n.push(l)}n.pop();const r=[];for(let a=e.length-1;a>=0;a--){const l=e[a];for(;r.length>=2;){const c=r[r.length-1],d=r[r.length-2];if((c.x-d.x)*(l.y-d.y)>=(c.y-d.y)*(l.x-d.x))r.pop();else break}r.push(l)}return r.pop(),n.length===1&&r.length===1&&n[0].x===r[0].x&&n[0].y===r[0].y?n:n.concat(r)}var tR=WN,nR=KN,sR=QN,rR=JN,s2=e2;const oR=tR,aR=nR,iR=sR,r2=w.forwardRef(({className:e,sideOffset:n=4,...r},a)=>o.jsx(rR,{children:o.jsx(s2,{ref:a,sideOffset:n,className:We("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));r2.displayName=s2.displayName;const ha={MODEL:"gen_ai.request.model",INPUT_TOKENS:"gen_ai.usage.input_tokens",OUTPUT_TOKENS:"gen_ai.usage.output_tokens",INPUT_MESSAGES:"gen_ai.input.messages",SYSTEM_INSTRUCTIONS:"gen_ai.system_instructions"};function lR(e){return e.type==="text"}function cR(e){return e.type==="tool_call"||e.type==="function_call"}function uR(e){return e.type==="tool_result"||e.type==="function_result"||e.type==="tool_call_response"}function dR(e){if(!e)return[];try{return JSON.parse(e)}catch{return[]}}function fR(e){const n={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};try{let r;if(typeof e=="string")r=dR(e);else if(Array.isArray(e))r=e;else return n;for(const a of r){if(!a||typeof a!="object")continue;const l=a.role,c=a.parts;let d=0;if(Array.isArray(c)){for(const f of c)if(!(!f||typeof f!="object")){if(lR(f)){const m=f.content||f.text||"";d+=m.length}else if(cR(f)){const m=f.name||"",h=f.arguments||"";n.toolCalls+=m.length+h.length}else if(uR(f)){const m=f.result||f.response||"";n.toolResults+=m.length}}}l==="system"?n.system+=d:l==="user"?n.user+=d:l==="assistant"?n.assistant+=d:l==="tool"&&(n.toolResults+=d)}n.total=n.system+n.user+n.assistant+n.toolCalls+n.toolResults}catch{}return n}function mR(e){const n=e.filter(l=>l.type==="response.trace.completed"),r=new Map;for(const l of n){if(!("data"in l))continue;const c=l.data,d=c.response_id||"unknown";r.has(d)||r.set(d,[]),r.get(d).push(c)}const a=[];for(const[l,c]of r){let d=0,f=0,m,h=Date.now()/1e3,g,y=0,x={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};for(const b of c){const j=b.attributes||{},N=j[ha.INPUT_TOKENS],S=j[ha.OUTPUT_TOKENS];N!==void 0&&(d+=Number(N)),S!==void 0&&(f+=Number(S)),j[ha.MODEL]&&(m=String(j[ha.MODEL])),b.start_time&&b.start_time<h&&(h=b.start_time),b.entity_id&&(g=b.entity_id),b.duration_ms&&(y+=Number(b.duration_ms));const _=j[ha.INPUT_MESSAGES];_&&x.total===0&&(x=fR(_));const A=j[ha.SYSTEM_INSTRUCTIONS];A&&typeof A=="string"&&x.system===0&&(x.system=A.length,x.total+=A.length)}(d>0||f>0)&&a.push({response_id:l,timestamp:h,input_tokens:d,output_tokens:f,total_tokens:d+f,model:m,entity_id:g,duration_ms:y,composition:x})}return a.sort((l,c)=>l.timestamp-c.timestamp),a}function hR(e){if(e.length===0)return{totalInput:0,totalOutput:0,totalTokens:0,avgInput:0,avgOutput:0,avgTotal:0,peakInput:0,peakOutput:0,peakTotal:0,turnCount:0};const n=e.reduce((f,m)=>f+m.input_tokens,0),r=e.reduce((f,m)=>f+m.output_tokens,0),a=n+r,l=Math.max(...e.map(f=>f.input_tokens)),c=Math.max(...e.map(f=>f.output_tokens)),d=Math.max(...e.map(f=>f.total_tokens));return{totalInput:n,totalOutput:r,totalTokens:a,avgInput:Math.round(n/e.length),avgOutput:Math.round(r/e.length),avgTotal:Math.round(a/e.length),peakInput:l,peakOutput:c,peakTotal:d,turnCount:e.length}}function pR(e){return e.reduce((n,r)=>({system:n.system+r.composition.system,user:n.user+r.composition.user,assistant:n.assistant+r.composition.assistant,toolCalls:n.toolCalls+r.composition.toolCalls,toolResults:n.toolResults+r.composition.toolResults,total:n.total+r.composition.total}),{system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0})}function In(e){return e>=1e3?`${(e/1e3).toFixed(1)}k`:String(e)}const Ht={input:"bg-blue-500 dark:bg-blue-600",output:"bg-emerald-500 dark:bg-emerald-600",system:"bg-purple-500 dark:bg-purple-600",user:"bg-blue-500 dark:bg-blue-600",assistant:"bg-emerald-500 dark:bg-emerald-600",toolCalls:"bg-amber-500 dark:bg-amber-600",toolResults:"bg-orange-500 dark:bg-orange-600"};function cb({segments:e,maxValue:n,height:r=20,renderLabel:a}){const l=e.reduce((f,m)=>f+m.value,0);if(l===0)return o.jsx("div",{className:"flex items-center gap-2 w-full",children:o.jsx("div",{className:"rounded bg-muted/30 flex-1",style:{height:`${r}px`}})});const c=n>0?l/n*100:100,d=e.filter(f=>f.value>0).map(f=>({...f,percent:Math.round(f.value/l*100)}));return o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx("div",{className:"relative rounded overflow-hidden bg-muted/30 flex-1",style:{height:`${r}px`},children:o.jsx(oR,{delayDuration:150,children:o.jsx("div",{className:"h-full flex transition-all duration-300",style:{width:`${c}%`},children:d.map(f=>o.jsxs(aR,{children:[o.jsx(iR,{asChild:!0,children:o.jsx("div",{className:`h-full ${f.color} transition-all duration-150 hover:brightness-110 hover:scale-y-[1.15] origin-bottom cursor-default`,style:{width:`${f.value/l*100}%`}})}),o.jsx(r2,{side:"top",className:"text-xs",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2 h-2 rounded-sm ${f.color} flex-shrink-0`}),o.jsx("span",{className:"font-medium",children:f.label}),o.jsxs("span",{className:"opacity-80",children:[In(f.value)," (",f.percent,"%)"]})]})})]},f.key))})})}),a?.(l,e)]})}function gR(e,n){return[{key:"input",value:e,color:Ht.input,label:"Input"},{key:"output",value:n,color:Ht.output,label:"Output"}]}function xR(e){return[{key:"system",value:e.system,color:Ht.system,label:"System"},{key:"user",value:e.user,color:Ht.user,label:"User"},{key:"assistant",value:e.assistant,color:Ht.assistant,label:"Assistant"},{key:"toolCalls",value:e.toolCalls,color:Ht.toolCalls,label:"Tool Calls"},{key:"toolResults",value:e.toolResults,color:Ht.toolResults,label:"Tool Results"}]}function o2({composition:e,className:n=""}){const{system:r,user:a,assistant:l,toolCalls:c,toolResults:d,total:f}=e;if(f===0)return o.jsx("div",{className:`text-xs text-muted-foreground ${n}`,children:"No composition data available"});const m=[{label:"System",value:r,color:Ht.system},{label:"User",value:a,color:Ht.user},{label:"Assistant",value:l,color:Ht.assistant},{label:"Tool Calls",value:c,color:Ht.toolCalls},{label:"Tool Results",value:d,color:Ht.toolResults}].filter(h=>h.value>0);return o.jsx("div",{className:`space-y-1.5 ${n}`,children:m.map(h=>{const g=Math.round(h.value/f*100);return o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:`w-2 h-2 rounded-sm ${h.color}`}),o.jsx("span",{className:"text-muted-foreground w-20",children:h.label}),o.jsx("div",{className:"flex-1 h-3 bg-muted/30 rounded overflow-hidden",children:o.jsx("div",{className:`h-full ${h.color} transition-all duration-300`,style:{width:`${g}%`}})}),o.jsxs("span",{className:"font-mono w-10 text-right text-muted-foreground",children:[g,"%"]})]},h.label)})})}function yR({turn:e,index:n,maxValue:r,maxCompositionValue:a,cumulativeInput:l,cumulativeOutput:c,cumulativeComposition:d,showCumulative:f,viewMode:m}){const[h,g]=w.useState(!1),y=f?l:e.input_tokens,x=f?c:e.output_tokens,b=f?d:e.composition,j=new Date(e.timestamp*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"border-b border-muted/50 last:border-0",children:[o.jsxs("div",{className:"flex items-center gap-3 py-2 px-2 hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>g(!h),children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-muted flex items-center justify-center text-xs font-medium flex-shrink-0",children:n+1}),o.jsx("div",{className:"flex-1 min-w-0",children:m==="tokens"?o.jsx(cb,{segments:gR(y,x),maxValue:r,height:20,renderLabel:(N,S)=>o.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono text-muted-foreground min-w-[80px] justify-end",children:[o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",In(S[0]?.value||0)]}),o.jsx("span",{children:"/"}),o.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["",In(S[1]?.value||0)]})]})}):o.jsx(cb,{segments:xR(b),maxValue:a,height:20,renderLabel:N=>o.jsxs("div",{className:"text-xs font-mono text-muted-foreground min-w-[50px] text-right",children:[In(Math.round(N/4)),"~"]})})}),o.jsx("div",{className:"text-muted-foreground flex-shrink-0",children:h?o.jsx(Et,{className:"h-4 w-4"}):o.jsx(en,{className:"h-4 w-4"})})]}),h&&o.jsx("div",{className:"pb-3",children:o.jsxs("div",{className:"flex items-start gap-3 px-2",children:[o.jsx("div",{className:"w-6 flex justify-center flex-shrink-0",children:o.jsx("div",{className:"w-px h-full bg-muted"})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"text-muted-foreground text-xs mt-1",children:""}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[o.jsxs("div",{children:["Time: ",o.jsx("span",{className:"font-mono text-foreground",children:j})]}),o.jsxs("div",{children:["Duration: ",o.jsxs("span",{className:"font-mono text-foreground",children:[e.duration_ms.toFixed(0),"ms"]})]}),e.model&&o.jsxs("div",{children:["Model: ",o.jsx("span",{className:"font-mono text-foreground",children:e.model})]}),e.entity_id&&o.jsxs("div",{children:["Entity: ",o.jsx("span",{className:"font-mono text-foreground",children:e.entity_id})]})]}),m==="tokens"&&o.jsxs("div",{className:"flex gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Input:"})," ",o.jsx("span",{className:"font-mono",children:e.input_tokens.toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Output:"})," ",o.jsx("span",{className:"font-mono",children:e.output_tokens.toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Total:"})," ",o.jsx("span",{className:"font-mono",children:e.total_tokens.toLocaleString()})]})]}),m==="composition"&&e.composition.total>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[o.jsx(Fs,{className:"h-3 w-3"}),"Context Composition (estimated from ~",In(Math.round(e.composition.total/4))," tokens)"]}),o.jsx(o2,{composition:e.composition})]})]})]})})]})})]})}function Th({label:e,value:n,icon:r,color:a="default"}){const l={default:"text-muted-foreground",blue:"text-blue-600 dark:text-blue-400",green:"text-emerald-600 dark:text-emerald-400"}[a];return o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded",children:[o.jsx(r,{className:`h-4 w-4 ${l}`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:e}),o.jsx("div",{className:"font-mono text-sm font-medium",children:n})]})]})}function vR({events:e}){const n=le(y=>y.contextInspectorViewMode),r=le(y=>y.setContextInspectorViewMode),a=le(y=>y.contextInspectorCumulative),l=le(y=>y.setContextInspectorCumulative),c=w.useMemo(()=>mR(e),[e]),d=w.useMemo(()=>hR(c),[c]),f=w.useMemo(()=>pR(c),[c]),m=w.useMemo(()=>c.length===0?0:a?d.totalTokens:0,[c,a,d.totalTokens]),h=w.useMemo(()=>c.length===0?0:a?f.total:0,[c,a,f.total]),g=w.useMemo(()=>{let y=0,x=0,b={system:0,user:0,assistant:0,toolCalls:0,toolResults:0,total:0};return c.map(j=>(y+=j.input_tokens,x+=j.output_tokens,b={system:b.system+j.composition.system,user:b.user+j.composition.user,assistant:b.assistant+j.composition.assistant,toolCalls:b.toolCalls+j.composition.toolCalls,toolResults:b.toolResults+j.composition.toolResults,total:b.total+j.composition.total},{input:y,output:x,composition:{...b}}))},[c]);return c.length===0?o.jsxs("div",{className:"flex flex-col items-center text-center p-6 pt-9",children:[o.jsx(ga,{className:"h-8 w-8 text-muted-foreground mb-3"}),o.jsx("div",{className:"text-sm font-medium mb-1",children:"No Data"}),o.jsxs("div",{className:"text-xs text-muted-foreground max-w-[200px]",children:["Run"," ",o.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --instrumentation"})," ","and start a conversation."]})]}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"p-3 border-b flex-shrink-0 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ga,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium text-sm",children:"Context Inspector"}),o.jsxs(ut,{variant:"outline",className:"text-xs",children:[c.length," turn",c.length!==1?"s":""]})]}),o.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-muted-foreground cursor-pointer",children:[o.jsx(kr,{checked:a,onCheckedChange:y=>l(y===!0),className:"h-3.5 w-3.5"}),o.jsx("span",{children:"Cumulative"})]})]}),o.jsxs("div",{className:"flex items-center bg-muted rounded-md p-1",children:[o.jsx("button",{onClick:()=>r("tokens"),className:`flex-1 px-3 py-1.5 text-xs rounded transition-colors ${n==="tokens"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"Tokens"}),o.jsx("button",{onClick:()=>r("composition"),className:`flex-1 px-3 py-1.5 text-xs rounded transition-colors ${n==="composition"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"Composition"})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:n==="tokens"?"Token usage per turn":"Context breakdown by message type (chars)"})]}),o.jsx(Kn,{className:"flex-1",children:o.jsxs("div",{className:"p-3 space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 text-xs px-1 flex-wrap",children:[n==="tokens"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-3 h-3 rounded ${Ht.input}`}),o.jsx("span",{className:"text-muted-foreground",children:"Input ()"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-3 h-3 rounded ${Ht.output}`}),o.jsx("span",{className:"text-muted-foreground",children:"Output ()"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${Ht.system}`}),o.jsx("span",{className:"text-muted-foreground",children:"System"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${Ht.user}`}),o.jsx("span",{className:"text-muted-foreground",children:"User"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${Ht.assistant}`}),o.jsx("span",{className:"text-muted-foreground",children:"Assistant"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${Ht.toolCalls}`}),o.jsx("span",{className:"text-muted-foreground",children:"Tools"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:`w-2.5 h-2.5 rounded-sm ${Ht.toolResults}`}),o.jsx("span",{className:"text-muted-foreground",children:"Results"})]})]}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(Fs,{className:"h-3 w-3"}),o.jsx("span",{children:"Click for details"})]})]}),o.jsx("div",{className:"border rounded-lg overflow-hidden",children:c.map((y,x)=>o.jsx(yR,{turn:y,index:x,maxValue:m,maxCompositionValue:h,cumulativeInput:g[x]?.input||0,cumulativeOutput:g[x]?.output||0,cumulativeComposition:g[x]?.composition||y.composition,showCumulative:a,viewMode:n},y.response_id))}),o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsx("div",{className:"p-3 bg-muted/30 border-b",children:o.jsx("span",{className:"text-xs font-medium",children:"Session Summary"})}),o.jsxs("div",{className:"p-3 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(Th,{label:"Total Tokens",value:In(d.totalTokens),icon:QA}),o.jsx(Th,{label:"Input",value:In(d.totalInput),icon:ga,color:"blue"}),o.jsx(Th,{label:"Output",value:In(d.totalOutput),icon:ga,color:"green"})]}),c.length>1&&o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs pt-2 border-t border-muted/50",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg per turn:"}),o.jsx("span",{className:"font-mono",children:In(d.avgTotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Peak turn:"}),o.jsx("span",{className:"font-mono",children:In(d.peakTotal)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg input:"}),o.jsx("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:In(d.avgInput)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Avg output:"}),o.jsx("span",{className:"font-mono text-emerald-600 dark:text-emerald-400",children:In(d.avgOutput)})]})]}),f.total>0&&o.jsx("div",{className:"pt-3 border-t border-muted/50",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:"text-muted-foreground text-xs mt-0.5",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"text-xs text-muted-foreground mb-2 flex items-center gap-1",children:[o.jsx(Fs,{className:"h-3 w-3"}),"Total Composition (all turns)"]}),o.jsx(o2,{composition:f})]})]})})]})]})]})})]})}function a2(){return o.jsx("div",{className:"flex items-center gap-2 py-3 px-2",children:o.jsx("div",{className:"flex-1 border-t border-border/50"})})}function i2(e){const n=[];let r=!1;for(let a=0;a<e.length;a++){const l=e[a];r&&l.type!=="response.done"&&(n.push({type:"separator",id:`sep-${a}`}),r=!1),n.push(l),(l.type==="response.done"||l.type==="response.completed")&&(r=!0)}return n}function Lr(e){if(e.type==="response.function_result.complete"){const n=e;return{call_id:n.call_id,output:n.output,status:n.status}}return null}function Ng(e){const n=[],r=new Map,a=new Map;let l="";for(const c of e){if(c.type==="response.trace.completed"||c.type==="response.trace.completed")continue;if(c.type==="response.output_item.added"){const m=c.item;if(m.type==="function_call"){const h=m,g=h.call_id;r.set(g,{name:h.name,arguments:"",callId:g,itemId:h.id,timestamp:new Date().toISOString()}),a.set(g,h.name)}n.push(c);continue}const d=Lr(c)!==null;if(c.type==="response.completed"||c.type==="response.done"||c.type==="error"||c.type==="response.workflow_event.completed"||c.type==="response.trace.completed"||c.type==="response.trace.completed"||d){if(l.trim()&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l=""),(c.type==="response.trace.completed"||c.type==="response.trace.completed")&&"data"in c){const m=c.data;if(m.attributes&&m.attributes["gen_ai.output.messages"]&&typeof m.attributes["gen_ai.output.messages"]=="string")try{const h=JSON.parse(m.attributes["gen_ai.output.messages"]);for(const g of h)if(g.parts)for(const y of g.parts)y.type==="tool_call"&&y.name&&y.id&&a.set(y.id,y.name)}catch{}}const f=Lr(c);if(f){const m=f.call_id;if(m&&r.has(m)){const h=r.get(m),g=a.get(m)||h.name||"unknown";n.push({type:"response.function_call.complete",data:{name:g,arguments:h.arguments,call_id:h.callId}}),r.delete(m)}}n.push(c);continue}if(c.type==="response.function_call.delta"&&"data"in c){const f=c.data,m=f.call_id||`call_${Date.now()}`;r.has(m)||r.set(m,{name:f.name||void 0,arguments:"",callId:m,timestamp:new Date().toISOString()}),f.name&&f.name.trim()&&(r.get(m).name=f.name.trim());continue}if(c.type==="response.function_call.complete"&&"data"in c){n.push(c);continue}if(c.type==="response.function_call_arguments.delta"){let f="",m=null;if("delta"in c&&typeof c.delta=="string"&&(f=c.delta),"item_id"in c&&c.item_id){const h=c.item_id;for(const[g,y]of r.entries())if(y.itemId===h||g===h){m=g;break}}if(f&&m){const h=r.get(m);if(h){if(f==="{}"&&h.arguments==="")continue;h.arguments+=f}else console.warn(`Received argument delta for unknown call with item_id: ${"item_id"in c?c.item_id:"unknown"}`)}continue}if(c.type==="response.output_text.delta"&&"delta"in c){l+=c.delta||"",l.length>100&&(l.includes(`

`)||l.trim().match(/[.!?]\s*$/))&&(n.push({type:"response.output_text.delta",delta:l.trim()}),l="");continue}c.type!=="response.usage.complete"&&n.push(c)}for(const[,c]of r)if(c.arguments.trim()&&c.arguments.trim().length>2){const d=a.get(c.callId)||c.name||"unknown";n.push({type:"response.function_call.complete",data:{name:d,arguments:c.arguments,call_id:c.callId}})}return l.trim()&&n.push({type:"response.output_text.delta",delta:l.trim()}),n}function bR(e){switch(e.type){case"response.output_text.delta":if("delta"in e){const n=e.delta||"";return n.length>60?`${n.slice(0,60)}...`:n}return"Text output";case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;let r=n.name||"unknown";(!r||r==="unknown")&&(r="function_call");const a=n.arguments?typeof n.arguments=="string"?n.arguments.slice(0,30):JSON.stringify(n.arguments).slice(0,30):"";return`Calling ${r}(${a}${a.length>=30?"...":""})`}return"Function call";case"response.function_call_arguments.delta":return"delta"in e&&e.delta?`Function arg delta: ${e.delta.slice(0,30)}${e.delta.length>30?"...":""}`:"Function arguments...";case"response.function_result.complete":{const r=e.output.slice(0,40);return`Function result: ${r}${r.length>=40?"...":""}`}case"response.output_item.added":{const n=e;return n.item.type==="function_call"?`Tool call: ${n.item.name}`:"Output item added"}case"response.workflow_event.completed":return"data"in e&&e.data?`Executor: ${e.data.executor_id||"unknown"}`:"Workflow event";case"response.trace.completed":return"data"in e&&e.data?`Trace: ${e.data.operation_name||"unknown"}`:"Trace event";case"response.harness_lifecycle":{const n=e,r=n.event_type||"unknown",a=n.turn_number||0,l=n.max_turns||0;switch(r){case"harness_started":return`Harness started (max ${l} turns)`;case"turn_started":return`Turn ${a}/${l} started`;case"turn_completed":return`Turn ${a}/${l} completed`;case"continuation_prompt":return`Continuation prompt (turn ${a})`;case"stall_detected":return`Stall detected (turn ${a})`;case"harness_completed":return`Harness completed (${n.status||"done"})`;default:return`Harness: ${r}`}}case"response.completed":if("response"in e&&e.response&&"usage"in e.response){const r=e.response.usage;if(r)return`Response complete (${r.total_tokens} tokens)`}return"Response complete";case"response.done":return"Response complete";case"error":return"message"in e&&typeof e.message=="string"?e.message:"Error occurred";default:return`${e.type}`}}function wR(e){switch(e){case"response.output_text.delta":return ig;case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return Ca;case"response.function_result.complete":return nn;case"response.output_item.added":return nn;case"response.workflow_event.completed":return og;case"response.trace.completed":return Fu;case"response.harness_lifecycle":return Al;case"response.completed":return nn;case"response.done":return nn;case"error":return Tl;default:return hs}}function NR(e){switch(e){case"response.output_text.delta":return"text-gray-600 dark:text-gray-400";case"response.function_call.complete":case"response.function_call.delta":case"response.function_call_arguments.delta":return"text-blue-600 dark:text-blue-400";case"response.function_result.complete":return"text-green-600 dark:text-green-400";case"response.output_item.added":return"text-green-600 dark:text-green-400";case"response.workflow_event.completed":return"text-purple-600 dark:text-purple-400";case"response.trace.completed":return"text-orange-600 dark:text-orange-400";case"response.harness_lifecycle":return"text-cyan-600 dark:text-cyan-400";case"response.completed":return"text-green-600 dark:text-green-400";case"response.done":return"text-green-600 dark:text-green-400";case"error":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}function jR({event:e}){const[n,r]=w.useState(!1),a=e.type||"unknown",l=wR(a),c=NR(a),d="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),f=bR(e),m=e.type==="response.function_call.complete"&&"data"in e&&e.data||e.type==="response.function_result.complete"||e.type==="response.output_item.added"&&Lr(e)!==null||e.type==="response.workflow_event.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.trace.completed"&&"data"in e&&e.data||e.type==="response.harness_lifecycle"||e.type==="response.output_text.delta"&&"delta"in e&&e.delta&&e.delta.length>100||e.type==="response.completed"&&"response"in e&&e.response||e.type==="error";return o.jsxs("div",{className:"border-l-2 border-muted pl-3 py-2 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[o.jsx(l,{className:`h-3 w-3 ${c}`}),o.jsx("span",{className:"font-mono",children:d}),o.jsx(ut,{variant:"outline",className:"text-xs py-0",children:e.type?e.type.replace("response.",""):"unknown"})]}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:`flex items-center gap-2 ${m?"cursor-pointer":""}`,onClick:()=>m&&r(!n),children:[m&&o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Et,{className:"h-3 w-3"}):o.jsx(en,{className:"h-3 w-3"})}),o.jsx("div",{className:"text-muted-foreground flex-1",children:m&&f.length>80?`${f.slice(0,80)}...`:f})]}),n&&m&&o.jsx("div",{className:"mt-2 ml-5 p-3 bg-muted/30 rounded border",children:o.jsx(SR,{event:e})})]})]})}function SR({event:e}){if(e.type==="error"){const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tl,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Error Details"})]}),o.jsxs("div",{className:"text-xs",children:[n.message&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Message:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-destructive/10 border border-destructive/30 rounded p-2 text-destructive whitespace-pre-wrap break-all",children:n.message})})]}),n.code&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Code:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.code})]}),n.param&&o.jsxs("div",{className:"mb-2",children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Parameter:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.param})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Raw Event:"}),o.jsx("div",{className:"mt-1",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all max-h-32 overflow-auto",children:JSON.stringify(e,null,2)})})]})]})]})}switch(e.type){case"response.function_call.complete":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ca,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Call"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Function:"}),o.jsx("span",{className:"ml-2 font-mono bg-blue-100 dark:bg-blue-900 px-2 py-1 rounded",children:n.name||"unknown"})]}),n.call_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),n.arguments&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Arguments:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.arguments=="string"?n.arguments:JSON.stringify(n.arguments,null,1)})})]})]})]})}break;case"response.function_result.complete":{const n=e;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]})}case"response.output_item.added":{const n=Lr(e);if(n)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Function Result"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="completed"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:n.output})})]})]})]});break}case"response.workflow_event.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(og,{className:"h-4 w-4 text-purple-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Workflow Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Event Type:"}),o.jsx("span",{className:"ml-2 font-mono bg-purple-100 dark:bg-purple-900 px-2 py-1 rounded",children:n.event_type||"unknown"})]}),n.executor_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Executor:"}),o.jsx("span",{className:"ml-2 font-mono",children:n.executor_id})]}),n.timestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.timestamp})]}),n.data&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Data:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:typeof n.data=="string"?n.data:JSON.stringify(n.data,null,1)})})]})]})]})}break;case"response.harness_lifecycle":{const n=e,r=n.event_type||"unknown",a=n.turn_number||0,l=n.max_turns||0,c=n.status,d=n.data||{},f=m=>{switch(m){case"done":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"failed":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case"stalled":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";default:return"bg-cyan-100 dark:bg-cyan-900 text-cyan-800 dark:text-cyan-200"}};return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Al,{className:"h-4 w-4 text-cyan-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Harness Lifecycle"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Event:"}),o.jsx("span",{className:"ml-2 font-mono bg-cyan-100 dark:bg-cyan-900 px-2 py-1 rounded",children:r})]}),l>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Progress:"}),o.jsxs("span",{className:"ml-2",children:["Turn ",a," / ",l]}),o.jsx("div",{className:"mt-1 w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-cyan-500 h-2 rounded-full transition-all",style:{width:`${Math.min(a/l*100,100)}%`}})})]}),c&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${f(c)}`,children:c})]}),n.timestamp&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Timestamp:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.timestamp})]}),Object.keys(d).length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Details:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:JSON.stringify(d,null,2)})})]})]})]})}case"response.trace.completed":if("data"in e&&e.data){const n=e.data;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fu,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Trace Event"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Operation:"}),o.jsx("span",{className:"ml-2 font-mono bg-orange-100 dark:bg-orange-900 px-2 py-1 rounded",children:n.operation_name||"unknown"})]}),n.span_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Span ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.span_id})]}),n.trace_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Trace ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.trace_id})]}),n.duration_ms&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Duration:"}),o.jsxs("span",{className:"ml-2 font-mono text-xs",children:[Number(n.duration_ms).toFixed(2),"ms"]})]}),n.status&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Status:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${n.status==="StatusCode.UNSET"||n.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:n.status||"unknown"})]}),n.entity_id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Entity:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",children:n.entity_id})]}),n.attributes&&Object.keys(n.attributes).length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Attributes:"}),o.jsx("div",{className:"mt-1 max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap break-all",children:l2(n.attributes)})})]})]})]})}break;case"response.output_text.delta":if("delta"in e&&e.delta)return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ig,{className:"h-4 w-4 text-gray-500"}),o.jsx("span",{className:"font-semibold text-sm",children:"Text Output"})]}),o.jsx("div",{className:"max-h-32 overflow-auto",children:o.jsx("pre",{className:"text-xs bg-background border rounded p-2 whitespace-pre-wrap max-w-full break-all",children:e.delta})})]});break;case"response.completed":if("response"in e&&e.response){const r=e.response;return o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[r.usage&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx("span",{className:"font-medium text-muted-foreground",children:"Usage:"})}),o.jsxs("div",{className:"ml-4 space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Input tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.input_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Output tokens:"}),o.jsx("span",{className:"ml-2 font-mono",children:r.usage.output_tokens})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Total tokens:"}),o.jsx("span",{className:"ml-2 font-mono bg-green-100 dark:bg-green-900 px-2 py-1 rounded",children:r.usage.total_tokens})]})]})]}),r.id&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Response ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.id})]}),r.model&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium text-muted-foreground",children:"Model:"}),o.jsx("span",{className:"ml-2 font-mono text-xs break-all",children:r.model})]})]})})}break;default:return o.jsx("div",{className:"text-xs text-muted-foreground",children:o.jsx("pre",{className:"bg-background border rounded p-2 overflow-auto max-h-32",children:JSON.stringify(e,null,2)})})}return null}function _R({events:e,isStreaming:n}){const r=w.useRef(null),a=Ng(e),c=[...i2(a)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(og,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Events"}),o.jsxs(ut,{variant:"outline",children:[a.length,e.length>a.length?` (${e.length} raw)`:""]})]}),n&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-green-500 dark:bg-green-400"}),"Streaming"]})]}),o.jsx(Kn,{ref:r,className:"flex-1",children:o.jsx("div",{className:"p-3",children:a.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:e.length===0?"No events yet. Start a conversation to see real-time events.":"Processing events... Accumulated events will appear here."}):o.jsx("div",{className:"space-y-2",children:c.map((d,f)=>"type"in d&&d.type==="separator"?o.jsx(a2,{},d.id):o.jsx(jR,{event:d},`${d.type}-${f}`))})})})]})}function ER(e){const n=new Map;for(const a of e){if(!("data"in a))continue;const c=a.data.response_id||"unknown";n.has(c)||n.set(c,[]),n.get(c).push(a)}const r=[];for(const[a,l]of n){const c=new Map,d=[];for(const x of l){if(!("data"in x))continue;const b=x.data,j=b.span_id||`span_${Math.random()}`;c.set(j,{event:x,data:b,children:[]})}for(const x of l){if(!("data"in x))continue;const b=x.data,j=b.span_id||"",N=b.parent_span_id,S=c.get(j);S&&(N&&c.has(N)?c.get(N).children.push(S):d.push(S))}d.sort((x,b)=>(x.data.start_time||0)-(b.data.start_time||0));const f=x=>{x.children.sort((b,j)=>(b.data.start_time||0)-(j.data.start_time||0)),x.children.forEach(f)};d.forEach(f);const m=l[0],h=m&&"data"in m?m.data:null,g=Math.min(...l.map(x=>("data"in x?x.data:null)?.start_time||Date.now()/1e3)),y=l.reduce((x,b)=>{const j="data"in b?b.data:null;return x+(j?.duration_ms||0)},0);r.push({response_id:a,timestamp:g,traces:d,totalDuration:y,entity_id:h?.entity_id})}return r.sort((a,l)=>l.timestamp-a.timestamp),r}function Eu(e){if(typeof e=="string"){const n=e.trim();if(n.startsWith("[")||n.startsWith("{"))try{const r=JSON.parse(e);return Eu(r)}catch{return e}return e}if(Array.isArray(e))return e.map(Eu);if(e!==null&&typeof e=="object"){const n={};for(const[r,a]of Object.entries(e))n[r]=Eu(a);return n}return e}function l2(e){try{const n=Eu(e);return JSON.stringify(n,null,2)}catch{return JSON.stringify(e,null,2)}}function CR(e){return e.includes("invoke_agent")||e.includes("Agent")?"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200":e.includes("chat")||e.includes("Chat")?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":e.includes("tool")||e.includes("execute")?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200"}function c2({node:e,depth:n=0}){const[r,a]=w.useState(n<2),[l,c]=w.useState(!1),{data:d}=e,f=d.operation_name||"Unknown",m=d.duration_ms?`${Number(d.duration_ms).toFixed(1)}ms`:"",h=e.children.length>0,g=d.attributes?.["gen_ai.usage.input_tokens"],y=d.attributes?.["gen_ai.usage.output_tokens"],x=g!==void 0||y!==void 0;return o.jsxs("div",{className:"relative",children:[n>0&&o.jsx("div",{className:"absolute left-0 top-0 bottom-0 border-l-2 border-muted",style:{marginLeft:`${(n-1)*16+8}px`}}),o.jsxs("div",{className:"flex items-center gap-2 py-1.5 hover:bg-muted/50 rounded transition-colors",style:{paddingLeft:`${n*16}px`},children:[o.jsx("button",{onClick:()=>h?a(!r):c(!l),className:"w-4 h-4 flex items-center justify-center text-muted-foreground hover:text-foreground",children:h?r?o.jsx(Et,{className:"h-3 w-3"}):o.jsx(en,{className:"h-3 w-3"}):l?o.jsx(Et,{className:"h-3 w-3"}):o.jsx(en,{className:"h-3 w-3"})}),o.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded font-medium ${CR(f)}`,children:f.replace("ChatAgent.","").replace("invoke_agent ","")}),m&&o.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:m}),x&&o.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[g!==void 0&&o.jsxs("span",{children:["",String(g)]}),g!==void 0&&y!==void 0&&o.jsx("span",{className:"mx-0.5",children:"/"}),y!==void 0&&o.jsxs("span",{children:["",String(y)]})]})]}),l&&!h&&o.jsx("div",{className:"ml-4 mt-1 mb-2 p-2 bg-muted/30 rounded border text-xs",style:{marginLeft:`${n*16+20}px`},children:o.jsxs("div",{className:"space-y-1",children:[d.span_id&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Span ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:d.span_id})]}),d.trace_id&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Trace ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:d.trace_id})]}),d.status&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("span",{className:"text-muted-foreground w-20",children:"Status:"}),o.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${d.status==="StatusCode.UNSET"||d.status==="OK"?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"}`,children:d.status})]}),d.attributes&&Object.keys(d.attributes).length>0&&o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Attributes:"}),o.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-auto max-h-32 whitespace-pre-wrap break-all",children:l2(d.attributes)})]})]})}),h&&r&&o.jsx("div",{children:e.children.map((b,j)=>o.jsx(c2,{node:b,depth:n+1},b.data.span_id||j))})]})}function kR({group:e}){const[n,r]=w.useState(!0),a=new Date(e.timestamp*1e3).toLocaleTimeString(),l=e.totalDuration>0?`${e.totalDuration.toFixed(0)}ms`:"",c=e.traces.reduce((d,f)=>{const m=h=>1+h.children.reduce((g,y)=>g+m(y),0);return d+m(f)},0);return o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted/50 cursor-pointer hover:bg-muted/70 transition-colors",onClick:()=>r(!n),children:[o.jsx("div",{className:"text-muted-foreground",children:n?o.jsx(Et,{className:"h-4 w-4"}):o.jsx(en,{className:"h-4 w-4"})}),o.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:a}),e.entity_id&&o.jsx(ut,{variant:"outline",className:"text-xs py-0",children:e.entity_id.replace("agent_","").replace("workflow_","")}),o.jsx("div",{className:"flex-1"}),l&&o.jsx(ut,{variant:"secondary",className:"text-xs py-0",children:l}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[c," span",c!==1?"s":""]})]}),n&&o.jsx("div",{className:"p-2 border-t",children:e.traces.map((d,f)=>o.jsx(c2,{node:d,depth:0},d.data.span_id||f))})]})}function TR({events:e}){const n=le(c=>c.debugTraceSubTab),r=le(c=>c.setDebugTraceSubTab),a=e.filter(c=>c.type==="response.trace.completed"),l=ER(a);return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(Fu,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Traces"}),o.jsx(ut,{variant:"outline",children:a.length}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center bg-muted rounded-md p-1 min-w-0",children:[o.jsx("button",{onClick:()=>r("spans"),className:`px-3 py-1.5 text-xs rounded transition-colors truncate ${n==="spans"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:"OTel Spans"}),o.jsxs("button",{onClick:()=>r("context"),className:`px-3 py-1.5 text-xs rounded transition-colors flex items-center gap-1.5 min-w-0 ${n==="context"?"bg-background shadow-sm font-medium":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(ga,{className:"h-3.5 w-3.5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:"Context Inspector"})]})]})]}),n==="spans"?o.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.length>0&&o.jsx("div",{className:"p-3 border-b flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Fu,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium text-sm",children:"OTel Spans"}),o.jsxs(ut,{variant:"outline",className:"text-xs",children:[l.length," turn",l.length!==1?"s":""]})]})}),a.length===0?o.jsxs("div",{className:"flex flex-col items-center text-center p-6 pt-9",children:[o.jsx(ga,{className:"h-8 w-8 text-muted-foreground mb-3"}),o.jsx("div",{className:"text-sm font-medium mb-1",children:"No Data"}),o.jsxs("div",{className:"text-xs text-muted-foreground max-w-[200px]",children:["Run"," ",o.jsx("span",{className:"font-mono bg-accent/10 px-1 rounded",children:"devui --instrumentation"})," ","and start a conversation."]})]}):o.jsx(Kn,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:o.jsx("div",{className:"space-y-3",children:l.map(c=>o.jsx(kR,{group:c},c.response_id))})})})]}):o.jsx(vR,{events:e})]})}function AR({events:e}){const n=Ng(e),r=[],a=n.filter(m=>m.type==="response.function_call.complete"),l=e.filter(m=>Lr(m)!==null),c=new Map;l.forEach(m=>{const h=Lr(m);h&&c.set(h.call_id,m)}),a.forEach(m=>{if(r.push(m),"data"in m&&m.data&&m.data.call_id){const h=String(m.data.call_id),g=c.get(h);g&&(r.push(g),c.delete(h))}}),c.forEach(m=>{r.push(m)});const f=[...i2(r)].reverse();return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[o.jsx(Ca,{className:"h-4 w-4"}),o.jsx("span",{className:"font-medium",children:"Tools"}),o.jsx(ut,{variant:"outline",children:r.length})]}),o.jsx(Kn,{className:"flex-1",children:o.jsx("div",{className:"p-3",children:r.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:"No tool executions yet. Tool calls will appear here during conversations."}):o.jsx("div",{className:"space-y-3",children:f.map((m,h)=>"type"in m&&m.type==="separator"?o.jsx(a2,{},m.id):o.jsx(MR,{event:m},h))})})})]})}function MR({event:e}){const n="_uiTimestamp"in e&&typeof e._uiTimestamp=="number"?new Date(e._uiTimestamp*1e3).toLocaleTimeString():new Date().toLocaleTimeString(),r=e.type==="response.function_call.complete",a=Lr(e),l=a!==null;if(!r&&!l)return null;const c=r&&"data"in e?e.data:null;return o.jsxs("div",{className:"border rounded p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Al,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),o.jsx("span",{className:"font-medium text-sm",children:r?"Tool Call":"Tool Result"}),r&&c&&c.name!==void 0&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",String(c.name),")"]})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:n})]}),r&&c&&o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ca,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"text-xs font-mono bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"CALL"}),o.jsx("span",{className:"font-medium text-sm",children:String(c.name||"unknown")})]}),c.arguments!==void 0&&o.jsxs("div",{className:"text-xs",children:[o.jsx("span",{className:"text-muted-foreground mb-1 block",children:"Arguments:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 max-w-full break-all whitespace-pre-wrap",children:typeof c.arguments=="string"?c.arguments:JSON.stringify(c.arguments,null,1)})]})]}),l&&a&&o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-950/50 border border-green-200 dark:border-green-800 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(nn,{className:"h-3 w-3 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-xs font-mono bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded",children:"RESULT"}),a.status!=="completed"&&o.jsx("span",{className:"ml-auto px-2 py-1 rounded text-xs font-medium bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",children:a.status})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Call ID:"}),o.jsx("span",{className:"font-mono text-xs break-all",children:a.call_id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground block mb-1",children:"Output:"}),o.jsx("pre",{className:"p-2 bg-background border rounded text-xs overflow-auto max-h-32 break-all whitespace-pre-wrap",children:a.output})]})]})]})]})}function RR({events:e,isStreaming:n=!1,onMinimize:r}){const a=le(d=>d.debugPanelTab),l=le(d=>d.setDebugPanelTab),c=w.useMemo(()=>{const d=Ng(e),f=d.length,m=e.filter(g=>g.type==="response.trace.completed").length,h=d.filter(g=>g.type==="response.function_call.complete").length+e.filter(g=>Lr(g)!==null).length;return{eventsCount:f,tracesCount:m,toolsCount:h}},[e]);return o.jsx("div",{className:"flex-1 border-l flex flex-col min-h-0",children:o.jsxs(R5,{value:a,onValueChange:d=>l(d),className:"flex-1 flex flex-col min-h-0",children:[o.jsxs("div",{className:"px-3 pt-3 flex items-center gap-2 flex-shrink-0",children:[o.jsxs($N,{className:"flex-1",children:[o.jsxs(Su,{value:"events",className:"flex-1 gap-1.5",children:["Events",c.eventsCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:c.eventsCount})]}),o.jsxs(Su,{value:"traces",className:"flex-1 gap-1.5",children:["Traces",c.tracesCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:c.tracesCount})]}),o.jsxs(Su,{value:"tools",className:"flex-1 gap-1.5",children:["Tools",c.toolsCount>0&&o.jsx("span",{className:"text-[10px] bg-muted-foreground/20 text-muted-foreground px-1.5 py-0.5 rounded-full min-w-[1.25rem] text-center",children:c.toolsCount})]})]}),r&&o.jsx(Le,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0 flex-shrink-0",title:"Minimize debug panel",children:o.jsx(en,{className:"h-4 w-4"})})]}),o.jsx(_u,{value:"events",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(_R,{events:e,isStreaming:n})}),o.jsx(_u,{value:"traces",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(TR,{events:e})}),o.jsx(_u,{value:"tools",className:"flex-1 mt-0 overflow-hidden",children:o.jsx(AR,{events:e})})]})})}function $r({open:e,onOpenChange:n,children:r}){if(!e)return null;const a=()=>{n(!1)},l=d=>{d.stopPropagation()},c=d=>{d.stopPropagation()};return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),o.jsx("div",{className:"relative z-10",onClick:l,onMouseDown:c,onMouseUp:d=>d.stopPropagation(),children:r})]})}function Hr({children:e,className:n=""}){const a=n.includes("w-[")||n.includes("w-full")||n.includes("max-w-")?"":"max-w-lg w-full";return o.jsx("div",{className:`relative bg-background border rounded-lg shadow-lg max-h-[90vh] overflow-hidden ${a} ${n}`,children:e})}function Pr({children:e,className:n=""}){return o.jsx("div",{className:`space-y-2 ${n}`,children:e})}function Br({children:e,className:n=""}){return o.jsx("h2",{className:`text-lg font-semibold ${n}`,children:e})}function DR({children:e,className:n=""}){return o.jsx("p",{className:`text-sm text-muted-foreground ${n}`,children:e})}function Eo({onClose:e}){return o.jsx(Le,{variant:"ghost",size:"sm",onClick:e,className:"absolute top-4 right-4 h-8 w-8 p-0 rounded-sm opacity-70 hover:opacity-100",children:o.jsx(ka,{className:"h-4 w-4"})})}function OR({children:e}){return o.jsx("div",{className:"flex justify-end gap-2 p-4 border-t bg-muted/50",children:e})}function Ln({className:e,type:n,...r}){return o.jsx("input",{type:n,"data-slot":"input",className:We("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var zR="Label",u2=w.forwardRef((e,n)=>o.jsx(Ye.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));u2.displayName=zR;var IR=u2;function yt({className:e,...n}){return o.jsx(IR,{"data-slot":"label",className:We("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}var Rd="Switch",[LR,e$]=Qn(Rd),[$R,HR]=LR(Rd),d2=w.forwardRef((e,n)=>{const{__scopeSwitch:r,name:a,checked:l,defaultChecked:c,required:d,disabled:f,value:m="on",onCheckedChange:h,form:g,...y}=e,[x,b]=w.useState(null),j=rt(n,E=>b(E)),N=w.useRef(!1),S=x?g||!!x.closest("form"):!0,[_,A]=Rr({prop:l,defaultProp:c??!1,onChange:h,caller:Rd});return o.jsxs($R,{scope:r,checked:_,disabled:f,children:[o.jsx(Ye.button,{type:"button",role:"switch","aria-checked":_,"aria-required":d,"data-state":p2(_),"data-disabled":f?"":void 0,disabled:f,value:m,...y,ref:j,onClick:ke(e.onClick,E=>{A(M=>!M),S&&(N.current=E.isPropagationStopped(),N.current||E.stopPropagation())})}),S&&o.jsx(h2,{control:x,bubbles:!N.current,name:a,value:m,checked:_,required:d,disabled:f,form:g,style:{transform:"translateX(-100%)"}})]})});d2.displayName=Rd;var f2="SwitchThumb",m2=w.forwardRef((e,n)=>{const{__scopeSwitch:r,...a}=e,l=HR(f2,r);return o.jsx(Ye.span,{"data-state":p2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:n})});m2.displayName=f2;var PR="SwitchBubbleInput",h2=w.forwardRef(({__scopeSwitch:e,control:n,checked:r,bubbles:a=!0,...l},c)=>{const d=w.useRef(null),f=rt(d,c),m=yg(r),h=qp(n);return w.useEffect(()=>{const g=d.current;if(!g)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(m!==r&&b){const j=new Event("click",{bubbles:a});b.call(g,r),g.dispatchEvent(j)}},[m,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:f,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});h2.displayName=PR;function p2(e){return e?"checked":"unchecked"}var g2=d2,BR=m2;const Qi=w.forwardRef(({className:e,...n},r)=>o.jsx(g2,{className:We("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:r,children:o.jsx(BR,{className:We("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Qi.displayName=g2.displayName;const UR=["gpt-4.1","gpt-4.1-mini","o1","o1-mini","o3-mini"];function ub({open:e,onOpenChange:n,onBackendUrlChange:r}){const[a,l]=w.useState("general"),{oaiMode:c,setOAIMode:d,azureDeploymentEnabled:f,setAzureDeploymentEnabled:m,authRequired:h,serverCapabilities:g,serverVersion:y,runtime:x,uiMode:b,streamingEnabled:j,setStreamingEnabled:N}=le(),S="",[_,A]=w.useState(()=>localStorage.getItem("devui_backend_url")||S),[E,M]=w.useState(_),[R,D]=w.useState(!!localStorage.getItem("devui_auth_token")),[O,P]=w.useState(""),q=()=>{try{new URL(E),localStorage.setItem("devui_backend_url",E),A(E),r?.(E),n(!1),window.location.reload()}catch{alert("Please enter a valid URL (e.g., http://localhost:8080)")}},Z=()=>{localStorage.removeItem("devui_backend_url"),M(S),A(S),r?.(S),window.location.reload()},Q=()=>{O.trim()&&(localStorage.setItem("devui_auth_token",O.trim()),D(!0),P(""),window.location.reload())},G=()=>{localStorage.removeItem("devui_auth_token"),D(!1),P(""),window.location.reload()},ne=E!==_,U=!localStorage.getItem("devui_backend_url");return o.jsx($r,{open:e,onOpenChange:n,children:o.jsxs(Hr,{className:"w-[600px] max-w-[90vw] flex flex-col max-h-[85vh]",children:[o.jsx(Pr,{className:"p-6 pb-2 flex-shrink-0",children:o.jsx(Br,{children:"Settings"})}),o.jsx(Eo,{onClose:()=>n(!1)}),o.jsxs("div",{className:"flex border-b px-6 flex-shrink-0",children:[o.jsxs("button",{onClick:()=>l("general"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="general"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["General",a==="general"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),g.openai_proxy&&o.jsxs("button",{onClick:()=>l("proxy"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="proxy"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["OpenAI Proxy",a==="proxy"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),o.jsxs("button",{onClick:()=>l("about"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${a==="about"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:["About",a==="about"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1 min-h-[400px]",children:[a==="general"&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(yt,{htmlFor:"backend-url",className:"text-sm font-medium",children:"Backend URL"}),!U&&o.jsxs(Le,{variant:"ghost",size:"sm",onClick:Z,className:"h-7 text-xs",title:"Reset to default",children:[o.jsx(ug,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),o.jsx(Ln,{id:"backend-url",type:"url",value:E,onChange:B=>M(B.target.value),placeholder:"http://localhost:8080",className:"font-mono text-sm"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default: ",o.jsx("span",{className:"font-mono",children:S})]}),o.jsx("div",{className:"flex gap-2 pt-2 min-h-[36px]",children:ne&&o.jsxs(o.Fragment,{children:[o.jsx(Le,{onClick:q,size:"sm",className:"flex-1",children:"Apply & Reload"}),o.jsx(Le,{onClick:()=>M(_),variant:"outline",size:"sm",className:"flex-1",children:"Cancel"})]})})]}),(h||R)&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Authentication Token"}),!h&&R&&o.jsx("span",{className:"text-xs text-muted-foreground",children:"(Not required by current backend)"})]}),R?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ln,{type:"password",value:"",disabled:!0,className:"font-mono text-sm flex-1"}),o.jsx(Le,{variant:"destructive",size:"sm",onClick:G,className:"flex-shrink-0",children:"Clear"})]}),o.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:" Token configured and stored locally"})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ln,{type:"password",value:O,onChange:B=>P(B.target.value),placeholder:"Enter bearer token",className:"font-mono text-sm",onKeyDown:B=>{B.key==="Enter"&&O.trim()&&Q()}}),o.jsx(Le,{onClick:Q,size:"sm",disabled:!O.trim(),className:"w-full",children:"Save & Reload"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:h?"Required by backend (started with --auth flag)":"Not required by current backend"})]})]}),g.deployment&&o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Azure Deployment"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable one-click deployment to Azure Container Apps"})]}),o.jsx(Qi,{checked:f,onCheckedChange:m})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-xs text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(en,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Learn more about Azure deployment"]}),o.jsxs("div",{className:"mt-3 space-y-3 pl-4",children:[o.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:'When enabled, agents that support deployment will show a "Deploy to Azure" button. This allows you to deploy your agent to Azure Container Apps directly from DevUI.'}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When enabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deploy to Azure" for supported agents'}),o.jsx("li",{children:"Requires Azure CLI and proper authentication"}),o.jsx("li",{children:"Backend must have deployment capabilities enabled"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("p",{className:"text-xs font-medium",children:"When disabled:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsx("li",{children:'Shows "Deployment Guide" for all agents'}),o.jsx("li",{children:"Provides Docker templates and manual deployment instructions"}),o.jsx("li",{children:"No backend deployment capabilities required"})]})]})]})]})]}),o.jsx("div",{className:"space-y-3 border-t pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Show Tool Calls"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Display function/tool calls and results in chat messages"})]}),o.jsx(Qi,{checked:le.getState().showToolCalls,onCheckedChange:B=>le.getState().setShowToolCalls(B)})]})}),o.jsxs("div",{className:"space-y-3 border-t pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Streaming Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses token-by-token as they're generated"})]}),o.jsx(Qi,{checked:j,onCheckedChange:N})]}),!j&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-amber-600 dark:text-amber-400 bg-amber-500/10 p-3 rounded",children:[o.jsx(Fs,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Non-streaming mode limitations:"}),o.jsxs("ul",{className:"mt-1 space-y-0.5 list-disc list-inside text-amber-600/80 dark:text-amber-400/80",children:[o.jsx("li",{children:"Tool calls won't display in real-time"}),o.jsx("li",{children:"No typing indicator during generation"}),o.jsx("li",{children:"Response appears all at once when complete"})]})]})]})]})]}),a==="proxy"&&g.openai_proxy&&o.jsxs("div",{className:"space-y-6 pt-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(yt,{className:"text-base font-medium",children:"OpenAI Proxy Mode"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Route requests through DevUI backend to OpenAI API"})]}),o.jsx(Qi,{checked:c.enabled,onCheckedChange:B=>d({...c,enabled:B})})]}),!c.enabled&&o.jsx("div",{className:"bordder border-muted bg-muted/30 rounded-lg p-4 space-y-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Fs,{className:"h-4 w-4 flex-shrink-0 mt-0.5 text-blue-600 dark:text-blue-400"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"About OpenAI Proxy Mode"}),o.jsxs("p",{className:"text-xs text-muted-foreground leading-relaxed",children:["When enabled, your chat requests are sent to your DevUI backend"," ",o.jsxs("span",{className:"font-mono font-semibold",children:["(",_,")"]}),", which then forwards them to OpenAI's API. This keeps your"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","secure on the server instead of exposing it in the browser."]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Requirements:"}),o.jsxs("ul",{className:"text-xs text-muted-foreground space-y-0.5 list-disc list-inside",children:[o.jsxs("li",{children:["Backend must have"," ",o.jsx("span",{className:"font-mono",children:"OPENAI_API_KEY"})," ","configured"]}),o.jsx("li",{children:"Backend must support OpenAI Responses API proxying (DevUI does)"})]})]}),o.jsxs("div",{className:"space-y-1.5 pt-1",children:[o.jsx("p",{className:"text-xs font-medium",children:"Why use this?"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quickly test and compare OpenAI models directly through the DevUI interface without creating custom agents or exposing API keys in the browser."})]})]})]})}),c.enabled&&o.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-muted",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{className:"text-sm font-medium",children:"Model"}),o.jsx(Ln,{type:"text",value:c.model,onChange:B=>d({...c,model:B.target.value}),placeholder:"gpt-4.1-mini",className:"font-mono text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter any OpenAI model ID (e.g., gpt-4.1, o1, o3-mini)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{className:"text-xs text-muted-foreground",children:"Common presets"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:UR.map(B=>o.jsx(Le,{variant:c.model===B?"default":"outline",size:"sm",onClick:()=>d({...c,model:B}),className:"text-xs h-7",children:B},B))})]}),o.jsxs("details",{className:"group",children:[o.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-muted-foreground hover:text-foreground transition-colors flex items-center gap-1",children:[o.jsx(en,{className:"h-3 w-3 transition-transform group-open:rotate-90"}),"Advanced Parameters (optional)"]}),o.jsxs("div",{className:"space-y-3 mt-3 pl-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Temperature"}),o.jsx(Ln,{type:"number",step:"0.1",min:"0",max:"2",value:c.temperature??"",onChange:B=>d({...c,temperature:B.target.value?parseFloat(B.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Controls randomness (0-2)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Max Output Tokens"}),o.jsx(Ln,{type:"number",min:"1",value:c.max_output_tokens??"",onChange:B=>d({...c,max_output_tokens:B.target.value?parseInt(B.target.value):void 0}),placeholder:"Auto",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum tokens in response"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Top P"}),o.jsx(Ln,{type:"number",step:"0.1",min:"0",max:"1",value:c.top_p??"",onChange:B=>d({...c,top_p:B.target.value?parseFloat(B.target.value):void 0}),placeholder:"1.0 (default)",className:"text-sm"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Nucleus sampling (0-1)"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(yt,{className:"text-xs",children:"Reasoning Effort (o-series models)"}),o.jsxs("select",{value:c.reasoning_effort??"",onChange:B=>d({...c,reasoning_effort:B.target.value?B.target.value:void 0}),className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[o.jsx("option",{value:"",children:"Auto (default)"}),o.jsx("option",{value:"minimal",children:"Minimal"}),o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Constrains reasoning effort (faster/cheaper vs thorough)"})]})]})]})]})]}),c.enabled&&o.jsxs("div",{className:"flex items-start gap-2 text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[o.jsx(Fs,{className:"h-3.5 w-3.5 flex-shrink-0 mt-0.5"}),o.jsx("div",{className:"space-y-1",children:o.jsxs("p",{children:["Requests route through"," ",o.jsx("span",{className:"font-mono font-semibold",children:_})," ","to OpenAI API. Server must have"," ",o.jsx("span",{className:"font-mono font-semibold",children:"OPENAI_API_KEY"})," ","configured."]})})]})]}),a==="about"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"DevUI is a sample app for getting started with Agent Framework."}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Version:"}),o.jsx("span",{className:"font-mono",children:y||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Runtime:"}),o.jsx("span",{className:"font-mono capitalize",children:x||"Unknown"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"UI Mode:"}),o.jsx("span",{className:"font-mono capitalize",children:b||"Unknown"})]})]}),(g||h!==void 0)&&o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Capabilities"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[g?.instrumentation!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Instrumentation:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.instrumentation?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.instrumentation?"Enabled":"Disabled"})]}),g?.openai_proxy!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"OpenAI Proxy:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.openai_proxy?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.openai_proxy?"Available":"Not Configured"})]}),g?.deployment!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Deployment:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${g.deployment?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:g.deployment?"Available":"Disabled"})]}),h!==void 0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-muted-foreground",children:"Authentication:"}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"bg-muted text-muted-foreground"}`,children:h?"Required":"Not Required"})]})]})]}),o.jsx("div",{className:"flex justify-center pt-2",children:o.jsxs(Le,{variant:"outline",size:"sm",onClick:()=>window.open("https://github.com/microsoft/agent-framework","_blank"),className:"text-xs",children:[o.jsx(Vu,{className:"h-3 w-3 mr-1"}),"Learn More about Agent Framework"]})})]})]})]})})}const VR="modulepreload",qR=function(e,n){return new URL(e,n).href},db={},Cu=function(n,r,a){let l=Promise.resolve();if(r&&r.length>0){let h=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const d=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");l=h(r.map(g=>{if(g=qR(g,a),g in db)return;db[g]=!0;const y=g.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(a)for(let j=d.length-1;j>=0;j--){const N=d[j];if(N.href===g&&(!y||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${x}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":VR,y||(b.as="script"),b.crossOrigin="",b.href=g,m&&b.setAttribute("nonce",m),document.head.appendChild(b),y)return new Promise((j,N)=>{b.addEventListener("load",j),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return n().catch(c)})},x2="devui_streaming_state_",y2=1440*60*1e3;function Zu(e){return`${x2}${e}`}function FR(e){let n="";for(const r of e)r.type==="response.output_text.delta"&&"delta"in r&&(n+=r.delta);return n}function v2(e){try{const n=Zu(e.conversationId),r=JSON.stringify(e);localStorage.setItem(n,r)}catch(n){console.error("Failed to save streaming state:",n);try{b2();const r=Zu(e.conversationId),a=JSON.stringify(e);localStorage.setItem(r,a)}catch{console.error("Failed to save streaming state even after cleanup")}}}function Na(e){try{const n=Zu(e),r=localStorage.getItem(n);if(!r)return null;const a=JSON.parse(r);return Date.now()-a.timestamp>y2?(ku(e),null):a.completed?null:a}catch(n){return console.error("Failed to load streaming state:",n),null}}function Ah(e,n,r,a){try{const l=Na(e),c="sequence_number"in n?n.sequence_number:void 0,d=l?[...l.events,n]:[n],f={conversationId:e,responseId:r,lastMessageId:a,lastSequenceNumber:c??l?.lastSequenceNumber??-1,events:d,timestamp:Date.now(),completed:n.type==="response.completed"||n.type==="response.failed",accumulatedText:FR(d)};v2(f)}catch(l){console.error("Failed to update streaming state:",l)}}function Mh(e){try{const n=Na(e);n&&(n.completed=!0,n.timestamp=Date.now(),v2(n))}catch(n){console.error("Failed to mark streaming as completed:",n)}}function ku(e){try{const n=Zu(e);localStorage.removeItem(n)}catch(n){console.error("Failed to clear streaming state:",n)}}function b2(){try{const e=Object.keys(localStorage),n=Date.now();for(const r of e)if(r.startsWith(x2))try{const a=localStorage.getItem(r);if(a){const l=JSON.parse(a);(n-l.timestamp>y2||l.completed)&&localStorage.removeItem(r)}}catch{localStorage.removeItem(r)}}catch(e){console.error("Failed to clear expired streaming states:",e)}}function YR(){b2()}function w2(){const[e,n]=w.useState(!1),r=w.useRef(null),a=w.useCallback(()=>(r.current=new AbortController,n(!1),r.current.signal),[]),l=w.useCallback(()=>{r.current&&(n(!0),r.current.abort(),r.current=null)},[]),c=w.useCallback(()=>{n(!1)},[]),d=w.useCallback(()=>{r.current&&(r.current.abort(),r.current=null)},[]);return{isCancelling:e,createAbortSignal:a,handleCancel:l,resetCancelling:c,cleanup:d}}function Wu(e){return e instanceof DOMException&&e.name==="AbortError"}function GR(e={}){const{onDrop:n,disabled:r=!1}=e,[a,l]=w.useState(!1),[c,d]=w.useState([]),f=w.useRef(0),m=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current++,b.dataTransfer.items&&b.dataTransfer.items.length>0&&l(!0))},[r]),h=w.useCallback(b=>{b.preventDefault(),b.stopPropagation(),!r&&(f.current--,f.current===0&&l(!1))},[r]),g=w.useCallback(b=>{b.preventDefault(),b.stopPropagation()},[]),y=w.useCallback(b=>{if(b.preventDefault(),b.stopPropagation(),l(!1),f.current=0,r)return;const j=Array.from(b.dataTransfer.files);j.length>0&&(d(j),n?.(j))},[r,n]),x=w.useCallback(()=>{d([])},[]);return{isDragOver:a,droppedFiles:c,clearDroppedFiles:x,dragHandlers:{onDragEnter:m,onDragLeave:h,onDragOver:g,onDrop:y}}}const XR="",ZR=1e3,Rh=10;function WR(){const e=localStorage.getItem("devui_backend_url");return e||XR}function KR(e){return new Promise(n=>setTimeout(n,e))}class QR{baseUrl;authToken=null;constructor(n){this.baseUrl=n||WR(),this.authToken=localStorage.getItem("devui_auth_token")}setBaseUrl(n){this.baseUrl=n}getBaseUrl(){return this.baseUrl}setAuthToken(n){this.authToken=n,n?localStorage.setItem("devui_auth_token",n):localStorage.removeItem("devui_auth_token")}getAuthToken(){return this.authToken}clearAuthToken(){this.setAuthToken(null)}async request(n,r={}){const a=`${this.baseUrl}${n}`,l={"Content-Type":"application/json",...r.headers};this.authToken&&(l.Authorization=`Bearer ${this.authToken}`);const c=await fetch(a,{...r,headers:l});if(!c.ok){if(c.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");let d=`API request failed: ${c.status} ${c.statusText}`;try{const f=await c.json();f.detail?typeof f.detail=="string"?d=f.detail:typeof f.detail=="object"&&f.detail.error?.message&&(d=f.detail.error.message):f.error?.message&&(d=f.error.message)}catch{}throw new Error(d)}return c.json()}async getHealth(){return this.request("/health")}async getMeta(){return this.request("/meta")}async getEntities(){const r=(await this.request("/v1/entities")).entities.map(c=>{if(c.type==="agent")return{id:c.id,name:c.name,description:c.description,type:"agent",source:c.source||"directory",tools:(c.tools||[]).map(d=>typeof d=="string"?d:JSON.stringify(d)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,instructions:c.instructions,model_id:c.model_id,chat_client_type:c.chat_client_type,context_providers:c.context_providers,middleware:c.middleware};{const d=c.executors||c.tools||[];let f=c.start_executor_id||"";if(!f&&d.length>0){const m=d[0];typeof m=="string"&&(f=m)}return{id:c.id,name:c.name,description:c.description,type:"workflow",source:c.source||"directory",executors:d.map(m=>typeof m=="string"?m:JSON.stringify(m)),has_env:!!(c.required_env_vars&&c.required_env_vars.length>0),module_path:typeof c.metadata?.module_path=="string"?c.metadata.module_path:void 0,required_env_vars:c.required_env_vars,metadata:c.metadata,deployment_supported:c.deployment_supported,deployment_reason:c.deployment_reason,input_schema:c.input_schema||{type:"string"},input_type_name:c.input_type_name||"Input",start_executor_id:f,tools:[]}}}),a=r.filter(c=>c.type==="agent"),l=r.filter(c=>c.type==="workflow");return{entities:r,agents:a,workflows:l}}async getAgents(){const{agents:n}=await this.getEntities();return n}async getWorkflows(){const{workflows:n}=await this.getEntities();return n}async getAgentInfo(n){return this.request(`/v1/entities/${n}/info?type=agent`)}async getWorkflowInfo(n){return this.request(`/v1/entities/${n}/info?type=workflow`)}async reloadEntity(n){return this.request(`/v1/entities/${n}/reload`,{method:"POST"})}async createConversation(n){const{oaiMode:r}=await Cu(()=>Promise.resolve().then(()=>ju),void 0,import.meta.url).then(c=>({oaiMode:c.useDevUIStore.getState().oaiMode})),a={};r.enabled&&(a["X-Proxy-Backend"]="openai");const l=await this.request("/v1/conversations",{method:"POST",headers:a,body:JSON.stringify({metadata:n})});return{id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata}}async listConversations(n){const r=n?`/v1/conversations?agent_id=${encodeURIComponent(n)}`:"/v1/conversations",a=await this.request(r);return{data:a.data.map(l=>({id:l.id,object:"conversation",created_at:l.created_at,metadata:l.metadata})),has_more:a.has_more}}async getConversation(n){const r=await this.request(`/v1/conversations/${n}`);return{id:r.id,object:"conversation",created_at:r.created_at,metadata:r.metadata}}async deleteConversation(n){try{return await this.request(`/v1/conversations/${n}`,{method:"DELETE"}),ku(n),!0}catch{return!1}}async listConversationItems(n,r){const a=new URLSearchParams;r?.limit&&a.set("limit",r.limit.toString()),r?.after&&a.set("after",r.after),r?.order&&a.set("order",r.order);const l=a.toString(),c=`/v1/conversations/${n}/items${l?`?${l}`:""}`;return this.request(c)}async getConversationItem(n,r){const a=`/v1/conversations/${n}/items/${r}`;return this.request(a)}async deleteConversationItem(n,r){const a=await fetch(`${this.baseUrl}/v1/conversations/${n}/items/${r}`,{method:"DELETE"});if(!a.ok)throw new Error(`Failed to delete item: ${a.statusText}`)}async*streamOpenAIResponse(n,r,a,l){const{oaiMode:c}=await Cu(()=>Promise.resolve().then(()=>ju),void 0,import.meta.url).then(y=>({oaiMode:y.useDevUIStore.getState().oaiMode}));c.enabled&&(n.model=c.model,c.temperature!==void 0&&(n.temperature=c.temperature),c.max_output_tokens!==void 0&&(n.max_output_tokens=c.max_output_tokens),c.top_p!==void 0&&(n.top_p=c.top_p),c.instructions!==void 0&&(n.instructions=c.instructions),c.reasoning_effort!==void 0&&(n.reasoning={effort:c.reasoning_effort}));let d=-1,f=0,m=!1,h=l,g;if(r){const y=Na(r);if(y)if(l||(h=y.responseId),d=y.lastSequenceNumber,g=y.lastMessageId,l)m=y.events.length>0;else for(const x of y.events)m=!0,yield x}for(;f<=Rh;)try{let y;if(h){const N=new URLSearchParams;N.set("stream","true"),d>=0&&N.set("starting_after",d.toString());const S=`${this.baseUrl}/v1/responses/${h}?${N.toString()}`,_={Accept:"text/event-stream"};this.authToken&&(_.Authorization=`Bearer ${this.authToken}`),y=await fetch(S,{method:"GET",headers:_,signal:a})}else{const N=`${this.baseUrl}/v1/responses`,S={"Content-Type":"application/json",Accept:"text/event-stream"};c.enabled&&(S["X-Proxy-Backend"]="openai"),this.authToken&&(S.Authorization=`Bearer ${this.authToken}`),y=await fetch(N,{method:"POST",headers:S,body:JSON.stringify(n),signal:a})}if(!y.ok){if(y.status===401)throw this.clearAuthToken(),new Error("UNAUTHORIZED");if(y.status>=400&&y.status<500){let S=`Client error ${y.status}`;try{const _=await y.json();_.error&&_.error.message?S=_.error.message:_.detail&&(S=_.detail)}catch{}throw new Error(`CLIENT_ERROR: ${S}`)}let N=`Request failed with status ${y.status}`;try{const S=await y.json();S.error&&S.error.message?N=S.error.message:S.detail&&(N=S.detail)}catch{}throw new Error(N)}const x=y.body?.getReader();if(!x)throw new Error("Response body is not readable");const b=new TextDecoder;let j="";try{for(;;){if(a?.aborted)throw new DOMException("Request aborted","AbortError");const{done:N,value:S}=await x.read();if(N){r&&Mh(r);return}const _=b.decode(S,{stream:!0});j+=_;const A=j.split(`
`);j=A.pop()||"";for(const E of A)if(E.startsWith("data: ")){const M=E.slice(6);if(M==="[DONE]"){r&&Mh(r);return}try{const R=JSON.parse(M);if("response"in R&&R.response&&typeof R.response=="object"&&"id"in R.response){const O=R.response.id;(!h||h!==O)&&(h=O)}else if("id"in R&&typeof R.id=="string"&&R.id.startsWith("resp_")){const O=R.id;(!h||h!==O)&&(h=O)}"item_id"in R&&R.item_id&&(g=R.item_id);const D="sequence_number"in R?R.sequence_number:void 0;if(D!==void 0)if(m&&D<=1&&d>1)r&&ku(r),yield{type:"error",message:"Connection lost - previous response failed. Starting new response."},d=D,m=!0,r&&h&&Ah(r,R,h,g),yield R;else{if(D<=d)continue;d=D,m=!0,r&&h&&Ah(r,R,h,g),yield R}else m=!0,r&&h&&Ah(r,R,h,g),yield R}catch(R){console.error("Failed to parse OpenAI SSE event:",R)}}}}finally{x.releaseLock()}}catch(y){const x=y instanceof Error?y.message:String(y);if(Wu(y))throw r&&Mh(r),y;if(x==="UNAUTHORIZED"||x.startsWith("CLIENT_ERROR:"))throw y;if(f++,f>Rh)throw new Error(`Connection failed after ${Rh} retry attempts: ${x}`);const b=Math.min(ZR*Math.pow(2,f-1),3e4);await KR(b)}}async*streamAgentExecutionOpenAI(n,r,a,l){const c={metadata:{entity_id:n},input:r.input,stream:!0,conversation:r.conversation_id};return yield*this.streamAgentExecutionOpenAIDirect(n,c,r.conversation_id,a,l)}async*streamAgentExecutionOpenAIDirect(n,r,a,l,c){yield*this.streamOpenAIResponse(r,a,l,c)}async*streamWorkflowExecutionOpenAI(n,r,a){const l={metadata:{entity_id:n},input:JSON.stringify(r.input_data||{}),stream:!0,conversation:r.conversation_id,extra_body:r.checkpoint_id?{entity_id:n,checkpoint_id:r.checkpoint_id}:void 0};yield*this.streamOpenAIResponse(l,r.conversation_id,a)}async runAgentSync(n,r){const{oaiMode:a}=await Cu(()=>Promise.resolve().then(()=>ju),void 0,import.meta.url).then(d=>({oaiMode:d.useDevUIStore.getState().oaiMode})),l={metadata:{entity_id:n},input:r.input,stream:!1,conversation:r.conversation_id};a.enabled&&(l.model=a.model,a.temperature!==void 0&&(l.temperature=a.temperature),a.max_output_tokens!==void 0&&(l.max_output_tokens=a.max_output_tokens));const c={};return a.enabled&&(c["X-Proxy-Backend"]="openai"),this.request("/v1/responses",{method:"POST",headers:c,body:JSON.stringify(l)})}async runWorkflowSync(n,r){const a={metadata:{entity_id:n},input:JSON.stringify(r.input_data||{}),stream:!1,conversation:r.conversation_id,extra_body:r.checkpoint_id?{entity_id:n,checkpoint_id:r.checkpoint_id}:void 0};return this.request("/v1/responses",{method:"POST",body:JSON.stringify(a)})}clearStreamingState(n){ku(n)}async*streamDeployment(n){const r=await fetch(`${this.baseUrl}/v1/deployments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,stream:!0})});if(!r.ok)throw new Error(`Deployment failed: ${r.statusText}`);const a=r.body?.getReader();if(!a)throw new Error("No response body");const l=new TextDecoder;let c="";try{for(;;){const{done:d,value:f}=await a.read();if(d)break;c+=l.decode(f,{stream:!0});const m=c.split(`
`);c=m.pop()||"";for(const h of m)if(h.startsWith("data: ")){const g=h.slice(6);if(g==="[DONE]")return;try{yield JSON.parse(g)}catch(y){yield{type:"deploy.error",message:`Failed to parse deployment event: ${y instanceof Error?y.message:"Unknown error"}`}}}}}catch(d){throw yield{type:"deploy.failed",message:`Stream interrupted: ${d instanceof Error?d.message:"Unknown error"}`},d}finally{a.releaseLock()}}async listWorkflowSessions(n){const r=`/v1/conversations?entity_id=${encodeURIComponent(n)}&type=workflow_session`;return{data:(await this.request(r)).data.map(c=>({conversation_id:c.id,entity_id:c.metadata?.entity_id||n,created_at:c.created_at,metadata:{name:c.metadata?.name||`Session ${new Date(c.created_at*1e3).toLocaleString()}`,description:c.metadata?.description,type:"workflow_session",checkpoint_summary:c.metadata?.checkpoint_summary}}))}}async createWorkflowSession(n,r){const a={entity_id:n,type:"workflow_session",name:r?.name||`Session ${new Date().toLocaleString()}`,...r?.description&&{description:r.description}},l=await this.createConversation(a);return{conversation_id:l.id,entity_id:n,created_at:l.created_at,metadata:{name:a.name,description:a.description,type:"workflow_session"}}}async deleteWorkflowSession(n,r){if(!await this.deleteConversation(r))throw new Error("Failed to delete workflow session")}}const Ze=new QR;function JR({open:e,onClose:n,agentName:r="Agent",entity:a}){const c=le(C=>C.azureDeploymentEnabled)&&(a?.deployment_supported??!1),[d,f]=w.useState(c?"azure":"docker"),[m,h]=w.useState(null),g=w.useRef(null),y=w.useRef(null),x=le(C=>C.isDeploying),b=le(C=>C.deploymentLogs),j=le(C=>C.lastDeployment),N=le(C=>C.startDeployment),S=le(C=>C.addDeploymentLog),_=le(C=>C.setDeploymentResult),A=le(C=>C.stopDeployment),E=le(C=>C.clearDeploymentState),M=C=>{const H=C.toLowerCase().replace(/[_\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/--+/g,"-").replace(/^[^a-z]+/,"").replace(/-$/,"");return(H.match(/^[a-z]/)?H:`app-${H}`).substring(0,31)},R=a?M(a.id):"",[D,O]=w.useState("my-test-rg"),[P,q]=w.useState(R),[Z,Q]=w.useState("eastus"),[G,ne]=w.useState(null);w.useEffect(()=>{if(a){const C=M(a.id);q(C);const H=U(C);ne(H)}},[a?.id]),w.useEffect(()=>{y.current&&b.length>0&&(y.current.scrollTop=y.current.scrollHeight)},[b]);const U=C=>C?C.length>=32?"App name must be less than 32 characters":/^[a-z0-9-]+$/.test(C)?/^[a-z]/.test(C)?/[a-z0-9]$/.test(C)?C.includes("--")?"App name cannot contain consecutive hyphens (--)":null:"App name must end with a letter or number":"App name must start with a lowercase letter":"App name must contain only lowercase letters, numbers, and hyphens (no underscores or uppercase)":null;w.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const B=async()=>{if(!a?.id||!D||!P)return;const C=D.trim(),H=P.trim(),Y=U(H);if(Y){ne(Y);return}try{N();for await(const V of Ze.streamDeployment({entity_id:a.id,resource_group:C,app_name:H,region:Z,ui_mode:"user"}))S(V.message),V.type==="deploy.completed"&&V.url&&V.auth_token?_({url:V.url,authToken:V.auth_token}):V.type==="deploy.failed"&&A()}catch(V){S(`Error: ${V instanceof Error?V.message:"Deployment failed"}`),A()}},k=async(C,H)=>{try{await navigator.clipboard.writeText(C),h(H),g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(null),g.current=null},2e3)}catch{h(null)}},L=`# Dockerfile for ${r}
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy agent/workflow directories
COPY . .

# Expose DevUI default port
EXPOSE 8080

# Run DevUI server
CMD ["devui", ".", "--port", "8080", "--host", "0.0.0.0"]
`,I=`# docker-compose.yml
version: '3.8'

services:
  ${r.toLowerCase().replace(/\s+/g,"-")}:
    build: .
    environment:
      # OpenAI
      - OPENAI_API_KEY=\${OPENAI_API_KEY}
      - OPENAI_CHAT_MODEL_ID=\${OPENAI_CHAT_MODEL_ID:-gpt-4o-mini}
      # Or Azure OpenAI
      - AZURE_OPENAI_API_KEY=\${AZURE_OPENAI_API_KEY}
      - AZURE_OPENAI_ENDPOINT=\${AZURE_OPENAI_ENDPOINT}
      - AZURE_OPENAI_CHAT_DEPLOYMENT_NAME=\${AZURE_OPENAI_CHAT_DEPLOYMENT_NAME}
      # Optional: Enable instrumentation
      - ENABLE_INSTRUMENTATION=\${ENABLE_INSTRUMENTATION:-false}
    ports:
      - "8080:8080"
    restart: unless-stopped
`,$=`# requirements.txt
agent-framework-devui>=0.1.0
agent-framework>=0.1.0
# Chat clients (install what you need)
openai>=1.0.0
# azure-openai
# anthropic
`;return o.jsx($r,{open:e,onOpenChange:n,children:o.jsxs(Hr,{className:"w-[800px] max-w-[90vw]",children:[o.jsx(Eo,{onClose:n}),o.jsxs(Pr,{className:"p-6 pb-2",children:[o.jsxs(Br,{className:"flex items-center gap-2",children:[o.jsx(ap,{className:"h-5 w-5"}),"Deploy ",r]}),o.jsx("p",{className:"text-sm text-muted-foreground pt-1",children:"Get started with containerizing your agent for deployment."})]}),o.jsxs("div",{className:"flex border-b px-6",children:[o.jsxs("button",{onClick:()=>f("docker"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="docker"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(RA,{className:"h-4 w-4 mr-2 inline"}),"Docker",d==="docker"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]}),c&&o.jsxs("button",{onClick:()=>f("azure"),className:`px-4 py-2 text-sm font-medium transition-colors relative ${d==="azure"?"text-foreground":"text-muted-foreground hover:text-foreground"}`,children:[o.jsx(TA,{className:"h-4 w-4 mr-2 inline"}),"Azure",d==="azure"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"})]})]}),o.jsx("div",{className:"px-6 pb-6 min-h-[400px]",children:o.jsx(Kn,{className:"h-[500px]",children:o.jsxs("div",{className:"pr-4",children:[d==="docker"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Containerize with Docker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Package your agent as a Docker container for consistent deployment anywhere."})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Dockerfile"}),o.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>k(L,"dockerfile"),children:m==="dockerfile"?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(fo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:L})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"docker-compose.yml"}),o.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>k(I,"compose"),children:m==="compose"?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(fo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:I})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"requirements.txt"}),o.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>k($,"requirements"),children:m==="requirements"?o.jsxs(o.Fragment,{children:[o.jsx(nn,{className:"h-4 w-4 mr-1 text-green-500"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(fo,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),o.jsx("pre",{className:"bg-muted p-3 rounded-md text-xs overflow-x-auto border",children:$})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Quick Start"}),o.jsxs("ol",{className:"text-xs space-y-1 list-decimal list-inside text-muted-foreground",children:[o.jsx("li",{children:"Save the files above to your project directory"}),o.jsxs("li",{children:["Build:"," ",o.jsxs("code",{className:"bg-muted px-1 rounded",children:["docker build -t ",r.toLowerCase(),"-agent ."]})]}),o.jsxs("li",{children:["Run:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"docker-compose up"})]}),o.jsx("li",{children:"Your agent is now running in a container!"})]})]}),o.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-amber-900 dark:text-amber-100",children:" Production Considerations"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-amber-800 dark:text-amber-200",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"In-memory state:"})," Conversations are lost when container restarts"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"No authentication:"})," Add reverse proxy (nginx, Caddy) with auth for production"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Security:"})," Use Azure Key Vault for secrets management"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Scaling:"})," Single instance only due to in-memory conversation store"]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Pre-Deployment Checklist"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(nn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set environment variables (API keys, secrets)"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(nn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Test agent locally in container"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(nn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Configure logging and monitoring"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(nn,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-muted-foreground",children:"Set up error handling and retries"})]})]})]})]}),d==="azure"&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Deploy to Azure Container Apps"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:c?"One-click deployment to Azure with automatic containerization and authentication.":"Azure Container Apps provides serverless containers with auto-scaling and integrated monitoring."})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-900 dark:text-blue-100",children:"Prerequisites for Azure Deployment"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-blue-800 dark:text-blue-200",children:[o.jsxs("li",{children:["Azure CLI installed and authenticated (",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded",children:"az login"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Azure subscription with the following providers registered:",o.jsxs("ul",{className:"ml-4 mt-1 space-y-0.5",children:[o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.App"})," (Container Apps)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.ContainerRegistry"})," (ACR)"]}),o.jsxs("li",{className:"list-none",children:[" ",o.jsx("code",{className:"bg-blue-100 dark:bg-blue-900 px-1 rounded text-xs",children:"Microsoft.OperationalInsights"})," (Logging)"]})]})]})]}),o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"text-xs cursor-pointer hover:underline text-blue-700 dark:text-blue-300",children:"How to register providers?"}),o.jsxs("div",{className:"mt-2 p-2 bg-blue-100 dark:bg-blue-900 rounded text-xs",children:[o.jsx("p",{className:"mb-1",children:"Run these commands once per subscription:"}),o.jsxs("code",{className:"block font-mono",children:["az provider register -n Microsoft.App --wait",o.jsx("br",{}),"az provider register -n Microsoft.ContainerRegistry --wait",o.jsx("br",{}),"az provider register -n Microsoft.OperationalInsights --wait"]})]})]})]}),c&&a&&!j&&o.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[x?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Ir,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}),o.jsx("div",{ref:y,className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,H)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},H))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Resource Group"}),o.jsx("input",{type:"text",className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",placeholder:"my-test-rg",value:D,onChange:C=>O(C.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"App Name"}),o.jsx("input",{type:"text",className:`w-full mt-1 px-3 py-2 border rounded-md text-sm ${G?"border-red-500":""}`,placeholder:"my-agent-app",value:P,onChange:C=>{const H=C.target.value;q(H);const Y=U(H.trim());ne(Y)}}),G&&o.jsx("p",{className:"mt-1 text-xs text-red-600",children:G})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:"Region"}),o.jsxs("select",{className:"w-full mt-1 px-3 py-2 border rounded-md text-sm",value:Z,onChange:C=>Q(C.target.value),children:[o.jsx("option",{value:"eastus",children:"East US"}),o.jsx("option",{value:"westus",children:"West US"}),o.jsx("option",{value:"westeurope",children:"West Europe"}),o.jsx("option",{value:"eastasia",children:"East Asia"})]})]})]}),o.jsxs(Le,{onClick:B,disabled:!D||!P||!!G,className:"w-full",children:[o.jsx(ap,{className:"h-4 w-4 mr-2"}),"Deploy to Azure"]})]}),!x&&b.length>0&&!j&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-600",children:[o.jsx(hs,{className:"h-4 w-4"}),"Deployment Failed"]}),o.jsx("div",{className:"bg-muted p-3 rounded-md text-xs font-mono max-h-60 overflow-y-auto space-y-1",children:b.map((C,H)=>o.jsx("div",{className:C.includes("failed")||C.includes("Error")?"text-red-600":"",children:C},H))}),o.jsx(Le,{onClick:E,variant:"outline",className:"w-full",children:"Try Again"})]})]}),j&&o.jsxs("div",{className:"border-2 border-green-200 bg-green-50 dark:bg-green-950/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-5 w-5 text-green-600"}),o.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100",children:"Deployment Successful!"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Deployment URL"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm",children:j.url}),o.jsx(Le,{size:"sm",variant:"outline",onClick:()=>window.open(j.url,"_blank"),children:o.jsx(Vu,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs font-medium text-green-800 dark:text-green-200",children:"Auth Token (save this - shown only once)"}),o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx("code",{className:"flex-1 bg-white dark:bg-gray-900 px-3 py-2 rounded border text-sm font-mono",children:j.authToken}),o.jsx(Le,{size:"sm",variant:"outline",onClick:()=>navigator.clipboard.writeText(j.authToken),children:o.jsx(fo,{className:"h-4 w-4"})})]})]})]}),o.jsx(Le,{onClick:E,variant:"outline",className:"w-full",children:"Deploy Another"})]}),!c&&a?.deployment_reason&&o.jsx("div",{className:"bg-amber-50 dark:bg-amber-950/50 border border-amber-200 dark:border-amber-800 rounded-md p-3",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(hs,{className:"h-4 w-4 mt-0.5 text-amber-600 flex-shrink-0"}),o.jsxs("div",{className:"text-sm text-amber-800 dark:text-amber-200",children:[o.jsx("strong",{children:"Deployment not available:"})," ",a.deployment_reason]})]})}),!c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Prerequisites"}),o.jsxs("ul",{className:"text-xs space-y-1 list-disc list-inside text-muted-foreground",children:[o.jsx("li",{children:"Azure subscription"}),o.jsxs("li",{children:["Azure CLI installed (",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az --version"}),")"]}),o.jsx("li",{children:"Docker installed and running"}),o.jsxs("li",{children:["Logged in to Azure:"," ",o.jsx("code",{className:"bg-muted px-1 rounded",children:"az login"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Deployment Steps"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"1"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Azure Container Registry"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Create resource group
az group create --name myResourceGroup --location eastus

# Create container registry
az acr create --resource-group myResourceGroup \\
  --name myregistry --sku Basic`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"2"}),o.jsx("h5",{className:"font-medium text-sm",children:"Build and Push Docker Image"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`# Build and push in one command
az acr build --registry myregistry \\
  --image ${r.toLowerCase()}-agent:latest .`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"3"}),o.jsx("h5",{className:"font-medium text-sm",children:"Create Container Apps Environment"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp env create --name myEnvironment \\
  --resource-group myResourceGroup \\
  --location eastus`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"4"}),o.jsx("h5",{className:"font-medium text-sm",children:"Deploy Container App"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp create --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --environment myEnvironment \\
  --image myregistry.azurecr.io/${r.toLowerCase()}-agent:latest \\
  --target-port 8080 \\
  --ingress 'external' \\
  --registry-server myregistry.azurecr.io \\
  --env-vars OPENAI_API_KEY=secretref:openai-key OPENAI_CHAT_MODEL_ID=gpt-4o-mini`})]}),o.jsxs("div",{className:"border-l-2 border-primary pl-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-5 h-5 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold",children:"5"}),o.jsx("h5",{className:"font-medium text-sm",children:"Get Application URL"})]}),o.jsx("pre",{className:"bg-muted p-2 rounded text-xs overflow-x-auto border mt-2",children:`az containerapp show --name ${r.toLowerCase()}-app \\
  --resource-group myResourceGroup \\
  --query properties.configuration.ingress.fqdn`})]})]})]}),o.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:[o.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Learn More"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Explore Azure Container Apps documentation for advanced features like scaling, monitoring, and CI/CD integration."}),o.jsx(Le,{size:"sm",variant:"outline",className:"w-full",asChild:!0,children:o.jsxs("a",{href:"https://learn.microsoft.com/azure/container-apps/",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Vu,{className:"h-3 w-3 mr-1"}),"View Azure Container Apps Documentation"]})})]})]})]})]})})})]})})}function eD({className:e,...n}){return o.jsx("div",{"data-slot":"card",className:We("bg-card text-card-foreground flex flex-col gap-6 rounded border py-6 shadow-sm",e),...n})}function tD({className:e,...n}){return o.jsx("div",{"data-slot":"card-header",className:We("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...n})}function N2({className:e,...n}){return o.jsx("div",{"data-slot":"card-title",className:We("leading-none font-semibold",e),...n})}function nD({className:e,...n}){return o.jsx("div",{"data-slot":"card-description",className:We("text-muted-foreground text-sm",e),...n})}function sD({className:e,...n}){return o.jsx("div",{"data-slot":"card-content",className:We("px-6",e),...n})}function rD({className:e,...n}){return o.jsx("div",{"data-slot":"card-footer",className:We("flex items-center px-6 [.border-t]:pt-6",e),...n})}const Tr=[{id:"foundry-weather-agent",name:"Azure AI Weather Agent",description:"Weather agent using Azure AI Agent (Foundry) with Azure CLI authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/foundry_agent/agent.py",tags:["azure-ai","foundry","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure AI Agent integration","Azure CLI authentication","Mock weather tools"],requiredEnvVars:[{name:"AZURE_AI_PROJECT_ENDPOINT",description:"Azure AI Foundry project endpoint URL",required:!0,example:"https://your-project.api.azureml.ms"},{name:"FOUNDRY_MODEL_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure AI Foundry",required:!0,example:"gpt-4o"}]},{id:"weather-agent-azure",name:"Azure OpenAI Weather Agent",description:"Weather agent using Azure OpenAI with API key authentication",type:"agent",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/weather_agent_azure/agent.py",tags:["azure","openai","tools"],author:"Microsoft",difficulty:"beginner",features:["Azure OpenAI integration","API key authentication","Function calling","Mock weather tools"],requiredEnvVars:[{name:"AZURE_OPENAI_API_KEY",description:"Azure OpenAI API key",required:!0},{name:"AZURE_OPENAI_CHAT_DEPLOYMENT_NAME",description:"Name of the deployed model in Azure OpenAI",required:!0,example:"gpt-4o"},{name:"AZURE_OPENAI_ENDPOINT",description:"Azure OpenAI endpoint URL",required:!0,example:"https://your-resource.openai.azure.com"}]},{id:"spam-workflow",name:"Spam Detection Workflow",description:"5-step workflow demonstrating email spam detection with branching logic",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/spam_workflow/workflow.py",tags:["workflow","branching","multi-step"],author:"Microsoft",difficulty:"beginner",features:["Sequential execution","Conditional branching","Mock spam detection"]},{id:"fanout-workflow",name:"Complex Fan-In/Fan-Out Workflow",description:"Advanced data processing workflow with parallel validation, transformation, and quality assurance stages",type:"workflow",url:"https://raw.githubusercontent.com/microsoft/agent-framework/main/python/samples/getting_started/devui/fanout_workflow/workflow.py",tags:["workflow","fan-out","fan-in","parallel"],author:"Microsoft",difficulty:"advanced",features:["Fan-out pattern","Parallel execution","Complex state management","Multi-stage processing"]}];Tr.filter(e=>e.type==="agent"),Tr.filter(e=>e.type==="workflow"),Tr.filter(e=>e.difficulty==="beginner"),Tr.filter(e=>e.difficulty==="intermediate"),Tr.filter(e=>e.difficulty==="advanced");const oD=e=>{switch(e){case"beginner":return"bg-green-100 text-green-700 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"advanced":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},j2=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:We("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",e),...n}));j2.displayName="Alert";const S2=w.forwardRef(({className:e,...n},r)=>o.jsx("h5",{ref:r,className:We("mb-1 font-medium leading-none tracking-tight",e),...n}));S2.displayName="AlertTitle";const _2=w.forwardRef(({className:e,...n},r)=>o.jsx("div",{ref:r,className:We("text-sm [&_p]:leading-relaxed",e),...n}));_2.displayName="AlertDescription";function E2({children:e,copyable:n=!1}){const[r,a]=w.useState(!1),l=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)};return o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-muted p-3 rounded-md text-sm overflow-x-auto font-mono",children:o.jsx("code",{children:e})}),n&&o.jsx(Le,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-6 w-6 p-0",onClick:l,children:r?o.jsx(_o,{className:"h-3 w-3"}):o.jsx(fo,{className:"h-3 w-3"})})]})}function cu({number:e,title:n,description:r,code:a,action:l,copyable:c=!1}){return o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold",children:e})}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("h4",{className:"font-semibold",children:n}),r&&o.jsx("p",{className:"text-sm text-muted-foreground",children:r}),a&&o.jsx(E2,{copyable:c,children:a}),l&&o.jsx("div",{children:l})]})]})}function aD({sample:e,open:n,onOpenChange:r}){const a=e.requiredEnvVars&&e.requiredEnvVars.length>0,l=a?0:-1;return o.jsx($r,{open:n,onOpenChange:r,children:o.jsxs(Hr,{className:"max-w-3xl",children:[o.jsxs(Pr,{className:"px-6 pt-6 pb-2",children:[o.jsxs(Br,{children:["Setup: ",e.name]}),o.jsxs(DR,{children:["Follow these steps to run this sample ",e.type," locally"]})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsx(Kn,{className:"h-[500px]",children:o.jsxs("div",{className:"space-y-6 pr-4",children:[o.jsx(cu,{number:1,title:"Download the sample file",action:o.jsx(Le,{asChild:!0,size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Download ",e.id,".py"]})})}),o.jsx(cu,{number:2,title:"Create a project folder",description:"Create a dedicated folder for this sample and move the downloaded file there:",code:`mkdir -p ~/my-agents/${e.id}
mv ~/Downloads/${e.id}.py ~/my-agents/${e.id}/`,copyable:!0}),a&&o.jsx(cu,{number:3,title:"Set up environment variables",description:"Create a .env file in the project folder with these required variables:",code:e.requiredEnvVars.map(c=>`${c.name}=${c.example||"your-value-here"}
# ${c.description}`).join(`

`),copyable:!0}),o.jsx(cu,{number:4+l,title:"Run with DevUI",description:"Navigate to the folder and start DevUI:",code:`cd ~/my-agents/${e.id}
devui .`,copyable:!0}),o.jsxs(j2,{children:[o.jsx(eM,{className:"h-4 w-4"}),o.jsx(S2,{children:"Alternative: Run Programmatically"}),o.jsxs(_2,{className:"mt-2",children:[o.jsxs("p",{className:"mb-2",children:["You can also run the ",e.type," directly in Python:"]}),o.jsx(E2,{copyable:!0,children:`from ${e.id} import ${e.type}
import asyncio

async def main():
    response = await ${e.type}.run("Hello!")
    print(response)

asyncio.run(main())`})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[o.jsx(Le,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Vu,{className:"h-4 w-4 mr-2"}),"View Source"]})}),o.jsx(Le,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs("a",{href:"https://github.com/microsoft/agent-framework#readme",target:"_blank",rel:"noopener noreferrer",children:[o.jsx(sN,{className:"h-4 w-4 mr-2"}),"Documentation"]})})]})]})})})]})})}function iD({sample:e}){const[n,r]=w.useState(!1),a=e.type==="workflow"?Bs:Vs;return o.jsxs(o.Fragment,{children:[o.jsxs(eD,{className:"hover:shadow-md transition-shadow duration-200 h-full flex flex-col overflow-hidden w-full",children:[o.jsxs(tD,{className:"pb-3 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(a,{className:"h-5 w-5"}),o.jsx(ut,{variant:"secondary",className:"text-xs",children:e.type})]}),o.jsx(ut,{variant:"outline",className:We("text-xs border",oD(e.difficulty)),children:e.difficulty})]}),o.jsx(N2,{className:"text-lg leading-tight",children:e.name}),o.jsx(nD,{className:"text-sm line-clamp-3",children:e.description})]}),o.jsx(sD,{className:"pt-0 flex-1 min-w-0 overflow-hidden",children:o.jsxs("div",{className:"space-y-3 min-w-0",children:[o.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(l=>o.jsx(ut,{variant:"outline",className:"text-xs",children:l},l)),e.tags.length>3&&o.jsxs(ut,{variant:"outline",className:"text-xs",children:["+",e.tags.length-3]})]}),e.requiredEnvVars&&e.requiredEnvVars.length>0&&o.jsxs("details",{className:"group min-w-0 max-w-full overflow-hidden",children:[o.jsxs("summary",{className:"cursor-pointer list-none p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md hover:bg-amber-100 dark:hover:bg-amber-950/30 transition-colors flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx(WA,{className:"h-3.5 w-3.5 text-amber-600 dark:text-amber-500 flex-shrink-0"}),o.jsxs("span",{className:"text-xs font-medium text-amber-900 dark:text-amber-100 truncate",children:["Requires ",e.requiredEnvVars.length," env var",e.requiredEnvVars.length>1?"s":""]})]}),o.jsx(Et,{className:"h-3 w-3 text-amber-600 dark:text-amber-500 flex-shrink-0 group-open:rotate-180 transition-transform"})]}),o.jsx("div",{className:"mt-2 p-2 bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-md space-y-2 min-w-0 max-w-full overflow-hidden",children:e.requiredEnvVars.map(l=>o.jsxs("div",{className:"text-xs min-w-0 max-w-full overflow-hidden",children:[o.jsx("div",{className:"font-mono font-medium text-amber-900 dark:text-amber-100 break-words",children:l.name}),o.jsx("div",{className:"text-amber-700 dark:text-amber-300 mt-0.5 break-words",children:l.description}),l.example&&o.jsx("div",{className:"font-mono text-amber-600 dark:text-amber-400 mt-0.5 break-all",children:l.example})]},l.name))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Key Features:"}),o.jsx("ul",{className:"text-xs space-y-1",children:e.features.slice(0,3).map(l=>o.jsxs("li",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50"}),o.jsx("span",{children:l})]},l))})]})]})}),o.jsxs(rD,{className:"pt-3 flex-col gap-3",children:[o.jsx("div",{className:"w-full flex items-center justify-between text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(cN,{className:"h-3 w-3"}),o.jsx("span",{children:e.author})]})}),o.jsxs("div",{className:"w-full flex gap-2",children:[o.jsx(Le,{asChild:!0,className:"flex-1",size:"sm",children:o.jsxs("a",{href:e.url,download:`${e.id}.py`,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(Uu,{className:"h-4 w-4 mr-2"}),"Download"]})}),o.jsxs(Le,{variant:"outline",className:"flex-1",size:"sm",onClick:()=>r(!0),children:[o.jsx(sN,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})]})]})]}),o.jsx(aD,{sample:e,open:n,onOpenChange:r})]})}function Dh({samples:e}){return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(n=>o.jsx("div",{className:"min-w-0",children:o.jsx(iD,{sample:n})},n.id))})}function fb({onClose:e,variant:n="inline",hasExistingEntities:r=!1}){return n==="inline"?o.jsx("div",{className:"flex-1 overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 p-4 bg-muted/50 border border-border rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(IM,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"No agents or workflows configured yet!"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["You can configure agents or workflows by running"," ",o.jsx("code",{className:"px-1.5 py-0.5 bg-background rounded text-xs",children:"devui"})," ","in a directory containing them."]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse the sample agents and workflows below. Download them, review the code, and run them locally to get started quickly."})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sample Gallery"}),o.jsx(Dh,{samples:Tr})]}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):n==="route"?o.jsx("div",{className:"h-full overflow-auto",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[r&&o.jsx("div",{className:"mb-4",children:o.jsxs(Le,{variant:"ghost",onClick:e,className:"gap-2",children:[o.jsx(uA,{className:"h-4 w-4"}),"Back"]})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Sample Gallery"}),o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Browse sample agents and workflows to learn the Agent Framework. Download these curated examples and run them locally. Examples range from beginner to advanced."})]})]}),o.jsx(Dh,{samples:Tr}),o.jsx("div",{className:"text-center mt-12 pt-8 border-t",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to create your own agents or workflows? Check out the"," ",o.jsx("a",{href:"https://github.com/microsoft/agent-framework",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"documentation"})]})})]})}):o.jsx(Dh,{samples:Tr})}function ho({className:e,...n}){return o.jsx("textarea",{"data-slot":"textarea",className:We("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...n})}function lD({onFilesSelected:e,accept:n="image/*,.pdf,audio/*,.wav,.mp3,.m4a,.ogg",multiple:r=!0,maxSize:a=50*1024*1024,disabled:l=!1,className:c=""}){const d=w.useRef(null),f=x=>{if(!x||x.length===0)return;const b=[],j=[];Array.from(x).forEach(N=>{if(N.size>a){j.push(`${N.name} is too large (max ${cD(a)})`);return}if(n&&!uD(N,n)){j.push(`${N.name} is not an accepted file type`);return}b.push(N)}),j.length>0&&console.warn("File upload errors:",j),b.length>0&&e(b)},m=()=>{d.current&&d.current.click()},h=x=>{f(x.target.files),x.target.value=""},g=x=>{if(x.preventDefault(),x.stopPropagation(),l)return;const b=x.dataTransfer.files;f(b)},y=x=>{x.preventDefault(),x.stopPropagation()};return o.jsxs("div",{className:c,children:[o.jsx("input",{ref:d,type:"file",accept:n,multiple:r,onChange:h,className:"hidden",disabled:l}),o.jsx(Le,{type:"button",variant:"outline",size:"icon",onClick:m,disabled:l,onDrop:g,onDragOver:y,className:"shrink-0 transition-colors hover:bg-muted",title:"Upload files (images, PDFs, audio)",children:o.jsx($M,{className:"h-4 w-4"})})]})}function cD(e){if(e===0)return"0 Bytes";const n=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,a)).toFixed(2))+" "+r[a]}function uD(e,n){return n.split(",").map(a=>a.trim()).some(a=>{if(a.startsWith("."))return e.name.toLowerCase().endsWith(a.toLowerCase());if(a.includes("/*")){const[l]=a.split("/");return e.type.startsWith(l+"/")}else return e.type===a})}function dD({attachments:e,onRemoveAttachment:n,className:r=""}){return e.length===0?null:o.jsx("div",{className:`flex flex-wrap gap-2 p-2 bg-muted rounded-lg ${r}`,children:e.map(a=>o.jsx(fD,{attachment:a,onRemove:()=>n(a.id)},a.id))})}function fD({attachment:e,onRemove:n}){const[r,a]=w.useState(!1),l=()=>{switch(e.type){case"image":return e.preview?o.jsx("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-200",children:o.jsx(GA,{className:"h-6 w-6 text-gray-400"})});case"pdf":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-red-50",children:[o.jsx(qs,{className:"h-6 w-6 text-red-500 mb-1"}),o.jsx("span",{className:"text-xs text-red-600",children:"PDF"})]});case"audio":return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-purple-50",children:[o.jsx(lN,{className:"h-6 w-6 text-purple-500 mb-1"}),o.jsx("span",{className:"text-xs text-purple-600",children:"AUDIO"})]});default:return o.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full bg-gray-100",children:[o.jsx(qs,{className:"h-6 w-6 text-gray-500 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"FILE"})]})}};return o.jsxs("div",{className:"relative w-16 h-16 rounded border overflow-hidden group cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),title:e.file.name,children:[l(),o.jsx("div",{className:`absolute inset-0 bg-black/60 flex items-center justify-center transition-all duration-200 ease-in-out ${r?"opacity-100 backdrop-blur-sm":"opacity-0 pointer-events-none"}`,onClick:n,children:o.jsx("div",{className:`transition-all duration-200 ease-in-out ${r?"scale-100 opacity-100":"scale-75 opacity-0"}`,children:o.jsx(dg,{className:"h-5 w-5 text-white drop-shadow-lg"})})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-75 text-white text-xs p-1 truncate opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.file.name})]})}function jg({onSubmit:e,isSubmitting:n=!1,isStreaming:r=!1,onCancel:a,isCancelling:l=!1,placeholder:c,showFileUpload:d=!0,maxAttachments:f=10,className:m="",disabled:h=!1,entityName:g="assistant",externalFiles:y,onExternalFilesProcessed:x}){const[b,j]=w.useState(""),[N,S]=w.useState([]),[_,A]=w.useState(!1),[E,M]=w.useState(null),R=w.useRef(null);w.useEffect(()=>{y&&y.length>0&&(Z(y),x?.())},[y,x]);const D=1e4,O=I=>I.type.startsWith("image/")?"image":I.type==="application/pdf"?"pdf":I.type.startsWith("audio/")?"audio":"other",P=I=>new Promise(($,C)=>{const H=new FileReader;H.onload=()=>$(H.result),H.onerror=C,H.readAsDataURL(I)}),q=I=>{const $=I.trim(),C=$.split(`
`);if(/^{[\s\S]*}$|^\[[\s\S]*\]$/.test($))return".json";if(/^<\?xml|^<html|^<!DOCTYPE/i.test($))return".html";if(/^```/.test($))return".md";if(/\t/.test(I)&&C.length>1)return".tsv";if(C.length>2){const H=C.filter(V=>V.includes(",")),Y=C.filter(V=>V.includes(";"));if(H.length>C.length*.5&&H.reduce((J,ce)=>J+(ce.match(/,/g)||[]).length,0)/H.length>=2||Y.length>C.length*.5&&Y.reduce((J,ce)=>J+(ce.match(/;/g)||[]).length,0)/Y.length>=2)return".csv"}return".txt"},Z=w.useCallback(async I=>{if(N.length+I.length>f){console.warn(`Cannot add more than ${f} attachments`);return}const $=[];for(const C of I){const H={id:`${Date.now()}-${Math.random()}`,file:C,type:O(C)};if(C.type.startsWith("image/"))try{H.preview=await P(C)}catch(Y){console.error("Failed to generate preview:",Y)}$.push(H)}S(C=>[...C,...$])},[N.length,f]),Q=I=>{S($=>$.filter(C=>C.id!==I))},G=I=>{I.preventDefault(),I.stopPropagation(),A(!0)},ne=I=>{I.preventDefault(),I.stopPropagation(),A(!1)},U=async I=>{I.preventDefault(),I.stopPropagation(),A(!1);const $=Array.from(I.dataTransfer.files);$.length>0&&await Z($)},B=async I=>{const $=Array.from(I.clipboardData.items),C=[];let H=!1;for(const Y of $)if(Y.type.startsWith("image/")){I.preventDefault();const V=Y.getAsFile();if(V){const J=Date.now();C.push(new File([V],`screenshot-${J}.png`,{type:V.type}))}}else Y.type==="text/plain"&&!H&&(H=!0,I.preventDefault(),await new Promise(V=>{Y.getAsString(J=>{const ce=(J.match(/\n/g)||[]).length;if(J.length>D||ce>50||/^\s*[{[][\s\S]*[}\]]\s*$/.test(J)||/^<\?xml|^<html|^<!DOCTYPE/i.test(J)){const ee=q(J),ie=Date.now(),ge=new Blob([J],{type:"text/plain"});C.push(new File([ge],`pasted-text-${ie}${ee}`,{type:"text/plain"}))}else{const ee=R.current;if(ee){const ie=ee.selectionStart,ge=ee.selectionEnd,Ee=ee.value,Ne=Ee.slice(0,ie)+J+Ee.slice(ge);j(Ne),setTimeout(()=>{ee.selectionStart=ee.selectionEnd=ie+J.length,ee.focus()},0)}}V()})}));if(C.length>0){await Z(C);const Y=C.length===1?C[0].name.includes("screenshot")?"Screenshot added as attachment":"Large text converted to file":`${C.length} files added`;M(Y),setTimeout(()=>M(null),3e3)}},k=async I=>{if(I.preventDefault(),!b.trim()&&N.length===0||n||h)return;const $=b.trim(),C=[];$&&C.push({text:$,type:"input_text"});for(const H of N){const Y=await P(H.file);if(H.file.type.startsWith("image/"))C.push({detail:"auto",type:"input_image",image_url:Y});else if(H.file.type==="text/plain"&&(H.file.name.includes("pasted-text-")||H.file.name.endsWith(".txt")||H.file.name.endsWith(".csv")||H.file.name.endsWith(".json")||H.file.name.endsWith(".html")||H.file.name.endsWith(".md")||H.file.name.endsWith(".tsv"))){const V=await H.file.text();C.push({text:V,type:"input_text"})}else{const V=Y.split(",")[1];C.push({type:"input_file",file_data:V,file_url:Y,filename:H.file.name})}}await e(C),j(""),S([])},L=!h&&!n&&!r&&(b.trim()||N.length>0);return o.jsxs("div",{className:`relative ${m}`,onDragOver:G,onDragLeave:ne,onDrop:U,children:[_&&o.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg bg-blue-50/80 dark:bg-blue-950/40 backdrop-blur-sm flex items-center justify-center transition-all duration-200 ease-in-out z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium mb-1",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500 dark:text-blue-500 text-xs",children:"Images, PDFs, and other files"})]})}),N.length>0&&o.jsx("div",{className:"mb-3",children:o.jsx(dD,{attachments:N,onRemoveAttachment:Q})}),E&&o.jsxs("div",{className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-20
                      bg-blue-500 text-white px-4 py-2 rounded-full text-sm
                      animate-in slide-in-from-bottom-2 fade-in duration-200
                      flex items-center gap-2 shadow-lg`,children:[E.includes("screenshot")?o.jsx(gM,{className:"h-3 w-3"}):o.jsx(qs,{className:"h-3 w-3"}),E]}),o.jsxs("form",{onSubmit:k,className:"flex gap-2 items-end",children:[o.jsx(ho,{ref:R,value:b,onChange:I=>j(I.target.value),onPaste:B,onKeyDown:I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),k(I))},placeholder:c||`Message ${g}... (Shift+Enter for new line)`,disabled:h||n||r,className:"flex-1 min-h-[40px] max-h-[200px] resize-none",style:{fieldSizing:"content"}}),d&&o.jsx(lD,{onFilesSelected:Z,disabled:h||n||r}),r&&a?o.jsx(Le,{type:"button",size:"icon",onClick:a,disabled:l,className:"shrink-0 h-10 transition-all",title:"Stop generating","aria-label":"Stop generating response",children:l?o.jsx(Yu,{size:"sm"}):o.jsx(Nd,{className:"h-4 w-4 fill-current"})}):o.jsx(Le,{type:"submit",size:"icon",disabled:!L,className:"shrink-0 h-10 transition-all",title:"Send message","aria-label":"Send message",children:n?o.jsx(Yu,{size:"sm"}):o.jsx(SM,{className:"h-4 w-4"})})]})]})}function mD({code:e,language:n}){const[r,a]=w.useState(!1),l=w.useRef(null);w.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const c=async()=>{try{await navigator.clipboard.writeText(e),a(!0),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{a(!1),l.current=null},2e3)}catch(d){console.error("Failed to copy code:",d)}};return o.jsxs("div",{className:"relative group",children:[o.jsx("pre",{className:"my-3 p-3 bg-foreground/5 dark:bg-foreground/10 rounded overflow-x-auto border border-foreground/10",children:o.jsxs("code",{className:"text-xs font-mono block whitespace-pre-wrap break-words",children:[n&&o.jsx("span",{className:"opacity-60 text-[10px] mb-1 block uppercase",children:n}),e]})}),o.jsx("button",{onClick:c,className:`absolute top-2 right-2 p-1.5 rounded-md border shadow-sm
                   bg-background hover:bg-accent
                   text-muted-foreground hover:text-foreground
                   transition-all duration-200
                   opacity-0 group-hover:opacity-100`,title:r?"Copied!":"Copy code",children:r?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-600 dark:text-green-400",children:o.jsx("polyline",{points:"20 6 9 17 4 12"})}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),o.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})}function hD({content:e,className:n=""}){const r=e.split(`
`),a=[];let l=0;for(;l<r.length;){const c=r[l];if(c.trim().startsWith("```")){const f=[],h=c.trim().match(/^```(\w+)?/)?.[1]||"";for(l++;l<r.length&&!r[l].trim().startsWith("```");)f.push(r[l]),l++;l++,a.push(o.jsx(mD,{code:f.join(`
`),language:h},a.length));continue}const d=c.match(/^(#{1,6})\s+(.+)$/);if(d){const f=d[1].length,m=d[2],g=`${["text-2xl","text-xl","text-lg","text-base","text-sm","text-sm"][f-1]} font-semibold mt-4 mb-2 first:mt-0 break-words`,y=f===1?o.jsx("h1",{className:g,children:wn(m)},a.length):f===2?o.jsx("h2",{className:g,children:wn(m)},a.length):f===3?o.jsx("h3",{className:g,children:wn(m)},a.length):f===4?o.jsx("h4",{className:g,children:wn(m)},a.length):f===5?o.jsx("h5",{className:g,children:wn(m)},a.length):o.jsx("h6",{className:g,children:wn(m)},a.length);a.push(y),l++;continue}if(c.match(/^[\s]*[-*+]\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*[-*+]\s+/);){const m=r[l].replace(/^[\s]*[-*+]\s+/,"");f.push(m),l++}a.push(o.jsx("ul",{className:"my-2 ml-4 list-disc space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:wn(m)},h))},a.length));continue}if(c.match(/^[\s]*\d+\.\s+/)){const f=[];for(;l<r.length&&r[l].match(/^[\s]*\d+\.\s+/);){const m=r[l].replace(/^[\s]*\d+\.\s+/,"");f.push(m),l++}a.push(o.jsx("ol",{className:"my-2 ml-4 list-decimal space-y-1 break-words",children:f.map((m,h)=>o.jsx("li",{className:"text-sm break-words",children:wn(m)},h))},a.length));continue}if(c.trim().startsWith("|")&&c.trim().endsWith("|")){const f=[];for(;l<r.length&&r[l].trim().startsWith("|")&&r[l].trim().endsWith("|");)f.push(r[l].trim()),l++;if(f.length>=2){const m=f[0].split("|").slice(1,-1).map(g=>g.trim());if(f[1].match(/^\|[\s\-:|]+\|$/)){const g=f.slice(2).map(y=>y.split("|").slice(1,-1).map(x=>x.trim()));a.push(o.jsx("div",{className:"my-3 overflow-x-auto",children:o.jsxs("table",{className:"min-w-full border border-foreground/10 text-sm",children:[o.jsx("thead",{className:"bg-foreground/5",children:o.jsx("tr",{children:m.map((y,x)=>o.jsx("th",{className:"border-b border-foreground/10 px-3 py-2 text-left font-semibold break-words",children:wn(y)},x))})}),o.jsx("tbody",{children:g.map((y,x)=>o.jsx("tr",{className:"border-b border-foreground/5 last:border-b-0",children:y.map((b,j)=>o.jsx("td",{className:"px-3 py-2 border-r border-foreground/5 last:border-r-0 break-words",children:wn(b)},j))},x))})]})},a.length));continue}}for(const m of f)a.push(o.jsx("p",{className:"my-1",children:wn(m)},a.length));continue}if(c.trim().startsWith(">")){const f=[];for(;l<r.length&&r[l].trim().startsWith(">");)f.push(r[l].replace(/^>\s?/,"")),l++;a.push(o.jsx("blockquote",{className:"my-2 pl-4 border-l-4 border-current/30 opacity-80 italic break-words",children:f.map((m,h)=>o.jsx("div",{className:"break-words",children:wn(m)},h))},a.length));continue}if(c.match(/^[\s]*[-*_]{3,}[\s]*$/)){a.push(o.jsx("hr",{className:"my-4 border-t border-border"},a.length)),l++;continue}if(c.trim()===""){a.push(o.jsx("div",{className:"h-2"},a.length)),l++;continue}a.push(o.jsx("p",{className:"my-1 break-words",children:wn(c)},a.length)),l++}return o.jsx("div",{className:`markdown-content break-words ${n}`,children:a})}function wn(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=r.match(/`([^`]+)`/);if(l&&l.index!==void 0){l.index>0&&n.push(o.jsx("span",{children:sl(r.slice(0,l.index))},a++)),n.push(o.jsx("code",{className:"px-1.5 py-0.5 bg-foreground/10 rounded text-xs font-mono border border-foreground/20",children:l[1]},a++)),r=r.slice(l.index+l[0].length);continue}n.push(o.jsx("span",{children:sl(r)},a++));break}return n}function sl(e){const n=[];let r=e,a=0;for(;r.length>0;){const l=[{regex:/\*\*\[([^\]]+)\]\(([^)]+)\)\*\*/,component:"strong-link"},{regex:/__\[([^\]]+)\]\(([^)]+)\)__/,component:"strong-link"},{regex:/\*\[([^\]]+)\]\(([^)]+)\)\*/,component:"em-link"},{regex:/_\[([^\]]+)\]\(([^)]+)\)_/,component:"em-link"},{regex:/\[([^\]]+)\]\(([^)]+)\)/,component:"link"},{regex:/\*\*(.+?)\*\*/,component:"strong"},{regex:/__(.+?)__/,component:"strong"},{regex:/\*(.+?)\*/,component:"em"},{regex:/_(.+?)_/,component:"em"}];let c=!1;for(const d of l){const f=r.match(d.regex);if(f&&f.index!==void 0){if(f.index>0&&n.push(r.slice(0,f.index)),d.component==="strong")n.push(o.jsx("strong",{className:"font-semibold",children:f[1]},a++));else if(d.component==="em")n.push(o.jsx("em",{className:"italic",children:f[1]},a++));else if(d.component==="strong-link"){const m=f[1],h=f[2],g=sl(m);n.push(o.jsx("strong",{className:"font-semibold",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="em-link"){const m=f[1],h=f[2],g=sl(m);n.push(o.jsx("em",{className:"italic",children:o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g})},a++))}else if(d.component==="link"){const m=f[1],h=f[2],g=sl(m);n.push(o.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline break-words",children:g},a++))}r=r.slice(f.index+f[0].length),c=!0;break}}if(!c){r.length>0&&n.push(r);break}}return n}function pD({content:e,className:n,isStreaming:r}){if(e.type!=="text"&&e.type!=="input_text"&&e.type!=="output_text")return null;const a=e.text;return o.jsxs("div",{className:`break-words ${n||""}`,children:[o.jsx(hD,{content:a}),r&&a.length>0&&o.jsx("span",{className:"ml-1 inline-block h-2 w-2 animate-pulse rounded-full bg-current"})]})}function gD({content:e,className:n}){const[r,a]=w.useState(!1),[l,c]=w.useState(!1);if(e.type!=="input_image"&&e.type!=="output_image")return null;const d=e.image_url;return r?o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(qs,{className:"h-4 w-4"}),o.jsx("span",{children:"Image could not be loaded"})]})}):o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsx("img",{src:d,alt:"Uploaded image",className:`rounded-lg border max-w-full transition-all cursor-pointer ${l?"max-h-none":"max-h-64"}`,onClick:()=>c(!l),onError:()=>a(!0)}),l&&o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to collapse"})]})}function xD(e,n){const[r,a]=w.useState(null);return w.useEffect(()=>{if(!e){a(null);return}try{let l;if(e.startsWith("data:")){const h=e.split(",");if(h.length!==2){a(null);return}l=h[1]}else l=e;const c=atob(l),d=new Uint8Array(c.length);for(let h=0;h<c.length;h++)d[h]=c.charCodeAt(h);const f=new Blob([d],{type:n}),m=URL.createObjectURL(f);return a(m),()=>{URL.revokeObjectURL(m)}}catch(l){console.error("Failed to convert base64 to blob URL:",l),a(null)}},[e,n]),r}function yD({content:e,className:n}){const[r,a]=w.useState(!0),l=e.type==="input_file"||e.type==="output_file",c=l?e.file_url||e.file_data:void 0,d=l?e.filename||"file":void 0,f=d?.toLowerCase().endsWith(".pdf")||c?.includes("application/pdf"),m=d?.toLowerCase().match(/\.(mp3|wav|m4a|ogg|flac|aac)$/),h=l&&f?e.file_data||e.file_url:void 0,g=xD(h,"application/pdf");if(!l)return null;const y=g||c,x=()=>{y&&window.open(y,"_blank")};return f&&c?o.jsxs("div",{className:`my-2 ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(qs,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm font-medium truncate flex-1",children:d}),o.jsx("button",{onClick:()=>a(!r),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Et,{className:"h-3 w-3"}),"Collapse"]}):o.jsxs(o.Fragment,{children:[o.jsx(en,{className:"h-3 w-3"}),"Expand"]})})]}),r&&o.jsxs("div",{className:"border rounded-lg p-6 bg-muted/50 flex flex-col items-center justify-center gap-4",children:[o.jsx(qs,{className:"h-16 w-16 text-red-400"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:d}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF Document"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:x,className:"text-sm bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 px-4 py-2 rounded-md transition-colors",children:"Open in new tab"}),o.jsxs("a",{href:y||c,download:d,className:"text-sm text-foreground hover:bg-accent flex items-center gap-2 px-4 py-2 border rounded-md transition-colors",children:[o.jsx(Uu,{className:"h-4 w-4"}),"Download"]})]})]})]}):m&&c?o.jsxs("div",{className:`my-2 p-3 border rounded-lg ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(lN,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:d})]}),o.jsxs("audio",{controls:!0,className:"w-full",children:[o.jsx("source",{src:c}),"Your browser does not support audio playback."]})]}):o.jsx("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm",children:d})]}),c&&o.jsxs("a",{href:c,download:d,className:"text-xs text-primary hover:underline flex items-center gap-1",children:[o.jsx(Uu,{className:"h-3 w-3"}),"Download"]})]})})}function vD({content:e,className:n}){const[r,a]=w.useState(!1);if(e.type!=="output_data")return null;const l=e.data,c=e.mime_type,d=e.description;let f=l;try{const m=JSON.parse(l);f=JSON.stringify(m,null,2)}catch{}return o.jsxs("div",{className:`my-2 p-3 border rounded-lg bg-muted ${n||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[o.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:d||"Data Output"}),o.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:c}),r?o.jsx(Et,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(en,{className:"h-4 w-4 text-muted-foreground"})]}),r&&o.jsx("pre",{className:"mt-2 text-xs overflow-auto max-h-64 bg-background p-2 rounded border font-mono",children:f})]})}function bD({content:e,className:n}){const[r,a]=w.useState(!1);if(e.type!=="function_approval_request")return null;const{status:l,function_call:c}=e,f={pending:{icon:ag,label:"Awaiting approval",iconClass:"text-amber-600 dark:text-amber-400"},approved:{icon:_o,label:"Approved",iconClass:"text-green-600 dark:text-green-400"},rejected:{icon:ka,label:"Rejected",iconClass:"text-red-600 dark:text-red-400"}}[l],m=f.icon;let h;try{h=typeof c.arguments=="string"?JSON.parse(c.arguments):c.arguments}catch{h=c.arguments}return o.jsxs("div",{className:n,children:[o.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 px-2 py-1 text-xs rounded hover:bg-muted/50 transition-colors w-fit",children:[o.jsx(m,{className:`h-3 w-3 ${f.iconClass}`}),o.jsx("span",{className:"text-muted-foreground font-mono",children:c.name}),o.jsx("span",{className:`text-xs ${f.iconClass}`,children:f.label}),r?o.jsx("span",{className:"text-xs text-muted-foreground",children:""}):o.jsx("span",{className:"text-xs text-muted-foreground",children:""})]}),r&&o.jsx("div",{className:"ml-5 mt-1 text-xs font-mono text-muted-foreground border-l-2 border-muted pl-3",children:o.jsx("pre",{className:"whitespace-pre-wrap break-all",children:JSON.stringify(h,null,2)})})]})}function wD({content:e,className:n,isStreaming:r}){switch(e.type){case"text":case"input_text":case"output_text":return o.jsx(pD,{content:e,className:n,isStreaming:r});case"input_image":case"output_image":return o.jsx(gD,{content:e,className:n});case"input_file":case"output_file":return o.jsx(yD,{content:e,className:n});case"output_data":return o.jsx(vD,{content:e,className:n});case"function_approval_request":return o.jsx(bD,{content:e,className:n});default:return null}}function ND({name:e,arguments:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof n=="string"?JSON.parse(n):n}catch{c=n}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-blue-50 dark:bg-blue-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(oN,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),o.jsxs("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Function Call: ",e]}),a?o.jsx(Et,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"}):o.jsx(en,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 mb-1",children:"Arguments:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)})]})]})}function jD({output:e,call_id:n,className:r}){const[a,l]=w.useState(!1);let c;try{c=typeof e=="string"?JSON.parse(e):e}catch{c=e}return o.jsxs("div",{className:`my-2 p-3 border rounded bg-green-50 dark:bg-green-950/20 ${r||""}`,children:[o.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>l(!a),children:[o.jsx(oN,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),o.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Function Result"}),a?o.jsx(Et,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"}):o.jsx(en,{className:"h-4 w-4 text-green-600 dark:text-green-400 ml-auto"})]}),a&&o.jsxs("div",{className:"mt-2 text-xs font-mono bg-white dark:bg-gray-900 p-2 rounded border",children:[o.jsx("div",{className:"text-green-600 dark:text-green-400 mb-1",children:"Output:"}),o.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(c,null,2)}),o.jsxs("div",{className:"text-gray-500 text-[10px] mt-2",children:["Call ID: ",n]})]})]})}function SD({item:e,className:n}){if(e.type==="message"){const r=e.status==="in_progress",a=e.content.length>0;return o.jsxs("div",{className:n,children:[e.content.map((l,c)=>o.jsx(wD,{content:l,className:c>0?"mt-2":"",isStreaming:r},c)),r&&!a&&o.jsx("div",{className:"flex items-center space-x-1",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.3s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current [animation-delay:-0.15s]"}),o.jsx("div",{className:"h-2 w-2 animate-bounce rounded-full bg-current"})]})})]})}return e.type==="function_call"?o.jsx(ND,{name:e.name,arguments:e.arguments,className:n}):e.type==="function_call_output"?o.jsx(jD,{output:e.output,call_id:e.call_id,className:n}):null}var _D=[" ","Enter","ArrowUp","ArrowDown"],ED=[" ","Enter"],yo="Select",[Dd,Od,CD]=Ip(yo),[qa,t$]=Qn(yo,[CD,Va]),zd=Va(),[kD,Ur]=qa(yo),[TD,AD]=qa(yo),C2=e=>{const{__scopeSelect:n,children:r,open:a,defaultOpen:l,onOpenChange:c,value:d,defaultValue:f,onValueChange:m,dir:h,name:g,autoComplete:y,disabled:x,required:b,form:j}=e,N=zd(n),[S,_]=w.useState(null),[A,E]=w.useState(null),[M,R]=w.useState(!1),D=Sl(h),[O,P]=Rr({prop:a,defaultProp:l??!1,onChange:c,caller:yo}),[q,Z]=Rr({prop:d,defaultProp:f,onChange:m,caller:yo}),Q=w.useRef(null),G=S?j||!!S.closest("form"):!0,[ne,U]=w.useState(new Set),B=Array.from(ne).map(k=>k.props.value).join(";");return o.jsx(Gp,{...N,children:o.jsxs(kD,{required:b,scope:n,trigger:S,onTriggerChange:_,valueNode:A,onValueNodeChange:E,valueNodeHasChildren:M,onValueNodeHasChildrenChange:R,contentId:Dr(),value:q,onValueChange:Z,open:O,onOpenChange:P,dir:D,triggerPointerDownPosRef:Q,disabled:x,children:[o.jsx(Dd.Provider,{scope:n,children:o.jsx(TD,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(k=>{U(L=>new Set(L).add(k))},[]),onNativeOptionRemove:w.useCallback(k=>{U(L=>{const I=new Set(L);return I.delete(k),I})},[]),children:r})}),G?o.jsxs(Z2,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:y,value:q,onChange:k=>Z(k.target.value),disabled:x,form:j,children:[q===void 0?o.jsx("option",{value:""}):null,Array.from(ne)]},B):null]})})};C2.displayName=yo;var k2="SelectTrigger",T2=w.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:a=!1,...l}=e,c=zd(r),d=Ur(k2,r),f=d.disabled||a,m=rt(n,d.onTriggerChange),h=Od(r),g=w.useRef("touch"),[y,x,b]=K2(N=>{const S=h().filter(E=>!E.disabled),_=S.find(E=>E.value===d.value),A=Q2(S,N,_);A!==void 0&&d.onValueChange(A.value)}),j=N=>{f||(d.onOpenChange(!0),b()),N&&(d.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return o.jsx(Xp,{asChild:!0,...c,children:o.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":W2(d.value)?"":void 0,...l,ref:m,onClick:ke(l.onClick,N=>{N.currentTarget.focus(),g.current!=="mouse"&&j(N)}),onPointerDown:ke(l.onPointerDown,N=>{g.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:ke(l.onKeyDown,N=>{const S=y.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&x(N.key),!(S&&N.key===" ")&&_D.includes(N.key)&&(j(),N.preventDefault())})})})});T2.displayName=k2;var A2="SelectValue",M2=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,children:c,placeholder:d="",...f}=e,m=Ur(A2,r),{onValueNodeHasChildrenChange:h}=m,g=c!==void 0,y=rt(n,m.onValueNodeChange);return Wt(()=>{h(g)},[h,g]),o.jsx(Ye.span,{...f,ref:y,style:{pointerEvents:"none"},children:W2(m.value)?o.jsx(o.Fragment,{children:d}):c})});M2.displayName=A2;var MD="SelectIcon",R2=w.forwardRef((e,n)=>{const{__scopeSelect:r,children:a,...l}=e;return o.jsx(Ye.span,{"aria-hidden":!0,...l,ref:n,children:a||""})});R2.displayName=MD;var RD="SelectPortal",D2=e=>o.jsx(pd,{asChild:!0,...e});D2.displayName=RD;var vo="SelectContent",O2=w.forwardRef((e,n)=>{const r=Ur(vo,e.__scopeSelect),[a,l]=w.useState();if(Wt(()=>{l(new DocumentFragment)},[]),!r.open){const c=a;return c?jl.createPortal(o.jsx(z2,{scope:e.__scopeSelect,children:o.jsx(Dd.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),c):null}return o.jsx(I2,{...e,ref:n})});O2.displayName=vo;var Fn=10,[z2,Vr]=qa(vo),DD="SelectContentImpl",OD=_a("SelectContent.RemoveScroll"),I2=w.forwardRef((e,n)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S,..._}=e,A=Ur(vo,r),[E,M]=w.useState(null),[R,D]=w.useState(null),O=rt(n,ee=>M(ee)),[P,q]=w.useState(null),[Z,Q]=w.useState(null),G=Od(r),[ne,U]=w.useState(!1),B=w.useRef(!1);w.useEffect(()=>{if(E)return p1(E)},[E]),$w();const k=w.useCallback(ee=>{const[ie,...ge]=G().map(ve=>ve.ref.current),[Ee]=ge.slice(-1),Ne=document.activeElement;for(const ve of ee)if(ve===Ne||(ve?.scrollIntoView({block:"nearest"}),ve===ie&&R&&(R.scrollTop=0),ve===Ee&&R&&(R.scrollTop=R.scrollHeight),ve?.focus(),document.activeElement!==Ne))return},[G,R]),L=w.useCallback(()=>k([P,E]),[k,P,E]);w.useEffect(()=>{ne&&L()},[ne,L]);const{onOpenChange:I,triggerPointerDownPosRef:$}=A;w.useEffect(()=>{if(E){let ee={x:0,y:0};const ie=Ee=>{ee={x:Math.abs(Math.round(Ee.pageX)-($.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-($.current?.y??0))}},ge=Ee=>{ee.x<=10&&ee.y<=10?Ee.preventDefault():E.contains(Ee.target)||I(!1),document.removeEventListener("pointermove",ie),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",ge,{capture:!0})}}},[E,I,$]),w.useEffect(()=>{const ee=()=>I(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[I]);const[C,H]=K2(ee=>{const ie=G().filter(Ne=>!Ne.disabled),ge=ie.find(Ne=>Ne.ref.current===document.activeElement),Ee=Q2(ie,ee,ge);Ee&&setTimeout(()=>Ee.ref.current.focus())}),Y=w.useCallback((ee,ie,ge)=>{const Ee=!B.current&&!ge;(A.value!==void 0&&A.value===ie||Ee)&&(q(ee),Ee&&(B.current=!0))},[A.value]),V=w.useCallback(()=>E?.focus(),[E]),J=w.useCallback((ee,ie,ge)=>{const Ee=!B.current&&!ge;(A.value!==void 0&&A.value===ie||Ee)&&Q(ee)},[A.value]),ce=a==="popper"?fp:L2,fe=ce===fp?{side:f,sideOffset:m,align:h,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:b,sticky:j,hideWhenDetached:N,avoidCollisions:S}:{};return o.jsx(z2,{scope:r,content:E,viewport:R,onViewportChange:D,itemRefCallback:Y,selectedItem:P,onItemLeave:V,itemTextRefCallback:J,focusSelectedItem:L,selectedItemText:Z,position:a,isPositioned:ne,searchRef:C,children:o.jsx(Kp,{as:OD,allowPinchZoom:!0,children:o.jsx(Lp,{asChild:!0,trapped:A.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ke(l,ee=>{A.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:o.jsx(ud,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:o.jsx(ce,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ee=>ee.preventDefault(),..._,...fe,onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ke(_.onKeyDown,ee=>{const ie=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ie&&ee.key.length===1&&H(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ee=G().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ne=ee.target,ve=Ee.indexOf(Ne);Ee=Ee.slice(ve+1)}setTimeout(()=>k(Ee)),ee.preventDefault()}})})})})})})});I2.displayName=DD;var zD="SelectItemAlignedPosition",L2=w.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:a,...l}=e,c=Ur(vo,r),d=Vr(vo,r),[f,m]=w.useState(null),[h,g]=w.useState(null),y=rt(n,O=>g(O)),x=Od(r),b=w.useRef(!1),j=w.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:_,focusSelectedItem:A}=d,E=w.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&h&&N&&S&&_){const O=c.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),Z=_.getBoundingClientRect();if(c.dir!=="rtl"){const Ne=Z.left-P.left,ve=q.left-Ne,ze=O.left-ve,re=O.width+ze,K=Math.max(re,P.width),me=window.innerWidth-Fn,be=cp(ve,[Fn,Math.max(Fn,me-K)]);f.style.minWidth=re+"px",f.style.left=be+"px"}else{const Ne=P.right-Z.right,ve=window.innerWidth-q.right-Ne,ze=window.innerWidth-O.right-ve,re=O.width+ze,K=Math.max(re,P.width),me=window.innerWidth-Fn,be=cp(ve,[Fn,Math.max(Fn,me-K)]);f.style.minWidth=re+"px",f.style.right=be+"px"}const Q=x(),G=window.innerHeight-Fn*2,ne=N.scrollHeight,U=window.getComputedStyle(h),B=parseInt(U.borderTopWidth,10),k=parseInt(U.paddingTop,10),L=parseInt(U.borderBottomWidth,10),I=parseInt(U.paddingBottom,10),$=B+k+ne+I+L,C=Math.min(S.offsetHeight*5,$),H=window.getComputedStyle(N),Y=parseInt(H.paddingTop,10),V=parseInt(H.paddingBottom,10),J=O.top+O.height/2-Fn,ce=G-J,fe=S.offsetHeight/2,ee=S.offsetTop+fe,ie=B+k+ee,ge=$-ie;if(ie<=J){const Ne=Q.length>0&&S===Q[Q.length-1].ref.current;f.style.bottom="0px";const ve=h.clientHeight-N.offsetTop-N.offsetHeight,ze=Math.max(ce,fe+(Ne?V:0)+ve+L),re=ie+ze;f.style.height=re+"px"}else{const Ne=Q.length>0&&S===Q[0].ref.current;f.style.top="0px";const ze=Math.max(J,B+N.offsetTop+(Ne?Y:0)+fe)+ge;f.style.height=ze+"px",N.scrollTop=ie-J+N.offsetTop}f.style.margin=`${Fn}px 0`,f.style.minHeight=C+"px",f.style.maxHeight=G+"px",a?.(),requestAnimationFrame(()=>b.current=!0)}},[x,c.trigger,c.valueNode,f,h,N,S,_,c.dir,a]);Wt(()=>E(),[E]);const[M,R]=w.useState();Wt(()=>{h&&R(window.getComputedStyle(h).zIndex)},[h]);const D=w.useCallback(O=>{O&&j.current===!0&&(E(),A?.(),j.current=!1)},[E,A]);return o.jsx(LD,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:o.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:o.jsx(Ye.div,{...l,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});L2.displayName=zD;var ID="SelectPopperPosition",fp=w.forwardRef((e,n)=>{const{__scopeSelect:r,align:a="start",collisionPadding:l=Fn,...c}=e,d=zd(r);return o.jsx(Zp,{...d,...c,ref:n,align:a,collisionPadding:l,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fp.displayName=ID;var[LD,Sg]=qa(vo,{}),mp="SelectViewport",$2=w.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:a,...l}=e,c=Vr(mp,r),d=Sg(mp,r),f=rt(n,c.onViewportChange),m=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Dd.Slot,{scope:r,children:o.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:ke(l.onScroll,h=>{const g=h.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:x}=d;if(x?.current&&y){const b=Math.abs(m.current-g.scrollTop);if(b>0){const j=window.innerHeight-Fn*2,N=parseFloat(y.style.minHeight),S=parseFloat(y.style.height),_=Math.max(N,S);if(_<j){const A=_+b,E=Math.min(j,A),M=A-E;y.style.height=E+"px",y.style.bottom==="0px"&&(g.scrollTop=M>0?M:0,y.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});$2.displayName=mp;var H2="SelectGroup",[$D,HD]=qa(H2),PD=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=Dr();return o.jsx($D,{scope:r,id:l,children:o.jsx(Ye.div,{role:"group","aria-labelledby":l,...a,ref:n})})});PD.displayName=H2;var P2="SelectLabel",BD=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=HD(P2,r);return o.jsx(Ye.div,{id:l.id,...a,ref:n})});BD.displayName=P2;var Ku="SelectItem",[UD,B2]=qa(Ku),U2=w.forwardRef((e,n)=>{const{__scopeSelect:r,value:a,disabled:l=!1,textValue:c,...d}=e,f=Ur(Ku,r),m=Vr(Ku,r),h=f.value===a,[g,y]=w.useState(c??""),[x,b]=w.useState(!1),j=rt(n,A=>m.itemRefCallback?.(A,a,l)),N=Dr(),S=w.useRef("touch"),_=()=>{l||(f.onValueChange(a),f.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(UD,{scope:r,value:a,disabled:l,textId:N,isSelected:h,onItemTextChange:w.useCallback(A=>{y(E=>E||(A?.textContent??"").trim())},[]),children:o.jsx(Dd.ItemSlot,{scope:r,value:a,disabled:l,textValue:g,children:o.jsx(Ye.div,{role:"option","aria-labelledby":N,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...d,ref:j,onFocus:ke(d.onFocus,()=>b(!0)),onBlur:ke(d.onBlur,()=>b(!1)),onClick:ke(d.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:ke(d.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:ke(d.onPointerDown,A=>{S.current=A.pointerType}),onPointerMove:ke(d.onPointerMove,A=>{S.current=A.pointerType,l?m.onItemLeave?.():S.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(d.onPointerLeave,A=>{A.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:ke(d.onKeyDown,A=>{m.searchRef?.current!==""&&A.key===" "||(ED.includes(A.key)&&_(),A.key===" "&&A.preventDefault())})})})})});U2.displayName=Ku;var Ji="SelectItemText",V2=w.forwardRef((e,n)=>{const{__scopeSelect:r,className:a,style:l,...c}=e,d=Ur(Ji,r),f=Vr(Ji,r),m=B2(Ji,r),h=AD(Ji,r),[g,y]=w.useState(null),x=rt(n,_=>y(_),m.onItemTextChange,_=>f.itemTextRefCallback?.(_,m.value,m.disabled)),b=g?.textContent,j=w.useMemo(()=>o.jsx("option",{value:m.value,disabled:m.disabled,children:b},m.value),[m.disabled,m.value,b]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=h;return Wt(()=>(N(j),()=>S(j)),[N,S,j]),o.jsxs(o.Fragment,{children:[o.jsx(Ye.span,{id:m.textId,...c,ref:x}),m.isSelected&&d.valueNode&&!d.valueNodeHasChildren?jl.createPortal(c.children,d.valueNode):null]})});V2.displayName=Ji;var q2="SelectItemIndicator",F2=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return B2(q2,r).isSelected?o.jsx(Ye.span,{"aria-hidden":!0,...a,ref:n}):null});F2.displayName=q2;var hp="SelectScrollUpButton",Y2=w.forwardRef((e,n)=>{const r=Vr(hp,e.__scopeSelect),a=Sg(hp,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollTop>0;c(h)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(X2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});Y2.displayName=hp;var pp="SelectScrollDownButton",G2=w.forwardRef((e,n)=>{const r=Vr(pp,e.__scopeSelect),a=Sg(pp,e.__scopeSelect),[l,c]=w.useState(!1),d=rt(n,a.onScrollButtonChange);return Wt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const h=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<h;c(g)};const m=r.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),l?o.jsx(X2,{...e,ref:d,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=r;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});G2.displayName=pp;var X2=w.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:a,...l}=e,c=Vr("SelectScrollButton",r),d=w.useRef(null),f=Od(r),m=w.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),Wt(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),o.jsx(Ye.div,{"aria-hidden":!0,...l,ref:n,style:{flexShrink:0,...l.style},onPointerDown:ke(l.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(a,50))}),onPointerMove:ke(l.onPointerMove,()=>{c.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(a,50))}),onPointerLeave:ke(l.onPointerLeave,()=>{m()})})}),VD="SelectSeparator",qD=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e;return o.jsx(Ye.div,{"aria-hidden":!0,...a,ref:n})});qD.displayName=VD;var gp="SelectArrow",FD=w.forwardRef((e,n)=>{const{__scopeSelect:r,...a}=e,l=zd(r),c=Ur(gp,r),d=Vr(gp,r);return c.open&&d.position==="popper"?o.jsx(Wp,{...l,...a,ref:n}):null});FD.displayName=gp;var YD="SelectBubbleInput",Z2=w.forwardRef(({__scopeSelect:e,value:n,...r},a)=>{const l=w.useRef(null),c=rt(a,l),d=yg(n);return w.useEffect(()=>{const f=l.current;if(!f)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(d!==n&&g){const y=new Event("change",{bubbles:!0});g.call(f,n),f.dispatchEvent(y)}},[d,n]),o.jsx(Ye.select,{...r,style:{...GN,...r.style},ref:c,defaultValue:n})});Z2.displayName=YD;function W2(e){return e===""||e===void 0}function K2(e){const n=Zt(e),r=w.useRef(""),a=w.useRef(0),l=w.useCallback(d=>{const f=r.current+d;n(f),(function m(h){r.current=h,window.clearTimeout(a.current),h!==""&&(a.current=window.setTimeout(()=>m(""),1e3))})(f)},[n]),c=w.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,l,c]}function Q2(e,n,r){const l=n.length>1&&Array.from(n).every(h=>h===n[0])?n[0]:n,c=r?e.indexOf(r):-1;let d=GD(e,Math.max(c,0));l.length===1&&(d=d.filter(h=>h!==r));const m=d.find(h=>h.textValue.toLowerCase().startsWith(l.toLowerCase()));return m!==r?m:void 0}function GD(e,n){return e.map((r,a)=>e[(n+a)%e.length])}var XD=C2,ZD=T2,WD=M2,KD=R2,QD=D2,JD=O2,e6=$2,t6=U2,n6=V2,s6=F2,r6=Y2,o6=G2;function Id({...e}){return o.jsx(XD,{"data-slot":"select",...e})}function Ld({...e}){return o.jsx(WD,{"data-slot":"select-value",...e})}function $d({className:e,size:n="default",children:r,...a}){return o.jsxs(ZD,{"data-slot":"select-trigger","data-size":n,className:We("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,o.jsx(KD,{asChild:!0,children:o.jsx(Et,{className:"size-4 opacity-50"})})]})}function Hd({className:e,children:n,position:r="popper",...a}){return o.jsx(QD,{children:o.jsxs(JD,{"data-slot":"select-content",className:We("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(a6,{}),o.jsx(e6,{className:We("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:n}),o.jsx(i6,{})]})})}function Pd({className:e,children:n,...r}){return o.jsxs(t6,{"data-slot":"select-item",className:We("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:o.jsx(s6,{children:o.jsx(_o,{className:"size-4"})})}),o.jsx(n6,{children:n})]})}function a6({className:e,...n}){return o.jsx(r6,{"data-slot":"select-scroll-up-button",className:We("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Bu,{className:"size-4"})})}function i6({className:e,...n}){return o.jsx(o6,{"data-slot":"select-scroll-down-button",className:We("flex cursor-default items-center justify-center py-1",e),...n,children:o.jsx(Et,{className:"size-4"})})}function co({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function l6({agent:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(aN,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(op,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(iN,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx($r,{open:n,onOpenChange:r,children:o.jsxs(Hr,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Pr,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(Br,{children:"Agent Details"}),o.jsx(Eo,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Vs,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(e.model_id||e.chat_client_type)&&o.jsx(co,{title:"Model & Client",icon:o.jsx(Vs,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsxs("div",{className:"space-y-1",children:[e.model_id&&o.jsx("div",{className:"font-mono text-foreground",children:e.model_id}),e.chat_client_type&&o.jsxs("div",{className:"text-xs",children:["(",e.chat_client_type,")"]})]})}),o.jsx(co,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(co,{title:"Environment",icon:e.has_env?o.jsx(Tl,{className:"h-4 w-4 text-orange-500"}):o.jsx(wd,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),e.instructions&&o.jsx(co,{title:"Instructions",icon:o.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),className:"mb-4",children:o.jsx("div",{className:"text-sm text-foreground leading-relaxed whitespace-pre-wrap",children:e.instructions})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.tools&&e.tools.length>0&&o.jsx(co,{title:`Tools (${e.tools.length})`,icon:o.jsx(qu,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.tools.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.middleware&&e.middleware.length>0&&o.jsx(co,{title:`Middleware (${e.middleware.length})`,icon:o.jsx(qu,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("ul",{className:"space-y-1",children:e.middleware.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})}),e.context_providers&&e.context_providers.length>0&&o.jsx(co,{title:`Context Providers (${e.context_providers.length})`,icon:o.jsx(op,{className:"h-4 w-4 text-muted-foreground"}),className:!e.middleware||e.middleware.length===0?"md:col-start-2":"",children:o.jsx("ul",{className:"space-y-1",children:e.context_providers.map((c,d)=>o.jsxs("li",{className:"font-mono text-xs text-foreground",children:[" ",c]},d))})})]})]})]})})}function c6({item:e,toolCalls:n=[],toolResults:r=[]}){const[a,l]=w.useState(!1),[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=le(x=>x.showToolCalls),g=()=>e.type==="message"?e.content.filter(x=>x.type==="text").map(x=>x.text).join(`
`):"",y=async()=>{const x=g();if(x)try{await navigator.clipboard.writeText(x),d(!0),setTimeout(()=>d(!1),2e3)}catch(b){console.error("Failed to copy:",b)}};if(e.type==="message"){const x=e.role==="user",b=e.status==="incomplete",j=x?cN:b?hs:Vs,N=g();return o.jsxs("div",{className:`flex gap-3 ${x?"flex-row-reverse":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[o.jsx("div",{className:`flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border ${x?"bg-primary text-primary-foreground":b?"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800":"bg-muted"}`,children:o.jsx(j,{className:"h-4 w-4"})}),o.jsxs("div",{className:`flex flex-col space-y-1 ${x?"items-end":"items-start"} max-w-[80%]`,children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:`rounded px-3 py-2 text-sm ${x?"bg-primary text-primary-foreground":b?"bg-orange-50 dark:bg-orange-950/50 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800":"bg-muted"}`,children:[b&&o.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[o.jsx(hs,{className:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-medium text-sm",children:"Unable to process request"})]}),o.jsx("div",{className:b?"text-xs leading-relaxed break-all":"",children:o.jsx(SD,{item:e})})]}),N&&a&&o.jsx("button",{onClick:y,className:`absolute top-1 right-1
                           p-1.5 rounded-md border shadow-sm
                           bg-background hover:bg-accent
                           text-muted-foreground hover:text-foreground
                           transition-all duration-200 ease-in-out
                           opacity-0 group-hover:opacity-100`,title:c?"Copied!":"Copy message",children:c?o.jsx(pA,{className:"h-3.5 w-3.5 text-green-600 dark:text-green-400"}):o.jsx(fo,{className:"h-3.5 w-3.5"})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground font-mono",children:[o.jsx("span",{children:e.created_at?new Date(e.created_at*1e3).toLocaleTimeString():new Date().toLocaleTimeString()}),!x&&e.usage&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["",e.usage.input_tokens]}),o.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["",e.usage.output_tokens]}),o.jsxs("span",{children:["(",e.usage.total_tokens," tokens)"]})]})]}),!x&&h&&n.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-1 hover:text-foreground transition-colors",title:`${n.length} tool call${n.length>1?"s":""} - click to ${f?"hide":"show"} details`,children:[o.jsx(Ca,{className:"h-3 w-3"}),o.jsx("span",{children:n.length})]})]})]}),!x&&f&&n.length>0&&o.jsx("div",{className:"mt-2 ml-0 p-3 bg-muted/30 rounded-md border border-muted",children:o.jsx("div",{className:"space-y-2",children:n.map(S=>{const _=r.find(A=>A.call_id===S.call_id);return o.jsx("div",{className:"text-xs",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Ca,{className:"h-3 w-3 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"font-mono text-muted-foreground",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:S.name}),o.jsx("span",{className:"text-muted-foreground/60 ml-1",children:S.arguments&&o.jsxs("span",{className:"break-all",children:["(",S.arguments,")"]})})]}),_&&_.output&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-green-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(_o,{className:"h-3 w-3 text-green-600 dark:text-green-400 mt-0.5 flex-shrink-0"}),o.jsx("pre",{className:"font-mono text-muted-foreground whitespace-pre-wrap break-all",children:_.output.substring(0,200)+(_.output.length>200?"...":"")})]})}),S.status==="incomplete"&&o.jsx("div",{className:"mt-1 pl-5 border-l-2 border-orange-600/20",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(ka,{className:"h-3 w-3 text-orange-600 dark:text-orange-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:"Failed"})]})})]})]})},S.id)})})})]})]})}return e.type==="function_call"||e.type==="function_call_output",null}function u6({selectedAgent:e,onDebugEvent:n}){const r=le(re=>re.currentConversation),a=le(re=>re.availableConversations),l=le(re=>re.chatItems),c=le(re=>re.isStreaming),d=le(re=>re.isSubmitting),f=le(re=>re.loadingConversations),m=le(re=>re.uiMode),h=le(re=>re.conversationUsage),g=le(re=>re.pendingApprovals),y=le(re=>re.oaiMode),x=le(re=>re.streamingEnabled),b=le(re=>re.setCurrentConversation),j=le(re=>re.setAvailableConversations),N=le(re=>re.setChatItems),S=le(re=>re.setIsStreaming),_=le(re=>re.setIsSubmitting),A=le(re=>re.setLoadingConversations),E=le(re=>re.updateConversationUsage),M=le(re=>re.setPendingApprovals),[R,D]=w.useState(!1),[O,P]=w.useState(null),[q,Z]=w.useState(!1),[Q,G]=w.useState(!1),{isCancelling:ne,createAbortSignal:U,handleCancel:B,resetCancelling:k}=w2(),{isDragOver:L,droppedFiles:I,clearDroppedFiles:$,dragHandlers:C}=GR({disabled:d||c}),H=w.useRef(null),Y=w.useRef(null),V=w.useRef(null),J=w.useRef(!1),ce=w.useRef("");w.useEffect(()=>{if(!Y.current)return;const re=H.current?.querySelector("[data-radix-scroll-area-viewport]");let K=!1;if(re){const{scrollTop:me,scrollHeight:be,clientHeight:Ce}=re,we=be-me-Ce<100;K=J.current||we}else K=!0;K&&Y.current.scrollIntoView({behavior:c?"instant":"smooth"}),J.current&&!c&&(J.current=!1)},[l,c]),w.useEffect(()=>{},[c,d]),w.useEffect(()=>{const re=async(me,be,Ce)=>{const we=Na(be.id);if(!we||!we.responseId){S(!1);return}try{const Me={model:Ce.id,input:[],stream:!0,conversation:be.id},je=Ze.streamAgentExecutionOpenAIDirect(Ce.id,Me,be.id,void 0,we.responseId);for await(const tt of je){if(n(tt),tt.type==="response.completed"){const _e=tt.response?.usage;_e&&(V.current={input_tokens:_e.input_tokens,output_tokens:_e.output_tokens,total_tokens:_e.total_tokens});continue}if(tt.type==="response.failed"){const _e=tt.response?.error,xe=_e?typeof _e=="object"&&"message"in _e?_e.message:JSON.stringify(_e):"Request failed",$e=le.getState().chatItems;N($e.map(Ge=>Ge.id===me.id&&Ge.type==="message"?{...Ge,content:[{type:"text",text:ce.current||xe}],status:"incomplete"}:Ge)),S(!1);return}if(tt.type==="response.function_approval.requested"){const Ue=tt;M([...le.getState().pendingApprovals,{request_id:Ue.request_id,function_call:Ue.function_call}]);continue}if(tt.type==="response.function_approval.responded"){const Ue=tt;M(le.getState().pendingApprovals.filter(_e=>_e.request_id!==Ue.request_id));continue}if(tt.type==="error"){const _e=tt.message||"An error occurred",xe=le.getState().chatItems;N(xe.map($e=>$e.id===me.id&&$e.type==="message"?{...$e,content:[{type:"text",text:ce.current||_e}],status:"incomplete"}:$e)),S(!1);return}if(tt.type==="response.output_text.delta"&&"delta"in tt&&tt.delta){ce.current+=tt.delta;const Ue=le.getState().chatItems;N(Ue.map(_e=>_e.id===me.id&&_e.type==="message"?{..._e,content:[{type:"text",text:ce.current}],status:"in_progress"}:_e))}}const Se=V.current,Ke=le.getState().chatItems;N(Ke.map(tt=>tt.id===me.id&&tt.type==="message"?{...tt,status:"completed",usage:Se||void 0}:tt)),S(!1),Se&&E(Se.total_tokens),V.current=null}catch(Me){const je=le.getState().chatItems;N(je.map(Se=>Se.id===me.id&&Se.type==="message"?{...Se,content:[{type:"text",text:`Error resuming stream: ${Me instanceof Error?Me.message:"Unknown error"}`}],status:"incomplete"}:Se)),S(!1)}},K=async()=>{if(e){A(!0);try{try{const{data:we}=await Ze.listConversations(e.id);if(j(we),we.length>0){const Me=we[0];b(Me);try{let je=[],Se=!0,Ke,tt=[];for(;Se;){const _e=await Ze.listConversationItems(Me.id,{order:"asc",after:Ke});je=je.concat(_e.data),Se=_e.has_more,_e.metadata?.traces&&_e.metadata.traces.length>0&&(tt=_e.metadata.traces),Se&&_e.data.length>0&&(Ke=_e.data[_e.data.length-1].id)}if(N(je),S(!1),tt.length>0){n("clear");for(const _e of tt)n({type:"response.trace.completed",data:_e,sequence_number:0})}const Ue=Na(Me.id);if(Ue&&!Ue.completed){ce.current=Ue.accumulatedText||"";const _e={id:Ue.lastMessageId||`assistant-${Date.now()}`,type:"message",role:"assistant",content:Ue.accumulatedText?[{type:"text",text:Ue.accumulatedText}]:[],status:"in_progress"};N([...je,_e]),S(!0),setTimeout(()=>{re(_e,Me,e)},100)}setTimeout(()=>{Y.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${Me.id}, starting fresh`),N([]),S(!1)}return}}catch{}const me=`devui_convs_${e.id}`,be=localStorage.getItem(me);if(be)try{const we=JSON.parse(be);if(we.length>0)try{await Ze.listConversationItems(we[0].id),j(we),b(we[0]),N([]),S(!1);return}catch{console.debug(`Cached conversation ${we[0].id} no longer exists, clearing cache`),localStorage.removeItem(me)}}catch{localStorage.removeItem(me)}const Ce=await Ze.createConversation({agent_id:e.id});b(Ce),j([Ce]),N([]),S(!1),P(null),localStorage.setItem(me,JSON.stringify([Ce]))}catch(me){j([]),N([]),S(!1);const be=me instanceof Error?me.message:"Failed to create conversation";P({message:be,type:"conversation_creation_error"})}finally{A(!1)}}};N([]),S(!1),b(void 0),ce.current="",K()},[e,n,N,S,A,j,b,M,E]);const fe=w.useCallback(async()=>{if(e)try{const re=await Ze.createConversation({agent_id:e.id});b(re),j([re,...le.getState().availableConversations]),N([]),S(!1),P(null),le.setState({conversationUsage:{total_tokens:0,message_count:0}}),ce.current="",n("clear");const K=`devui_convs_${e.id}`,me=[re,...a];localStorage.setItem(K,JSON.stringify(me))}catch(re){const K=re instanceof Error?re.message:"Failed to create conversation";P({message:K,type:"conversation_creation_error"})}},[e,n,b,j,N,S]),ee=w.useCallback(async(re,K)=>{if(K&&(K.preventDefault(),K.stopPropagation()),!!confirm("Delete this conversation? This cannot be undone."))try{if(await Ze.deleteConversation(re)){const be=a.filter(Ce=>Ce.id!==re);if(j(be),r?.id===re)if(be.length>0){const Ce=be[0];b(Ce),N([]),S(!1)}else b(void 0),N([]),S(!1),le.setState({conversationUsage:{total_tokens:0,message_count:0}}),ce.current="";n("clear")}}catch{alert("Failed to delete conversation. Please try again.")}},[a,r,n,j,b,N,S]),ie=w.useCallback(async()=>{if(q||!e)return;Z(!0);const re=le.getState().addToast,K=le.getState().updateAgent;try{await Ze.reloadEntity(e.id);const me=await Ze.getAgentInfo(e.id);K(me),re({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(me){const be=me instanceof Error?me.message:"Failed to reload entity";re({message:`Failed to reload: ${be}`,type:"error",duration:6e3})}finally{Z(!1)}},[q,e]),ge=w.useCallback(async re=>{const K=a.find(me=>me.id===re);if(K){b(K),n("clear");try{let me=[],be=!0,Ce,we=[];for(;be;){const Se=await Ze.listConversationItems(re,{order:"asc",after:Ce});me=me.concat(Se.data),be=Se.has_more,Se.metadata?.traces&&Se.metadata.traces.length>0&&(we=Se.metadata.traces),be&&Se.data.length>0&&(Ce=Se.data[Se.data.length-1].id)}const Me=me;if(N(Me),S(!1),we.length>0)for(const Se of we)n({type:"response.trace.completed",data:Se,sequence_number:0});le.setState({conversationUsage:{total_tokens:0,message_count:Me.length}});const je=Na(re);if(je?.accumulatedText){ce.current=je.accumulatedText;const Se={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"output_text",text:je.accumulatedText}],status:"in_progress"};N([...Me,Se]),S(!0)}setTimeout(()=>{Y.current?.scrollIntoView({behavior:"smooth"})},100)}catch{console.debug(`No items found for conversation ${re}, starting with empty chat`),N([]),S(!1),le.setState({conversationUsage:{total_tokens:0,message_count:0}})}ce.current=""}},[a,n,b,N,S]),Ee=async(re,K)=>{const me=g.find(Se=>Se.request_id===re);if(!me)return;const be=Math.floor(Date.now()/1e3),Ce={id:`user-approval-${Date.now()}`,type:"message",role:"user",content:[{type:"function_approval_request",request_id:re,status:K?"approved":"rejected",function_call:me.function_call}],status:"completed",created_at:be},we=le.getState().chatItems;N([...we,Ce]);const je={input:[{type:"message",role:"user",content:[{type:"function_approval_response",request_id:re,approved:K,function_call:me.function_call}]}],conversation_id:r?.id};return M(le.getState().pendingApprovals.filter(Se=>Se.request_id!==re)),je},Ne=w.useCallback(async re=>{if(!e)return;const K=re.input.some(we=>we.type==="message"&&Array.isArray(we.content)&&we.content.some(Me=>Me.type==="function_approval_response")),me=[];for(const we of re.input)if(we.type==="message"&&Array.isArray(we.content)){for(const Me of we.content)if(Me.type==="input_text")me.push({type:"text",text:Me.text});else if(Me.type==="input_image")me.push({type:"input_image",image_url:Me.image_url||"",detail:"auto"});else if(Me.type==="input_file"){const je=Me;me.push({type:"input_file",file_data:je.file_data,filename:je.filename})}}const be=Math.floor(Date.now()/1e3);if(!K&&me.length>0){const we={id:`user-${Date.now()}`,type:"message",role:"user",content:me,status:"completed",created_at:be};N([...le.getState().chatItems,we])}S(!0);const Ce={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[],status:"in_progress",created_at:be};N([...le.getState().chatItems,Ce]);try{let we=r;if(!we)try{we=await Ze.createConversation({agent_id:e.id}),b(we),j([we,...le.getState().availableConversations]),P(null)}catch(Ue){const _e=Ue instanceof Error?Ue.message:"Failed to create conversation";P({message:_e,type:"conversation_creation_error"}),_(!1),S(!1);return}we?.id&&Ze.clearStreamingState(we.id);const Me={input:re.input,conversation_id:we?.id};ce.current="";const je=U(),Se=Ze.streamAgentExecutionOpenAI(e.id,Me,je);for await(const Ue of Se){if(n(Ue),Ue.type==="response.completed"){const xe=Ue.response?.usage;xe&&(V.current={input_tokens:xe.input_tokens,output_tokens:xe.output_tokens,total_tokens:xe.total_tokens});continue}if(Ue.type==="response.failed"){const xe=Ue.response?.error;let $e="Request failed";xe&&(typeof xe=="object"&&"message"in xe?($e=xe.message,"code"in xe&&xe.code&&($e+=` (Code: ${xe.code})`)):typeof xe=="string"&&($e=xe));const Ge=le.getState().chatItems;N(Ge.map(qt=>qt.id===Ce.id&&qt.type==="message"?{...qt,content:[{type:"text",text:ce.current||$e}],status:"incomplete"}:qt)),S(!1);return}if(Ue.type==="response.function_approval.requested"){const _e=Ue;M([...le.getState().pendingApprovals,{request_id:_e.request_id,function_call:_e.function_call}]);const xe=le.getState().chatItems;N(xe.map($e=>$e.id===Ce.id&&$e.type==="message"?{...$e,content:[...$e.content,{type:"function_approval_request",request_id:_e.request_id,status:"pending",function_call:_e.function_call}],status:"in_progress"}:$e));continue}if(Ue.type==="response.function_call_arguments.delta"){const _e=Ue,xe=le.getState().chatItems;N(xe.map($e=>$e.type==="function_call"&&$e.call_id===_e.item_id?{...$e,arguments:($e.arguments||"")+(_e.delta||"")}:$e));continue}if(Ue.type==="response.function_result.complete"){const _e=Ue,xe={id:`result-${Date.now()}`,type:"function_call_output",call_id:_e.call_id,output:_e.output,status:_e.status==="completed"?"completed":"incomplete",created_at:Math.floor(Date.now()/1e3)},$e=le.getState().chatItems;N([...$e,xe]);continue}if(Ue.type==="error"){const xe=Ue.message||"An error occurred",$e=le.getState().chatItems;N($e.map(Ge=>Ge.id===Ce.id&&Ge.type==="message"?{...Ge,content:[{type:"text",text:xe}],status:"incomplete"}:Ge)),S(!1);return}if(Ue.type==="response.output_item.added"){const xe=Ue.item;if(xe.type==="function_call"){const Ge=xe,qt={id:Ge.id||`call-${Date.now()}`,type:"function_call",name:Ge.name,arguments:Ge.arguments||"",call_id:Ge.call_id,status:Ge.status||"in_progress",created_at:Math.floor(Date.now()/1e3)},rn=le.getState().chatItems;N([...rn,qt]);continue}const $e=le.getState().chatItems;N($e.map(Ge=>{if(Ge.id===Ce.id&&Ge.type==="message"){const qt=Ge.content;let rn=null;if(xe.type==="output_image"?rn={type:"output_image",image_url:xe.image_url,alt_text:xe.alt_text,mime_type:xe.mime_type}:xe.type==="output_file"?rn={type:"output_file",filename:xe.filename,file_url:xe.file_url,file_data:xe.file_data,mime_type:xe.mime_type}:xe.type==="output_data"&&(rn={type:"output_data",data:xe.data,mime_type:xe.mime_type,description:xe.description}),rn)return{...Ge,content:[...qt,rn],status:"in_progress"}}return Ge}));continue}if(Ue.type==="response.output_text.delta"&&"delta"in Ue&&Ue.delta){ce.current+=Ue.delta;const _e=le.getState().chatItems;N(_e.map(xe=>{if(xe.id===Ce.id&&xe.type==="message"){const $e=xe.content.filter(Ge=>Ge.type!=="text");return{...xe,content:[...$e,{type:"text",text:ce.current}],status:"in_progress"}}return xe}))}}const Ke=V.current,tt=le.getState().chatItems;N(tt.map(Ue=>Ue.id===Ce.id&&Ue.type==="message"?{...Ue,status:"completed",usage:Ke||void 0}:Ue)),S(!1),Ke&&E(Ke.total_tokens),V.current=null}catch(we){if(Wu(we)){G(!0);const Me=le.getState().chatItems;N(Me.map(je=>je.id===Ce.id&&je.type==="message"?{...je,status:ce.current?"completed":"incomplete",content:je.content}:je))}else{const Me=le.getState().chatItems;N(Me.map(je=>je.id===Ce.id&&je.type==="message"?{...je,content:[{type:"text",text:`Error: ${we instanceof Error?we.message:"Failed to get response"}`}],status:"incomplete"}:je))}S(!1),k()}},[e,r,n,N,S,b,j,M,E,U,k]),ve=w.useCallback(async re=>{if(!e)return;const K=re.input.some(Ce=>Ce.type==="message"&&Array.isArray(Ce.content)&&Ce.content.some(we=>we.type==="function_approval_response")),me=[];for(const Ce of re.input)if(Ce.type==="message"&&Array.isArray(Ce.content)){for(const we of Ce.content)if(we.type==="input_text")me.push({type:"text",text:we.text});else if(we.type==="input_image")me.push({type:"input_image",image_url:we.image_url||"",detail:"auto"});else if(we.type==="input_file"){const Me=we;me.push({type:"input_file",file_data:Me.file_data,filename:Me.filename})}}const be=Math.floor(Date.now()/1e3);if(!K&&me.length>0){const Ce={id:`user-${Date.now()}`,type:"message",role:"user",content:me,status:"completed",created_at:be};N([...le.getState().chatItems,Ce])}_(!0);try{let Ce=r;if(!Ce)try{Ce=await Ze.createConversation({agent_id:e.id}),b(Ce),j([Ce,...le.getState().availableConversations]),P(null)}catch(_e){const xe=_e instanceof Error?_e.message:"Failed to create conversation";P({message:xe,type:"conversation_creation_error"}),_(!1);return}const we=await Ze.runAgentSync(e.id,{input:re.input,conversation_id:Ce?.id}),Me=[],je=[],Se=[];if(we.output){for(const _e of we.output)if(_e.type==="message"){const xe=_e;if(xe.content)for(const $e of xe.content)$e.type==="output_text"?Me.push({type:"text",text:$e.text}):($e.type==="output_image"||$e.type==="output_file"||$e.type==="output_data")&&Me.push($e)}else if(_e.type==="function_call"){const xe=_e;je.push({id:xe.id||`call-${Date.now()}`,type:"function_call",name:xe.name,arguments:xe.arguments||"",call_id:xe.call_id,status:xe.status||"completed",created_at:be})}else if(_e.type==="function_call_output"){const xe=_e;Se.push({id:`result-${Date.now()}`,type:"function_call_output",call_id:xe.call_id,output:xe.output,status:"completed",created_at:be})}}const Ke={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:Me,status:"completed",created_at:be,usage:we.usage?{input_tokens:we.usage.input_tokens,output_tokens:we.usage.output_tokens,total_tokens:we.usage.total_tokens}:void 0},Ue=[...le.getState().chatItems,Ke,...je,...Se];N(Ue),we.usage&&E(we.usage.total_tokens),n({type:"response.completed",response:we,sequence_number:0})}catch(Ce){const we=Ce instanceof Error?Ce.message:"Failed to get response",Me={id:`assistant-${Date.now()}`,type:"message",role:"assistant",content:[{type:"text",text:`Error: ${we}`}],status:"incomplete",created_at:be},je=le.getState().chatItems;N([...je,Me])}finally{_(!1)}},[e,r,n,N,b,j,E,_]),ze=async re=>{if(!(!e||re.length===0)){J.current=!0,G(!1),_(!0);try{const me={input:[{type:"message",role:"user",content:re}],conversation_id:r?.id};x?await Ne(me):await ve(me)}finally{_(!1)}}};return o.jsxs("div",{className:"flex h-[calc(100vh-3.5rem)] flex-col relative",...C,children:[L&&o.jsx("div",{className:"absolute inset-0 z-50 bg-blue-50/95 dark:bg-blue-950/95 backdrop-blur-sm flex items-center justify-center border-2 border-dashed border-blue-400 dark:border-blue-500 rounded-lg m-2",children:o.jsxs("div",{className:"text-center p-8",children:[o.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-lg font-medium mb-2",children:"Drop files here"}),o.jsx("div",{className:"text-blue-500/80 dark:text-blue-400/70 text-sm",children:"Images, PDFs, audio, and other files"})]})}),o.jsxs("div",{className:"border-b pb-2  p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vs,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:y.enabled?`Chat with ${y.model}`:`Chat with ${e.name||e.id}`})]})}),!y.enabled&&m==="developer"&&o.jsxs(o.Fragment,{children:[o.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>D(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View agent details",children:o.jsx(Fs,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Le,{variant:"ghost",size:"sm",onClick:ie,disabled:q,className:"h-6 w-6 p-0 flex-shrink-0",title:q?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(cg,{className:`h-4 w-4 ${q?"animate-spin":""}`})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(Id,{value:r?.id||"",onValueChange:ge,disabled:f||d,children:[o.jsx($d,{className:"w-full sm:w-64",children:o.jsx(Ld,{placeholder:f?"Loading...":a.length===0?"No conversations":r?`Conversation ${r.id.slice(-8)}`:"Select conversation",children:r&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsxs("span",{children:["Conversation ",r.id.slice(-8)]}),h.total_tokens>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"text-muted-foreground",children:[h.total_tokens>=1e3?`${(h.total_tokens/1e3).toFixed(1)}k`:h.total_tokens," ","tokens"]})]})]})})}),o.jsx(Hd,{children:a.map(re=>o.jsx(Pd,{value:re.id,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("span",{children:["Conversation ",re.id.slice(-8)]}),re.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground ml-3",children:new Date(re.created_at*1e3).toLocaleDateString()})]})},re.id))})]}),o.jsx(Le,{variant:"outline",size:"icon",onClick:()=>r&&ee(r.id),disabled:!r||d,title:r?`Delete Conversation ${r.id.slice(-8)}`:"No conversation selected",children:o.jsx(dg,{className:"h-4 w-4"})}),o.jsxs(Le,{variant:"outline",size:"lg",onClick:fe,disabled:!e||d,className:"whitespace-nowrap ",children:[o.jsx(lg,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"hidden md:inline",children:" New Conversation"})]})]})]}),y.enabled?o.jsx("p",{className:"text-sm text-muted-foreground",children:"Using OpenAI model directly. Local agent tools and instructions are not applied."}):e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),O&&o.jsxs("div",{className:"mx-4 mt-2 p-3 bg-destructive/10 border border-destructive/30 rounded-md flex items-start gap-2",children:[o.jsx(hs,{className:"h-4 w-4 text-destructive mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-destructive",children:"Failed to Create Conversation"}),o.jsx("div",{className:"text-xs text-destructive/90 mt-1 break-words",children:O.message}),O.code&&o.jsxs("div",{className:"text-xs text-destructive/70 mt-1",children:["Error Code: ",O.code]})]}),o.jsx("button",{onClick:()=>P(null),className:"text-destructive hover:text-destructive/80 flex-shrink-0",title:"Dismiss error",children:o.jsx(ka,{className:"h-4 w-4"})})]}),o.jsx(Kn,{className:"flex-1 p-4 h-0",ref:H,children:o.jsxs("div",{className:"space-y-4",children:[l.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[o.jsxs("div",{className:"text-muted-foreground text-sm",children:["Start a conversation with"," ",e.name||e.id]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Type a message below to begin"})]}):(()=>{const re=[],K=new Map,me=new Map;let be=null;const Ce=[],we=[];for(let Me=0;Me<l.length;Me++){const je=l[Me];if(je.type==="message"&&je.role==="assistant"){if(K.has(je.id)||(K.set(je.id,[]),me.set(je.id,[])),Ce.length>0){const Se=K.get(je.id)||[];Se.push(...Ce),K.set(je.id,Se),Ce.length=0}if(we.length>0){const Se=me.get(je.id)||[];Se.push(...we),me.set(je.id,Se),we.length=0}be=je.id}else if(je.type==="function_call")if(be){const Se=K.get(be)||[];Se.push(je),K.set(be,Se)}else Ce.push(je);else if(je.type==="function_call_output")if(be){const Se=me.get(be)||[];Se.push(je),me.set(be,Se)}else we.push(je);else je.type==="message"&&je.role==="user"&&(be=null)}for(const Me of l)if(Me.type==="message"){const je=K.get(Me.id)||[],Se=me.get(Me.id)||[];re.push(o.jsx(c6,{item:Me,toolCalls:je,toolResults:Se},Me.id))}return re})(),Q&&!c&&o.jsx("div",{className:"px-4 py-2",children:o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(Nd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Response stopped by user"})]})})}),o.jsx("div",{ref:Y})]})}),g.length>0&&o.jsx("div",{className:"border-t bg-amber-50 dark:bg-amber-950/20 p-4 flex-shrink-0",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(hs,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-sm mb-2",children:"Approval Required"}),o.jsx("div",{className:"space-y-2",children:g.map(re=>o.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 border border-amber-200 dark:border-amber-900",children:[o.jsxs("div",{className:"font-mono text-xs mb-3 break-all",children:[o.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:re.function_call.name}),o.jsx("span",{className:"text-gray-500",children:"("}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:JSON.stringify(re.function_call.arguments)}),o.jsx("span",{className:"text-gray-500",children:")"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Le,{size:"sm",onClick:async()=>{const K=await Ee(re.request_id,!0);K&&await Ne(K)},variant:"default",className:"flex-1 sm:flex-none",children:[o.jsx(_o,{className:"h-4 w-4 mr-1"}),"Approve"]}),o.jsxs(Le,{size:"sm",onClick:async()=>{const K=await Ee(re.request_id,!1);K&&await Ne(K)},variant:"outline",className:"flex-1 sm:flex-none",children:[o.jsx(ka,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]},re.request_id))})]})]})}),o.jsx("div",{className:"border-t flex-shrink-0",children:o.jsx("div",{className:"p-4",children:o.jsx(jg,{onSubmit:ze,isSubmitting:d,isStreaming:c,onCancel:B,isCancelling:ne,placeholder:`Message ${e.name||e.id}... (Shift+Enter for new line)`,showFileUpload:!0,entityName:e.name||e.id,disabled:!e,externalFiles:I,onExternalFilesProcessed:$})})}),o.jsx(l6,{agent:e,open:R,onOpenChange:D})]})}function mb({message:e="Loading...",description:n,size:r="md",className:a,fullPage:l=!1}){const c=o.jsxs("div",{className:We("flex flex-col items-center justify-center gap-3",l?"min-h-[50vh]":"py-8",a),children:[o.jsx(Yu,{size:r,className:"text-muted-foreground"}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("p",{className:We("font-medium text-muted-foreground",r==="sm"&&"text-sm",r==="lg"&&"text-lg"),children:e}),n&&o.jsx("p",{className:"text-sm text-muted-foreground/80",children:n})]})]});return l?o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:c}):c}function d6(e){return["name","title","id","key","label","type","status","tag","category","code","username","password"].includes(e.toLowerCase())}function Sr({name:e,schema:n,value:r,onChange:a,isRequired:l=!1}){const{type:c,description:d,enum:f,default:m}=n,h=n.format==="textarea"||d&&d.length>100||c==="string"&&!f&&!d6(e),g=h||d&&d.length>150,y=h||d&&d.length>80||c==="array",x=(()=>{switch(c){case"string":return f?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(Id,{value:typeof r=="string"&&r?r:typeof m=="string"?m:f[0],onValueChange:j=>a(j),children:[o.jsx($d,{children:o.jsx(Ld,{placeholder:`Select ${e}`})}),o.jsx(Hd,{children:f.map(j=>o.jsx(Pd,{value:j,children:j},j))})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):h||d&&d.length>100?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`,rows:h?4:2,className:"min-w-[300px] w-full"}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Ln,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:j=>a(j.target.value),placeholder:typeof m=="string"?m:`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Ln,{id:e,type:"number",value:typeof r=="number"?r:"",onChange:j=>{const N=parseFloat(j.target.value);a(isNaN(N)?"":N)},placeholder:typeof m=="number"?m.toString():`Enter ${e}`}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kr,{id:e,checked:!!r,onCheckedChange:j=>a(j)}),o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:j=>{const N=j.target.value.split(",").map(S=>S.trim()).filter(S=>S.length>0);a(N)},placeholder:"Enter items separated by commas",rows:2}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:j=>{try{const N=JSON.parse(j.target.value);a(N)}catch{a(j.target.value)}},placeholder:'{"key": "value"}',rows:3}),d&&o.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})}})(),b=()=>g?"md:col-span-2 lg:col-span-3 xl:col-span-4":y?"xl:col-span-2":"";return o.jsx("div",{className:b(),children:x})}function f6({inputSchema:e,inputTypeName:n,onSubmit:r,isSubmitting:a=!1,className:l}){const[c,d]=w.useState(!1),[f,m]=w.useState(!1),h=l?.includes("embedded"),[g,y]=w.useState({}),[x,b]=w.useState(!1),j=e.properties||{},N=Object.keys(j),S=e.required||[],_=e.type==="string"&&!e.enum,A=N.filter(k=>!S.includes(k)),E=S.includes("role")&&A.some(k=>["text","message","content"].includes(k))&&j.role?.type==="string",M=N.filter(k=>S.includes(k)&&!(E&&k==="role")),R=A,D=E?[...R].sort((k,L)=>{const I=$=>["text","message","content"].includes($)?1:0;return I(L)-I(k)}):R,P=Math.max(0,(E?1:6)-M.length),q=D.slice(0,P),Z=D.slice(P),Q=Z.length>0,G=M.length>0,ne=_?g.value!==void 0&&g.value!=="":S.length>0?S.every(k=>E&&k==="role"&&g.role==="user"?!0:g[k]!==void 0&&g[k]!==""):Object.keys(g).length>0;w.useEffect(()=>{if(e.type==="string")y({value:e.default||""});else if(e.type==="object"&&e.properties){const k={};Object.entries(e.properties).forEach(([L,I])=>{I.default!==void 0?k[L]=I.default:I.enum&&I.enum.length>0&&(k[L]=I.enum[0])}),E&&!k.role&&(k.role="user"),y(k)}},[e,E]);const U=k=>{if(k.preventDefault(),b(!0),e.type==="string")r({input:g.value||""});else if(e.type==="object"){const L=e.properties||{},I=Object.keys(L);if(I.length===1){const $=I[0];r({[$]:g[$]||""})}else{const $={};Object.keys(g).forEach(C=>{const H=g[C];(S.includes(C)||H!==void 0&&H!==""&&H!==null)&&($[C]=H)}),r($)}}else r(g);h||d(!1),b(!1)},B=(k,L)=>{y(I=>({...I,[k]:L}))};return h?o.jsxs("form",{onSubmit:U,className:l,children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_&&o.jsx(Sr,{name:"Input",schema:e,value:g.value,onChange:k=>B("value",k),isRequired:!1}),!_&&o.jsxs(o.Fragment,{children:[M.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"sm:col-span-2 border-t border-border my-2"}),q.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!1},k)),Q&&o.jsx("div",{className:"sm:col-span-2",children:o.jsx(Le,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Bu,{className:"h-4 w-4"}),"Hide ",Z.length," optional field",Z.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Et,{className:"h-4 w-4"}),"Show ",Z.length," optional field",Z.length!==1?"s":""]})})}),f&&Z.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!1},k))]})]}),o.jsx("div",{className:"flex gap-2 mt-4 justify-end",children:o.jsxs(Le,{type:"submit",disabled:x||!ne,size:"default",children:[o.jsx(nl,{className:"h-4 w-4"}),x?"Running...":"Run Workflow"]})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:We("flex flex-col",l),children:[o.jsxs("div",{className:"border-b border-border px-4 py-3 bg-muted",children:[o.jsx(N2,{className:"text-sm mb-3",children:"Run Workflow"}),o.jsxs(Le,{onClick:()=>d(!0),disabled:a,className:"w-full",size:"default",children:[o.jsx(nl,{className:"h-4 w-4 mr-2"}),a?"Running...":"Run Workflow"]})]}),o.jsxs("div",{className:"px-4 py-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Input Type:"})," ",o.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:n}),e.type==="object"&&e.properties&&o.jsxs("span",{className:"ml-2",children:["(",Object.keys(e.properties).length," field",Object.keys(e.properties).length!==1?"s":"",")"]})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:'Click "Run Workflow" to configure inputs and execute'})]})]}),o.jsx($r,{open:c,onOpenChange:d,children:o.jsxs(Hr,{className:"w-full max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Pr,{children:[o.jsx(Br,{children:"Run Workflow"}),o.jsx(Eo,{onClose:()=>d(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx("code",{className:"bg-muted px-3 py-1 text-xs font-mono",children:n}),e.type==="object"&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.length," field",N.length!==1?"s":""]})]})})}),o.jsx("div",{className:"px-8 py-6 overflow-y-auto flex-1 min-h-0",children:o.jsx("form",{id:"workflow-modal-form",onSubmit:U,children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8 max-w-none",children:[_&&o.jsxs("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:[o.jsx(Sr,{name:"Input",schema:e,value:g.value,onChange:k=>B("value",k),isRequired:!1}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.description})]}),!_&&o.jsxs(o.Fragment,{children:[M.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!0},k)),G&&R.length>0&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx("div",{className:"border-t border-border"})}),q.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!1},k)),Q&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Le,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Bu,{className:"h-4 w-4"}),"Hide ",Z.length," optional field",Z.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Et,{className:"h-4 w-4"}),"Show ",Z.length," optional field",Z.length!==1?"s":""]})})}),f&&Z.map(k=>o.jsx(Sr,{name:k,schema:j[k],value:g[k],onChange:L=>B(k,L),isRequired:!1},k))]})]})})}),o.jsx("div",{className:"px-8 py-4 border-t flex-shrink-0",children:o.jsxs(OR,{children:[o.jsx(Le,{variant:"outline",onClick:()=>d(!1),disabled:x,children:"Cancel"}),o.jsxs(Le,{type:"submit",form:"workflow-modal-form",disabled:x||!ne,children:[o.jsx(nl,{className:"h-4 w-4 mr-2"}),x?"Running...":"Run Workflow"]})]})})]})})]})}function m6(e,n,r="LR"){if(e.length===0)return e;if(e.length===1)return e.map(j=>({...j,position:{x:0,y:0}}));const a=new Map,l=new Map;e.forEach(j=>{a.set(j.id,[]),l.set(j.id,[])}),n.forEach(j=>{a.get(j.source)?.push(j.target),l.get(j.target)?.push(j.source)});const c=e.filter(j=>(l.get(j.id)||[]).length===0);c.length===0&&c.push(e[0]);const d=220,f=120,m=r==="LR"?350:280,h=r==="TB"?250:180,g=new Map,y=new Map,x=[],b=new Set;for(c.forEach(j=>{x.push({nodeId:j.id,level:0})});x.length>0;){const{nodeId:j,level:N}=x.shift();if(b.has(j))continue;b.add(j),y.has(N)||y.set(N,[]),y.get(N).push(j),(a.get(j)||[]).forEach(_=>{b.has(_)||x.push({nodeId:_,level:N+1})})}return e.forEach(j=>{if(!b.has(j.id)){const S=Math.max(...Array.from(y.keys()),-1)+1;y.has(S)||y.set(S,[]),y.get(S).push(j.id)}}),y.forEach((j,N)=>{const S=j.length;j.forEach((_,A)=>{let E,M;r==="LR"?(E=N*m,M=-((S-1)*h)/2+A*h):(M=N*h,E=-((S-1)*m)/2+A*m),g.set(_,{x:E,y:M,level:N})})}),e.map(j=>{const N=g.get(j.id)||{x:0,y:0};return{...j,position:{x:N.x-d/2,y:N.y-f/2}}})}function h6(e){if(typeof e!="object"||e===null)return!1;const n=e;return"id"in n&&"edge_groups"in n&&"executors"in n&&"start_executor_id"in n&&"max_iterations"in n&&typeof n.id=="string"&&Array.isArray(n.edge_groups)&&typeof n.executors=="object"&&typeof n.start_executor_id=="string"&&typeof n.max_iterations=="number"}function J2(e){return h6(e)?e:null}function ej(e){if(!e||e.type!=="object"||!e.properties)return!1;const n=e.properties,r="text"in n&&n.text?.type==="string",a="role"in n&&n.role?.type==="string";return!!(r&&a||Object.keys(n).length===1&&r)}function Tu(e,n=50,r="..."){return e.length<=n?e:e.substring(0,n)+r}function xp(e,n,r){if(!e)return console.warn("convertWorkflowDumpToNodes: workflowDump is undefined"),[];const a=J2(e);let l,c;return a?(l=Object.values(a.executors).map(f=>({id:f.id,type:f.type,name:f.name||f.id,description:f.description,config:f.config})),c=a.start_executor_id):(l=tj(e),c=e?.start_executor_id),!l||!Array.isArray(l)||l.length===0?(console.warn("No executors found in workflow dump. Available keys:",Object.keys(e)),[]):l.map(f=>({id:f.id,type:"executor",position:{x:0,y:0},data:{executorId:f.id,executorType:f.type,name:f.name||f.id,state:"pending",isStartNode:f.id===c,layoutDirection:r||"LR",onNodeClick:n}}))}function yp(e){if(!e)return console.warn("convertWorkflowDumpToEdges: workflowDump is undefined"),[];const n=J2(e);let r;return n?(r=[],n.edge_groups.forEach(l=>{l.edges.forEach(c=>{r.push({source:c.source_id,target:c.target_id,condition:c.condition_name})})})):r=nj(e),!r||!Array.isArray(r)||r.length===0?(console.warn("No connections found in workflow dump. Available keys:",Object.keys(e)),[]):r.map(l=>{const c=l.source===l.target;return{id:`${l.source}-${l.target}`,source:l.source,target:l.target,sourceHandle:"source",targetHandle:"target",type:c?"selfLoop":"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}})}function tj(e){if(e.executors&&typeof e.executors=="object"&&!Array.isArray(e.executors)){const a=e.executors;return Object.entries(a).map(([l,c])=>({id:l,type:c.type_||c.type||"executor",name:c.name||l,description:c.description,config:c.config}))}const n=["executors","agents","steps","nodes"];for(const a of n)if(e[a]&&Array.isArray(e[a]))return e[a];if(e.config&&typeof e.config=="object")return tj(e.config);const r=[];return Object.entries(e).forEach(([a,l])=>{if(typeof l=="object"&&l!==null&&("type"in l||"type_"in l)){const c=l;r.push({id:a,type:c.type_||c.type||"executor",name:c.name||a,description:c.description,config:c.config})}}),r}function nj(e){if(e.edge_groups&&Array.isArray(e.edge_groups)){const r=[];return e.edge_groups.forEach(a=>{if(typeof a=="object"&&a!==null&&"edges"in a){const l=a.edges;Array.isArray(l)&&l.forEach(c=>{if(typeof c=="object"&&c!==null&&"source_id"in c&&"target_id"in c){const d=c;r.push({source:d.source_id,target:d.target_id,condition:d.condition_name||void 0})}})}}),r}const n=["connections","edges","transitions","links"];for(const r of n)if(e[r]&&Array.isArray(e[r]))return e[r];return e.config&&typeof e.config=="object"?nj(e.config):[]}function vp(e,n,r="LR"){return m6(e,n,r)}function p6(e,n){const r={};let a=!1;const l={};return e.forEach(c=>{if(c.type==="response.output_item.added"||c.type==="response.output_item.done"){const f=c.item;if(f&&f.type==="executor_action"&&"executor_id"in f){const m=f.executor_id,h=f.id;if(c.type==="response.output_item.added"&&(l[m]=h),!(l[m]===h)&&c.type==="response.output_item.done")return;let y="pending",x;c.type==="response.output_item.added"?y="running":c.type==="response.output_item.done"&&(f.status==="completed"?y="completed":f.status==="failed"?(y="failed",x=f.error?typeof f.error=="string"?f.error:JSON.stringify(f.error):"Execution failed"):f.status==="cancelled"&&(y="cancelled")),r[m]={nodeId:m,state:y,data:f.result,error:x,timestamp:new Date().toISOString()}}}else if(c.type==="response.created"||c.type==="response.in_progress")a=!0;else if(c.type==="response.workflow_event.completed"&&"data"in c&&c.data){const f=c.data,m=f.executor_id,h=f.event_type,g=f.data;let y="pending",x;h==="ExecutorInvokedEvent"?y="running":h==="ExecutorCompletedEvent"?y="completed":h?.includes("Error")||h?.includes("Failed")?(y="failed",x=typeof g=="string"?g:"Execution failed"):h?.includes("Cancel")?y="cancelled":h==="WorkflowCompletedEvent"||h==="WorkflowOutputEvent"?y="completed":h==="WorkflowStartedEvent"&&(a=!0),m&&(r[m]={nodeId:m,state:y,data:g,error:x,timestamp:new Date().toISOString()})}}),a&&n&&!r[n]&&(e.some(d=>{if(d.type==="response.output_item.done"){const m=d.item;return m&&m.type==="executor_action"&&"executor_id"in m&&m.executor_id===n}if(d.type==="response.workflow_event.completed"&&"data"in d&&d.data){const f=d.data;return f.executor_id===n&&(f.event_type==="ExecutorCompletedEvent"||f.event_type==="ExecutorFailedEvent"||typeof f.event_type=="string"&&f.event_type.includes("Error")||typeof f.event_type=="string"&&f.event_type.includes("Failed"))}return!1})||(r[n]={nodeId:n,state:"running",data:void 0,error:void 0,timestamp:new Date().toISOString()})),r}function g6(e,n,r=!0){return e.map(a=>{const l=n[a.id];return l?{...a,data:{...a.data,state:l.state,outputData:l.data,error:l.error,isStreaming:r,layoutDirection:a.data.layoutDirection}}:a})}function x6(e){const n={};return e.forEach(a=>{if(a.type==="response.output_item.added"||a.type==="response.output_item.done"){const c=a.item;if(c&&c.type==="executor_action"&&"executor_id"in c){const d=c.executor_id;n[d]={lastEvent:a.type==="response.output_item.added"?"ExecutorInvokedEvent":"ExecutorCompletedEvent",timestamp:new Date().toISOString()}}}else if(a.type==="response.workflow_event.completed"&&"data"in a&&a.data){const c=a.data,d=c.executor_id,f=c.event_type;d&&(f==="ExecutorInvokedEvent"||f==="ExecutorCompletedEvent")&&(n[d]={lastEvent:f,timestamp:new Date().toISOString()})}}),Object.entries(n).filter(([,a])=>a.lastEvent==="ExecutorInvokedEvent").map(([a])=>a)}function y6(e,n){const r=x6(n),a={};return n.forEach(l=>{if(l.type==="response.workflow_event.completed"&&"data"in l&&l.data){const d=l.data,f=d.executor_id,m=d.event_type;f&&m&&(a[f]||(a[f]={completed:!1,invoked:!1}),m==="ExecutorInvokedEvent"?a[f].invoked=!0:m==="ExecutorCompletedEvent"&&(a[f].completed=!0))}}),e.map(l=>{const c=a[l.source],d=a[l.target],f=r.includes(l.target);let m={...l.style},h=!1;return c?.completed&&f?(m={stroke:"#643FB2",strokeWidth:3,strokeDasharray:"5,5"},h=!0):c?.completed&&d?.completed?m={stroke:"#10b981",strokeWidth:2}:c?.completed&&d?.invoked?m={stroke:"#f59e0b",strokeWidth:2}:m={stroke:"#6b7280",strokeWidth:2},{...l,style:m,animated:h}})}function Oh(e){const n=new Map,r=new Set;return e.forEach(a=>{const l=`${a.source}-${a.target}`,c=`${a.target}-${a.source}`;if(a.source===a.target){n.set(l,a);return}if(n.has(c)){r.add(c),r.add(l);const d=n.get(c);n.set(c,{...d,markerStart:{type:"arrow",width:20,height:20},markerEnd:{type:"arrow",width:20,height:20},data:{...d.data,isBidirectional:!0}})}else r.has(l)||n.set(l,a)}),Array.from(n.values())}function sj({inputSchema:e,onRun:n,onCancel:r,isSubmitting:a,isCancelling:l=!1,workflowState:c,checkpoints:d=[],showCheckpoints:f=!0}){const[m,h]=w.useState(!1);w.useEffect(()=>{const R=D=>{D.key==="Escape"&&m&&h(!1)};if(m)return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[m]);const g=w.useMemo(()=>{const R=ej(e);if(!e)return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1};if(e.type==="string")return{needsInput:!e.default,hasDefaults:!!e.default,fieldCount:1,canRunDirectly:!!e.default,isChatMessage:!1};if(e.type==="object"&&e.properties){const D=e.properties,O=Object.entries(D),P=O.filter(([,q])=>q.default!==void 0||q.enum&&q.enum.length>0);return{needsInput:O.length>0,hasDefaults:P.length>0,fieldCount:O.length,canRunDirectly:O.length===0||P.length===O.length,isChatMessage:R}}return{needsInput:!1,hasDefaults:!1,fieldCount:0,canRunDirectly:!0,isChatMessage:!1}},[e]),y=()=>{if(c==="running"&&r)r();else if(g.canRunDirectly){const R={};e?.type==="string"&&e.default?R.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([D,O])=>{O.default!==void 0?R[D]=O.default:O.enum&&O.enum.length>0&&(R[D]=O.enum[0])}),n(R)}else h(!0)},x=R=>{if(g.canRunDirectly){const D={};e?.type==="string"&&e.default?D.input=e.default:e?.type==="object"&&e.properties&&Object.entries(e.properties).forEach(([O,P])=>{P.default!==void 0?D[O]=P.default:P.enum&&P.enum.length>0&&(D[O]=P.enum[0])}),n(D,R)}else h(!0)},b=f&&d.length>0,j=R=>{if(!R)return"";const D=R/1024;return D<1?`${R} B`:D<1024?`${D.toFixed(1)} KB`:`${(D/1024).toFixed(1)} MB`},N=()=>{const R=l?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):c==="running"&&r?o.jsx(Nd,{className:"w-4 h-4 fill-current"}):c==="running"?o.jsx(Ir,{className:"w-4 h-4 animate-spin"}):c==="error"?o.jsx(ug,{className:"w-4 h-4"}):g.needsInput&&!g.canRunDirectly?o.jsx(ip,{className:"w-4 h-4"}):o.jsx(sb,{className:"w-4 h-4"}),D=l?"Stopping...":c==="running"&&r?"Stop":c==="running"?"Running...":c==="completed"?"Run Again":c==="error"?"Retry":g.fieldCount===0||g.canRunDirectly?"Run Workflow":"Configure & Run";return{icon:R,text:D}},{icon:S,text:_}=N(),A=c==="running"&&!r||l,E=c==="error"?"destructive":"default",M=()=>b||g.needsInput?o.jsxs(jd,{children:[o.jsxs("div",{className:"flex w-full",children:[o.jsxs(Le,{onClick:y,disabled:A,variant:E,className:"gap-2 rounded-r-none flex-1",title:c==="running"&&r?"Stop workflow execution":void 0,children:[S,_]}),o.jsx(Sd,{asChild:!0,children:o.jsx(Le,{disabled:A,variant:E,className:"rounded-l-none border-l-0 px-2",title:"More options",children:o.jsx(Et,{className:"w-4 h-4"})})})]}),o.jsxs(_d,{align:"end",className:"w-80 max-h-[400px] overflow-y-auto",children:[b&&o.jsxs($t,{onClick:y,children:[o.jsx(sb,{className:"w-4 h-4 mr-2"}),"Run Fresh"]}),g.needsInput&&o.jsxs($t,{onClick:()=>h(!0),children:[o.jsx(ip,{className:"w-4 h-4 mr-2"}),"Configure Inputs"]}),b&&o.jsxs(o.Fragment,{children:[o.jsx(wa,{}),o.jsx("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:"Resume from checkpoint"}),d.map((D,O)=>o.jsxs($t,{onClick:()=>x(D.checkpoint_id),className:"flex flex-col items-start py-2",children:[o.jsxs("div",{className:"flex items-center gap-2 w-full",children:[o.jsx(cg,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"font-medium",children:D.metadata.iteration_count===0?"Initial State":`Step ${D.metadata.iteration_count}`}),O===0&&o.jsx(ut,{variant:"secondary",className:"text-[10px] h-4 px-1 ml-auto",children:"Latest"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-6 mt-0.5",children:[o.jsx(ag,{className:"w-3 h-3"}),o.jsx("span",{children:new Date(D.timestamp).toLocaleTimeString()}),D.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:j(D.metadata.size_bytes)})]})]})]},D.checkpoint_id))]})]})]}):o.jsxs(Le,{onClick:y,disabled:A,variant:E,className:"gap-2 w-full",title:c==="running"&&r?"Stop workflow execution":void 0,children:[S,_]});return o.jsxs(o.Fragment,{children:[M(),e&&o.jsx($r,{open:m,onOpenChange:h,children:o.jsxs(Hr,{className:"w-full min-w-[400px] max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-4xl xl:max-w-5xl max-h-[90vh] flex flex-col",children:[o.jsxs(Pr,{className:"px-8 pt-6",children:[o.jsx(Br,{children:"Configure Workflow Inputs"}),o.jsx(Eo,{onClose:()=>h(!1)})]}),o.jsx("div",{className:"px-8 py-4 border-b flex-shrink-0",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"font-medium",children:"Input Type:"}),o.jsx(ut,{variant:"secondary",children:g.isChatMessage?"Chat Message":e.type==="string"?"Simple Text":"Structured Data"})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4 px-8",children:g.isChatMessage?o.jsx(jg,{onSubmit:async R=>{n([{type:"message",role:"user",content:R}]),h(!1)},isSubmitting:a,placeholder:"Enter your message...",entityName:"workflow",showFileUpload:!0}):o.jsx(f6,{inputSchema:e,inputTypeName:"Input",onSubmit:R=>{n(R),h(!1)},isSubmitting:a,className:"embedded"})})]})})]})}function Dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=Dt(e[r]))!==""&&(n+=(n&&" ")+a);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}var v6={value:()=>{}};function Bd(){for(var e=0,n=arguments.length,r={},a;e<n;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Au(r)}function Au(e){this._=e}function b6(e,n){return e.trim().split(/^|\s+/).map(function(r){var a="",l=r.indexOf(".");if(l>=0&&(a=r.slice(l+1),r=r.slice(0,l)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Au.prototype=Bd.prototype={constructor:Au,on:function(e,n){var r=this._,a=b6(e+"",r),l,c=-1,d=a.length;if(arguments.length<2){for(;++c<d;)if((l=(e=a[c]).type)&&(l=w6(r[l],e.name)))return l;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<d;)if(l=(e=a[c]).type)r[l]=hb(r[l],e.name,n);else if(n==null)for(l in r)r[l]=hb(r[l],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Au(e)},call:function(e,n){if((l=arguments.length-2)>0)for(var r=new Array(l),a=0,l,c;a<l;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],a=0,l=c.length;a<l;++a)c[a].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],l=0,c=a.length;l<c;++l)a[l].value.apply(n,r)}};function w6(e,n){for(var r=0,a=e.length,l;r<a;++r)if((l=e[r]).name===n)return l.value}function hb(e,n,r){for(var a=0,l=e.length;a<l;++a)if(e[a].name===n){e[a]=v6,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:n,value:r}),e}var bp="http://www.w3.org/1999/xhtml";const pb={svg:"http://www.w3.org/2000/svg",xhtml:bp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ud(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),pb.hasOwnProperty(n)?{space:pb[n],local:e}:e}function N6(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===bp&&n.documentElement.namespaceURI===bp?n.createElement(e):n.createElementNS(r,e)}}function j6(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rj(e){var n=Ud(e);return(n.local?j6:N6)(n)}function S6(){}function _g(e){return e==null?S6:function(){return this.querySelector(e)}}function _6(e){typeof e!="function"&&(e=_g(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=new Array(d),m,h,g=0;g<d;++g)(m=c[g])&&(h=e.call(m,m.__data__,g,c))&&("__data__"in m&&(h.__data__=m.__data__),f[g]=h);return new En(a,this._parents)}function E6(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function C6(){return[]}function oj(e){return e==null?C6:function(){return this.querySelectorAll(e)}}function k6(e){return function(){return E6(e.apply(this,arguments))}}function T6(e){typeof e=="function"?e=k6(e):e=oj(e);for(var n=this._groups,r=n.length,a=[],l=[],c=0;c<r;++c)for(var d=n[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&(a.push(e.call(m,m.__data__,h,d)),l.push(m));return new En(a,l)}function aj(e){return function(){return this.matches(e)}}function ij(e){return function(n){return n.matches(e)}}var A6=Array.prototype.find;function M6(e){return function(){return A6.call(this.children,e)}}function R6(){return this.firstElementChild}function D6(e){return this.select(e==null?R6:M6(typeof e=="function"?e:ij(e)))}var O6=Array.prototype.filter;function z6(){return Array.from(this.children)}function I6(e){return function(){return O6.call(this.children,e)}}function L6(e){return this.selectAll(e==null?z6:I6(typeof e=="function"?e:ij(e)))}function $6(e){typeof e!="function"&&(e=aj(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new En(a,this._parents)}function lj(e){return new Array(e.length)}function H6(){return new En(this._enter||this._groups.map(lj),this._parents)}function Qu(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Qu.prototype={constructor:Qu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function P6(e){return function(){return e}}function B6(e,n,r,a,l,c){for(var d=0,f,m=n.length,h=c.length;d<h;++d)(f=n[d])?(f.__data__=c[d],a[d]=f):r[d]=new Qu(e,c[d]);for(;d<m;++d)(f=n[d])&&(l[d]=f)}function U6(e,n,r,a,l,c,d){var f,m,h=new Map,g=n.length,y=c.length,x=new Array(g),b;for(f=0;f<g;++f)(m=n[f])&&(x[f]=b=d.call(m,m.__data__,f,n)+"",h.has(b)?l[f]=m:h.set(b,m));for(f=0;f<y;++f)b=d.call(e,c[f],f,c)+"",(m=h.get(b))?(a[f]=m,m.__data__=c[f],h.delete(b)):r[f]=new Qu(e,c[f]);for(f=0;f<g;++f)(m=n[f])&&h.get(x[f])===m&&(l[f]=m)}function V6(e){return e.__data__}function q6(e,n){if(!arguments.length)return Array.from(this,V6);var r=n?U6:B6,a=this._parents,l=this._groups;typeof e!="function"&&(e=P6(e));for(var c=l.length,d=new Array(c),f=new Array(c),m=new Array(c),h=0;h<c;++h){var g=a[h],y=l[h],x=y.length,b=F6(e.call(g,g&&g.__data__,h,a)),j=b.length,N=f[h]=new Array(j),S=d[h]=new Array(j),_=m[h]=new Array(x);r(g,y,N,S,_,b,n);for(var A=0,E=0,M,R;A<j;++A)if(M=N[A]){for(A>=E&&(E=A+1);!(R=S[E])&&++E<j;);M._next=R||null}}return d=new En(d,a),d._enter=f,d._exit=m,d}function F6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y6(){return new En(this._exit||this._groups.map(lj),this._parents)}function G6(e,n,r){var a=this.enter(),l=this,c=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(l=n(l),l&&(l=l.selection())),r==null?c.remove():r(c),a&&l?a.merge(l).order():l}function X6(e){for(var n=e.selection?e.selection():e,r=this._groups,a=n._groups,l=r.length,c=a.length,d=Math.min(l,c),f=new Array(l),m=0;m<d;++m)for(var h=r[m],g=a[m],y=h.length,x=f[m]=new Array(y),b,j=0;j<y;++j)(b=h[j]||g[j])&&(x[j]=b);for(;m<l;++m)f[m]=r[m];return new En(f,this._parents)}function Z6(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var a=e[n],l=a.length-1,c=a[l],d;--l>=0;)(d=a[l])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function W6(e){e||(e=K6);function n(y,x){return y&&x?e(y.__data__,x.__data__):!y-!x}for(var r=this._groups,a=r.length,l=new Array(a),c=0;c<a;++c){for(var d=r[c],f=d.length,m=l[c]=new Array(f),h,g=0;g<f;++g)(h=d[g])&&(m[g]=h);m.sort(n)}return new En(l,this._parents).order()}function K6(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Q6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function J6(){return Array.from(this)}function eO(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length;l<c;++l){var d=a[l];if(d)return d}return null}function tO(){let e=0;for(const n of this)++e;return e}function nO(){return!this.node()}function sO(e){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var l=n[r],c=0,d=l.length,f;c<d;++c)(f=l[c])&&e.call(f,f.__data__,c,l);return this}function rO(e){return function(){this.removeAttribute(e)}}function oO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aO(e,n){return function(){this.setAttribute(e,n)}}function iO(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function lO(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function cO(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function uO(e,n){var r=Ud(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((n==null?r.local?oO:rO:typeof n=="function"?r.local?cO:lO:r.local?iO:aO)(r,n))}function cj(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dO(e){return function(){this.style.removeProperty(e)}}function fO(e,n,r){return function(){this.style.setProperty(e,n,r)}}function mO(e,n,r){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function hO(e,n,r){return arguments.length>1?this.each((n==null?dO:typeof n=="function"?mO:fO)(e,n,r??"")):Ma(this.node(),e)}function Ma(e,n){return e.style.getPropertyValue(n)||cj(e).getComputedStyle(e,null).getPropertyValue(n)}function pO(e){return function(){delete this[e]}}function gO(e,n){return function(){this[e]=n}}function xO(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function yO(e,n){return arguments.length>1?this.each((n==null?pO:typeof n=="function"?xO:gO)(e,n)):this.node()[e]}function uj(e){return e.trim().split(/^|\s+/)}function Eg(e){return e.classList||new dj(e)}function dj(e){this._node=e,this._names=uj(e.getAttribute("class")||"")}dj.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function fj(e,n){for(var r=Eg(e),a=-1,l=n.length;++a<l;)r.add(n[a])}function mj(e,n){for(var r=Eg(e),a=-1,l=n.length;++a<l;)r.remove(n[a])}function vO(e){return function(){fj(this,e)}}function bO(e){return function(){mj(this,e)}}function wO(e,n){return function(){(n.apply(this,arguments)?fj:mj)(this,e)}}function NO(e,n){var r=uj(e+"");if(arguments.length<2){for(var a=Eg(this.node()),l=-1,c=r.length;++l<c;)if(!a.contains(r[l]))return!1;return!0}return this.each((typeof n=="function"?wO:n?vO:bO)(r,n))}function jO(){this.textContent=""}function SO(e){return function(){this.textContent=e}}function _O(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function EO(e){return arguments.length?this.each(e==null?jO:(typeof e=="function"?_O:SO)(e)):this.node().textContent}function CO(){this.innerHTML=""}function kO(e){return function(){this.innerHTML=e}}function TO(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function AO(e){return arguments.length?this.each(e==null?CO:(typeof e=="function"?TO:kO)(e)):this.node().innerHTML}function MO(){this.nextSibling&&this.parentNode.appendChild(this)}function RO(){return this.each(MO)}function DO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function OO(){return this.each(DO)}function zO(e){var n=typeof e=="function"?e:rj(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function IO(){return null}function LO(e,n){var r=typeof e=="function"?e:rj(e),a=n==null?IO:typeof n=="function"?n:_g(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function $O(){var e=this.parentNode;e&&e.removeChild(this)}function HO(){return this.each($O)}function PO(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function BO(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function UO(e){return this.select(e?BO:PO)}function VO(e){return arguments.length?this.property("__data__",e):this.node().__data__}function qO(e){return function(n){e.call(this,n,this.__data__)}}function FO(e){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}})}function YO(e){return function(){var n=this.__on;if(n){for(var r=0,a=-1,l=n.length,c;r<l;++r)c=n[r],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++a]=c;++a?n.length=a:delete this.__on}}}function GO(e,n,r){return function(){var a=this.__on,l,c=qO(n);if(a){for(var d=0,f=a.length;d<f;++d)if((l=a[d]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=r),l.value=n;return}}this.addEventListener(e.type,c,r),l={type:e.type,name:e.name,value:n,listener:c,options:r},a?a.push(l):this.__on=[l]}}function XO(e,n,r){var a=FO(e+""),l,c=a.length,d;if(arguments.length<2){var f=this.node().__on;if(f){for(var m=0,h=f.length,g;m<h;++m)for(l=0,g=f[m];l<c;++l)if((d=a[l]).type===g.type&&d.name===g.name)return g.value}return}for(f=n?GO:YO,l=0;l<c;++l)this.each(f(a[l],n,r));return this}function hj(e,n,r){var a=cj(e),l=a.CustomEvent;typeof l=="function"?l=new l(n,r):(l=a.document.createEvent("Event"),r?(l.initEvent(n,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(n,!1,!1)),e.dispatchEvent(l)}function ZO(e,n){return function(){return hj(this,e,n)}}function WO(e,n){return function(){return hj(this,e,n.apply(this,arguments))}}function KO(e,n){return this.each((typeof n=="function"?WO:ZO)(e,n))}function*QO(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],l=0,c=a.length,d;l<c;++l)(d=a[l])&&(yield d)}var pj=[null];function En(e,n){this._groups=e,this._parents=n}function Rl(){return new En([[document.documentElement]],pj)}function JO(){return this}En.prototype=Rl.prototype={constructor:En,select:_6,selectAll:T6,selectChild:D6,selectChildren:L6,filter:$6,data:q6,enter:H6,exit:Y6,join:G6,merge:X6,selection:JO,order:Z6,sort:W6,call:Q6,nodes:J6,node:eO,size:tO,empty:nO,each:sO,attr:uO,style:hO,property:yO,classed:NO,text:EO,html:AO,raise:RO,lower:OO,append:zO,insert:LO,remove:HO,clone:UO,datum:VO,on:XO,dispatch:KO,[Symbol.iterator]:QO};function Sn(e){return typeof e=="string"?new En([[document.querySelector(e)]],[document.documentElement]):new En([[e]],pj)}function e8(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Yn(e,n){if(e=e8(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var l=n.getBoundingClientRect();return[e.clientX-l.left-n.clientLeft,e.clientY-l.top-n.clientTop]}}return[e.pageX,e.pageY]}const t8={passive:!1},fl={capture:!0,passive:!1};function zh(e){e.stopImmediatePropagation()}function ja(e){e.preventDefault(),e.stopImmediatePropagation()}function gj(e){var n=e.document.documentElement,r=Sn(e).on("dragstart.drag",ja,fl);"onselectstart"in n?r.on("selectstart.drag",ja,fl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function xj(e,n){var r=e.document.documentElement,a=Sn(e).on("dragstart.drag",null);n&&(a.on("click.drag",ja,fl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const uu=e=>()=>e;function wp(e,{sourceEvent:n,subject:r,target:a,identifier:l,active:c,x:d,y:f,dx:m,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}wp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function n8(e){return!e.ctrlKey&&!e.button}function s8(){return this.parentNode}function r8(e,n){return n??{x:e.x,y:e.y}}function o8(){return navigator.maxTouchPoints||"ontouchstart"in this}function yj(){var e=n8,n=s8,r=r8,a=o8,l={},c=Bd("start","drag","end"),d=0,f,m,h,g,y=0;function x(M){M.on("mousedown.drag",b).filter(a).on("touchstart.drag",S).on("touchmove.drag",_,t8).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(M,R){if(!(g||!e.call(this,M,R))){var D=E(this,n.call(this,M,R),M,R,"mouse");D&&(Sn(M.view).on("mousemove.drag",j,fl).on("mouseup.drag",N,fl),gj(M.view),zh(M),h=!1,f=M.clientX,m=M.clientY,D("start",M))}}function j(M){if(ja(M),!h){var R=M.clientX-f,D=M.clientY-m;h=R*R+D*D>y}l.mouse("drag",M)}function N(M){Sn(M.view).on("mousemove.drag mouseup.drag",null),xj(M.view,h),ja(M),l.mouse("end",M)}function S(M,R){if(e.call(this,M,R)){var D=M.changedTouches,O=n.call(this,M,R),P=D.length,q,Z;for(q=0;q<P;++q)(Z=E(this,O,M,R,D[q].identifier,D[q]))&&(zh(M),Z("start",M,D[q]))}}function _(M){var R=M.changedTouches,D=R.length,O,P;for(O=0;O<D;++O)(P=l[R[O].identifier])&&(ja(M),P("drag",M,R[O]))}function A(M){var R=M.changedTouches,D=R.length,O,P;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),O=0;O<D;++O)(P=l[R[O].identifier])&&(zh(M),P("end",M,R[O]))}function E(M,R,D,O,P,q){var Z=c.copy(),Q=Yn(q||D,R),G,ne,U;if((U=r.call(M,new wp("beforestart",{sourceEvent:D,target:x,identifier:P,active:d,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:Z}),O))!=null)return G=U.x-Q[0]||0,ne=U.y-Q[1]||0,function B(k,L,I){var $=Q,C;switch(k){case"start":l[P]=B,C=d++;break;case"end":delete l[P],--d;case"drag":Q=Yn(I||L,R),C=d;break}Z.call(k,M,new wp(k,{sourceEvent:L,subject:U,target:x,identifier:P,active:C,x:Q[0]+G,y:Q[1]+ne,dx:Q[0]-$[0],dy:Q[1]-$[1],dispatch:Z}),O)}}return x.filter=function(M){return arguments.length?(e=typeof M=="function"?M:uu(!!M),x):e},x.container=function(M){return arguments.length?(n=typeof M=="function"?M:uu(M),x):n},x.subject=function(M){return arguments.length?(r=typeof M=="function"?M:uu(M),x):r},x.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:uu(!!M),x):a},x.on=function(){var M=c.on.apply(c,arguments);return M===c?x:M},x.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,x):Math.sqrt(y)},x}function Cg(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function vj(e,n){var r=Object.create(e.prototype);for(var a in n)r[a]=n[a];return r}function Dl(){}var ml=.7,Ju=1/ml,Sa="\\s*([+-]?\\d+)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a8=/^#([0-9a-f]{3,8})$/,i8=new RegExp(`^rgb\\(${Sa},${Sa},${Sa}\\)$`),l8=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),c8=new RegExp(`^rgba\\(${Sa},${Sa},${Sa},${hl}\\)$`),u8=new RegExp(`^rgba\\(${fs},${fs},${fs},${hl}\\)$`),d8=new RegExp(`^hsl\\(${hl},${fs},${fs}\\)$`),f8=new RegExp(`^hsla\\(${hl},${fs},${fs},${hl}\\)$`),gb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cg(Dl,bo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xb,formatHex:xb,formatHex8:m8,formatHsl:h8,formatRgb:yb,toString:yb});function xb(){return this.rgb().formatHex()}function m8(){return this.rgb().formatHex8()}function h8(){return bj(this).formatHsl()}function yb(){return this.rgb().formatRgb()}function bo(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=a8.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?vb(n):r===3?new fn(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?du(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?du(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=i8.exec(e))?new fn(n[1],n[2],n[3],1):(n=l8.exec(e))?new fn(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=c8.exec(e))?du(n[1],n[2],n[3],n[4]):(n=u8.exec(e))?du(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=d8.exec(e))?Nb(n[1],n[2]/100,n[3]/100,1):(n=f8.exec(e))?Nb(n[1],n[2]/100,n[3]/100,n[4]):gb.hasOwnProperty(e)?vb(gb[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function vb(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function du(e,n,r,a){return a<=0&&(e=n=r=NaN),new fn(e,n,r,a)}function p8(e){return e instanceof Dl||(e=bo(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function Np(e,n,r,a){return arguments.length===1?p8(e):new fn(e,n,r,a??1)}function fn(e,n,r,a){this.r=+e,this.g=+n,this.b=+r,this.opacity=+a}Cg(fn,Np,vj(Dl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ml:Math.pow(ml,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(po(this.r),po(this.g),po(this.b),ed(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bb,formatHex:bb,formatHex8:g8,formatRgb:wb,toString:wb}));function bb(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}`}function g8(){return`#${mo(this.r)}${mo(this.g)}${mo(this.b)}${mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wb(){const e=ed(this.opacity);return`${e===1?"rgb(":"rgba("}${po(this.r)}, ${po(this.g)}, ${po(this.b)}${e===1?")":`, ${e})`}`}function ed(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function po(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mo(e){return e=po(e),(e<16?"0":"")+e.toString(16)}function Nb(e,n,r,a){return a<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new Gn(e,n,r,a)}function bj(e){if(e instanceof Gn)return new Gn(e.h,e.s,e.l,e.opacity);if(e instanceof Dl||(e=bo(e)),!e)return new Gn;if(e instanceof Gn)return e;e=e.rgb();var n=e.r/255,r=e.g/255,a=e.b/255,l=Math.min(n,r,a),c=Math.max(n,r,a),d=NaN,f=c-l,m=(c+l)/2;return f?(n===c?d=(r-a)/f+(r<a)*6:r===c?d=(a-n)/f+2:d=(n-r)/f+4,f/=m<.5?c+l:2-c-l,d*=60):f=m>0&&m<1?0:d,new Gn(d,f,m,e.opacity)}function x8(e,n,r,a){return arguments.length===1?bj(e):new Gn(e,n,r,a??1)}function Gn(e,n,r,a){this.h=+e,this.s=+n,this.l=+r,this.opacity=+a}Cg(Gn,x8,vj(Dl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new Gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ml:Math.pow(ml,e),new Gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*n,l=2*r-a;return new fn(Ih(e>=240?e-240:e+120,l,a),Ih(e,l,a),Ih(e<120?e+240:e-120,l,a),this.opacity)},clamp(){return new Gn(jb(this.h),fu(this.s),fu(this.l),ed(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ed(this.opacity);return`${e===1?"hsl(":"hsla("}${jb(this.h)}, ${fu(this.s)*100}%, ${fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jb(e){return e=(e||0)%360,e<0?e+360:e}function fu(e){return Math.max(0,Math.min(1,e||0))}function Ih(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const kg=e=>()=>e;function y8(e,n){return function(r){return e+r*n}}function v8(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(a){return Math.pow(e+a*n,r)}}function b8(e){return(e=+e)==1?wj:function(n,r){return r-n?v8(n,r,e):kg(isNaN(n)?r:n)}}function wj(e,n){var r=n-e;return r?y8(e,r):kg(isNaN(e)?n:e)}const td=(function e(n){var r=b8(n);function a(l,c){var d=r((l=Np(l)).r,(c=Np(c)).r),f=r(l.g,c.g),m=r(l.b,c.b),h=wj(l.opacity,c.opacity);return function(g){return l.r=d(g),l.g=f(g),l.b=m(g),l.opacity=h(g),l+""}}return a.gamma=e,a})(1);function w8(e,n){n||(n=[]);var r=e?Math.min(n.length,e.length):0,a=n.slice(),l;return function(c){for(l=0;l<r;++l)a[l]=e[l]*(1-c)+n[l]*c;return a}}function N8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function j8(e,n){var r=n?n.length:0,a=e?Math.min(r,e.length):0,l=new Array(a),c=new Array(r),d;for(d=0;d<a;++d)l[d]=rl(e[d],n[d]);for(;d<r;++d)c[d]=n[d];return function(f){for(d=0;d<a;++d)c[d]=l[d](f);return c}}function S8(e,n){var r=new Date;return e=+e,n=+n,function(a){return r.setTime(e*(1-a)+n*a),r}}function is(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function _8(e,n){var r={},a={},l;(e===null||typeof e!="object")&&(e={}),(n===null||typeof n!="object")&&(n={});for(l in n)l in e?r[l]=rl(e[l],n[l]):a[l]=n[l];return function(c){for(l in r)a[l]=r[l](c);return a}}var jp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lh=new RegExp(jp.source,"g");function E8(e){return function(){return e}}function C8(e){return function(n){return e(n)+""}}function Nj(e,n){var r=jp.lastIndex=Lh.lastIndex=0,a,l,c,d=-1,f=[],m=[];for(e=e+"",n=n+"";(a=jp.exec(e))&&(l=Lh.exec(n));)(c=l.index)>r&&(c=n.slice(r,c),f[d]?f[d]+=c:f[++d]=c),(a=a[0])===(l=l[0])?f[d]?f[d]+=l:f[++d]=l:(f[++d]=null,m.push({i:d,x:is(a,l)})),r=Lh.lastIndex;return r<n.length&&(c=n.slice(r),f[d]?f[d]+=c:f[++d]=c),f.length<2?m[0]?C8(m[0].x):E8(n):(n=m.length,function(h){for(var g=0,y;g<n;++g)f[(y=m[g]).i]=y.x(h);return f.join("")})}function rl(e,n){var r=typeof n,a;return n==null||r==="boolean"?kg(n):(r==="number"?is:r==="string"?(a=bo(n))?(n=a,td):Nj:n instanceof bo?td:n instanceof Date?S8:N8(n)?w8:Array.isArray(n)?j8:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?_8:is)(e,n)}var Sb=180/Math.PI,Sp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jj(e,n,r,a,l,c){var d,f,m;return(d=Math.sqrt(e*e+n*n))&&(e/=d,n/=d),(m=e*r+n*a)&&(r-=e*m,a-=n*m),(f=Math.sqrt(r*r+a*a))&&(r/=f,a/=f,m/=f),e*a<n*r&&(e=-e,n=-n,m=-m,d=-d),{translateX:l,translateY:c,rotate:Math.atan2(n,e)*Sb,skewX:Math.atan(m)*Sb,scaleX:d,scaleY:f}}var mu;function k8(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Sp:jj(n.a,n.b,n.c,n.d,n.e,n.f)}function T8(e){return e==null||(mu||(mu=document.createElementNS("http://www.w3.org/2000/svg","g")),mu.setAttribute("transform",e),!(e=mu.transform.baseVal.consolidate()))?Sp:(e=e.matrix,jj(e.a,e.b,e.c,e.d,e.e,e.f))}function Sj(e,n,r,a){function l(h){return h.length?h.pop()+" ":""}function c(h,g,y,x,b,j){if(h!==y||g!==x){var N=b.push("translate(",null,n,null,r);j.push({i:N-4,x:is(h,y)},{i:N-2,x:is(g,x)})}else(y||x)&&b.push("translate("+y+n+x+r)}function d(h,g,y,x){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),x.push({i:y.push(l(y)+"rotate(",null,a)-2,x:is(h,g)})):g&&y.push(l(y)+"rotate("+g+a)}function f(h,g,y,x){h!==g?x.push({i:y.push(l(y)+"skewX(",null,a)-2,x:is(h,g)}):g&&y.push(l(y)+"skewX("+g+a)}function m(h,g,y,x,b,j){if(h!==y||g!==x){var N=b.push(l(b)+"scale(",null,",",null,")");j.push({i:N-4,x:is(h,y)},{i:N-2,x:is(g,x)})}else(y!==1||x!==1)&&b.push(l(b)+"scale("+y+","+x+")")}return function(h,g){var y=[],x=[];return h=e(h),g=e(g),c(h.translateX,h.translateY,g.translateX,g.translateY,y,x),d(h.rotate,g.rotate,y,x),f(h.skewX,g.skewX,y,x),m(h.scaleX,h.scaleY,g.scaleX,g.scaleY,y,x),h=g=null,function(b){for(var j=-1,N=x.length,S;++j<N;)y[(S=x[j]).i]=S.x(b);return y.join("")}}}var A8=Sj(k8,"px, ","px)","deg)"),M8=Sj(T8,", ",")",")"),R8=1e-12;function _b(e){return((e=Math.exp(e))+1/e)/2}function D8(e){return((e=Math.exp(e))-1/e)/2}function O8(e){return((e=Math.exp(2*e))-1)/(e+1)}const Mu=(function e(n,r,a){function l(c,d){var f=c[0],m=c[1],h=c[2],g=d[0],y=d[1],x=d[2],b=g-f,j=y-m,N=b*b+j*j,S,_;if(N<R8)_=Math.log(x/h)/n,S=function(O){return[f+O*b,m+O*j,h*Math.exp(n*O*_)]};else{var A=Math.sqrt(N),E=(x*x-h*h+a*N)/(2*h*r*A),M=(x*x-h*h-a*N)/(2*x*r*A),R=Math.log(Math.sqrt(E*E+1)-E),D=Math.log(Math.sqrt(M*M+1)-M);_=(D-R)/n,S=function(O){var P=O*_,q=_b(R),Z=h/(r*A)*(q*O8(n*P+R)-D8(R));return[f+Z*b,m+Z*j,h*q/_b(n*P+R)]}}return S.duration=_*1e3*n/Math.SQRT2,S}return l.rho=function(c){var d=Math.max(.001,+c),f=d*d,m=f*f;return e(d,f,m)},l})(Math.SQRT2,2,4);var Ra=0,el=0,Zi=0,_j=1e3,nd,tl,sd=0,wo=0,Vd=0,pl=typeof performance=="object"&&performance.now?performance:Date,Ej=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tg(){return wo||(Ej(z8),wo=pl.now()+Vd)}function z8(){wo=0}function rd(){this._call=this._time=this._next=null}rd.prototype=Cj.prototype={constructor:rd,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Tg():+r)+(n==null?0:+n),!this._next&&tl!==this&&(tl?tl._next=this:nd=this,tl=this),this._call=e,this._time=r,_p()},stop:function(){this._call&&(this._call=null,this._time=1/0,_p())}};function Cj(e,n,r){var a=new rd;return a.restart(e,n,r),a}function I8(){Tg(),++Ra;for(var e=nd,n;e;)(n=wo-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ra}function Eb(){wo=(sd=pl.now())+Vd,Ra=el=0;try{I8()}finally{Ra=0,$8(),wo=0}}function L8(){var e=pl.now(),n=e-sd;n>_j&&(Vd-=n,sd=e)}function $8(){for(var e,n=nd,r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:nd=r);tl=e,_p(a)}function _p(e){if(!Ra){el&&(el=clearTimeout(el));var n=e-wo;n>24?(e<1/0&&(el=setTimeout(Eb,e-pl.now()-Vd)),Zi&&(Zi=clearInterval(Zi))):(Zi||(sd=pl.now(),Zi=setInterval(L8,_j)),Ra=1,Ej(Eb))}}function Cb(e,n,r){var a=new rd;return n=n==null?0:+n,a.restart(l=>{a.stop(),e(l+n)},n,r),a}var H8=Bd("start","end","cancel","interrupt"),P8=[],kj=0,kb=1,Ep=2,Ru=3,Tb=4,Cp=5,Du=6;function qd(e,n,r,a,l,c){var d=e.__transition;if(!d)e.__transition={};else if(r in d)return;B8(e,r,{name:n,index:a,group:l,on:H8,tween:P8,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:kj})}function Ag(e,n){var r=Jn(e,n);if(r.state>kj)throw new Error("too late; already scheduled");return r}function ys(e,n){var r=Jn(e,n);if(r.state>Ru)throw new Error("too late; already running");return r}function Jn(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function B8(e,n,r){var a=e.__transition,l;a[n]=r,r.timer=Cj(c,0,r.time);function c(h){r.state=kb,r.timer.restart(d,r.delay,r.time),r.delay<=h&&d(h-r.delay)}function d(h){var g,y,x,b;if(r.state!==kb)return m();for(g in a)if(b=a[g],b.name===r.name){if(b.state===Ru)return Cb(d);b.state===Tb?(b.state=Du,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete a[g]):+g<n&&(b.state=Du,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete a[g])}if(Cb(function(){r.state===Ru&&(r.state=Tb,r.timer.restart(f,r.delay,r.time),f(h))}),r.state=Ep,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Ep){for(r.state=Ru,l=new Array(x=r.tween.length),g=0,y=-1;g<x;++g)(b=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(l[++y]=b);l.length=y+1}}function f(h){for(var g=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(m),r.state=Cp,1),y=-1,x=l.length;++y<x;)l[y].call(e,g);r.state===Cp&&(r.on.call("end",e,e.__data__,r.index,r.group),m())}function m(){r.state=Du,r.timer.stop(),delete a[n];for(var h in a)return;delete e.__transition}}function Ou(e,n){var r=e.__transition,a,l,c=!0,d;if(r){n=n==null?null:n+"";for(d in r){if((a=r[d]).name!==n){c=!1;continue}l=a.state>Ep&&a.state<Cp,a.state=Du,a.timer.stop(),a.on.call(l?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[d]}c&&delete e.__transition}}function U8(e){return this.each(function(){Ou(this,e)})}function V8(e,n){var r,a;return function(){var l=ys(this,e),c=l.tween;if(c!==r){a=r=c;for(var d=0,f=a.length;d<f;++d)if(a[d].name===n){a=a.slice(),a.splice(d,1);break}}l.tween=a}}function q8(e,n,r){var a,l;if(typeof r!="function")throw new Error;return function(){var c=ys(this,e),d=c.tween;if(d!==a){l=(a=d).slice();for(var f={name:n,value:r},m=0,h=l.length;m<h;++m)if(l[m].name===n){l[m]=f;break}m===h&&l.push(f)}c.tween=l}}function F8(e,n){var r=this._id;if(e+="",arguments.length<2){for(var a=Jn(this.node(),r).tween,l=0,c=a.length,d;l<c;++l)if((d=a[l]).name===e)return d.value;return null}return this.each((n==null?V8:q8)(r,e,n))}function Mg(e,n,r){var a=e._id;return e.each(function(){var l=ys(this,a);(l.value||(l.value={}))[n]=r.apply(this,arguments)}),function(l){return Jn(l,a).value[n]}}function Tj(e,n){var r;return(typeof n=="number"?is:n instanceof bo?td:(r=bo(n))?(n=r,td):Nj)(e,n)}function Y8(e){return function(){this.removeAttribute(e)}}function G8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X8(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttribute(e);return d===l?null:d===a?c:c=n(a=d,r)}}function Z8(e,n,r){var a,l=r+"",c;return function(){var d=this.getAttributeNS(e.space,e.local);return d===l?null:d===a?c:c=n(a=d,r)}}function W8(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttribute(e):(d=this.getAttribute(e),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function K8(e,n,r){var a,l,c;return function(){var d,f=r(this),m;return f==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),m=f+"",d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f)))}}function Q8(e,n){var r=Ud(e),a=r==="transform"?M8:Tj;return this.attrTween(e,typeof n=="function"?(r.local?K8:W8)(r,a,Mg(this,"attr."+e,n)):n==null?(r.local?G8:Y8)(r):(r.local?Z8:X8)(r,a,n))}function J8(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function e9(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function t9(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&e9(e,c)),r}return l._value=n,l}function n9(e,n){var r,a;function l(){var c=n.apply(this,arguments);return c!==a&&(r=(a=c)&&J8(e,c)),r}return l._value=n,l}function s9(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var a=Ud(e);return this.tween(r,(a.local?t9:n9)(a,n))}function r9(e,n){return function(){Ag(this,e).delay=+n.apply(this,arguments)}}function o9(e,n){return n=+n,function(){Ag(this,e).delay=n}}function a9(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?r9:o9)(n,e)):Jn(this.node(),n).delay}function i9(e,n){return function(){ys(this,e).duration=+n.apply(this,arguments)}}function l9(e,n){return n=+n,function(){ys(this,e).duration=n}}function c9(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?i9:l9)(n,e)):Jn(this.node(),n).duration}function u9(e,n){if(typeof n!="function")throw new Error;return function(){ys(this,e).ease=n}}function d9(e){var n=this._id;return arguments.length?this.each(u9(n,e)):Jn(this.node(),n).ease}function f9(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;ys(this,e).ease=r}}function m9(e){if(typeof e!="function")throw new Error;return this.each(f9(this._id,e))}function h9(e){typeof e!="function"&&(e=aj(e));for(var n=this._groups,r=n.length,a=new Array(r),l=0;l<r;++l)for(var c=n[l],d=c.length,f=a[l]=[],m,h=0;h<d;++h)(m=c[h])&&e.call(m,m.__data__,h,c)&&f.push(m);return new Zs(a,this._parents,this._name,this._id)}function p9(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,a=n.length,l=r.length,c=Math.min(a,l),d=new Array(a),f=0;f<c;++f)for(var m=n[f],h=r[f],g=m.length,y=d[f]=new Array(g),x,b=0;b<g;++b)(x=m[b]||h[b])&&(y[b]=x);for(;f<a;++f)d[f]=n[f];return new Zs(d,this._parents,this._name,this._id)}function g9(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function x9(e,n,r){var a,l,c=g9(n)?Ag:ys;return function(){var d=c(this,e),f=d.on;f!==a&&(l=(a=f).copy()).on(n,r),d.on=l}}function y9(e,n){var r=this._id;return arguments.length<2?Jn(this.node(),r).on.on(e):this.each(x9(r,e,n))}function v9(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function b9(){return this.on("end.remove",v9(this._id))}function w9(e){var n=this._name,r=this._id;typeof e!="function"&&(e=_g(e));for(var a=this._groups,l=a.length,c=new Array(l),d=0;d<l;++d)for(var f=a[d],m=f.length,h=c[d]=new Array(m),g,y,x=0;x<m;++x)(g=f[x])&&(y=e.call(g,g.__data__,x,f))&&("__data__"in g&&(y.__data__=g.__data__),h[x]=y,qd(h[x],n,r,x,h,Jn(g,r)));return new Zs(c,this._parents,n,r)}function N9(e){var n=this._name,r=this._id;typeof e!="function"&&(e=oj(e));for(var a=this._groups,l=a.length,c=[],d=[],f=0;f<l;++f)for(var m=a[f],h=m.length,g,y=0;y<h;++y)if(g=m[y]){for(var x=e.call(g,g.__data__,y,m),b,j=Jn(g,r),N=0,S=x.length;N<S;++N)(b=x[N])&&qd(b,n,r,N,x,j);c.push(x),d.push(g)}return new Zs(c,d,n,r)}var j9=Rl.prototype.constructor;function S9(){return new j9(this._groups,this._parents)}function _9(e,n){var r,a,l;return function(){var c=Ma(this,e),d=(this.style.removeProperty(e),Ma(this,e));return c===d?null:c===r&&d===a?l:l=n(r=c,a=d)}}function Aj(e){return function(){this.style.removeProperty(e)}}function E9(e,n,r){var a,l=r+"",c;return function(){var d=Ma(this,e);return d===l?null:d===a?c:c=n(a=d,r)}}function C9(e,n,r){var a,l,c;return function(){var d=Ma(this,e),f=r(this),m=f+"";return f==null&&(m=f=(this.style.removeProperty(e),Ma(this,e))),d===m?null:d===a&&m===l?c:(l=m,c=n(a=d,f))}}function k9(e,n){var r,a,l,c="style."+n,d="end."+c,f;return function(){var m=ys(this,e),h=m.on,g=m.value[c]==null?f||(f=Aj(n)):void 0;(h!==r||l!==g)&&(a=(r=h).copy()).on(d,l=g),m.on=a}}function T9(e,n,r){var a=(e+="")=="transform"?A8:Tj;return n==null?this.styleTween(e,_9(e,a)).on("end.style."+e,Aj(e)):typeof n=="function"?this.styleTween(e,C9(e,a,Mg(this,"style."+e,n))).each(k9(this._id,e)):this.styleTween(e,E9(e,a,n),r).on("end.style."+e,null)}function A9(e,n,r){return function(a){this.style.setProperty(e,n.call(this,a),r)}}function M9(e,n,r){var a,l;function c(){var d=n.apply(this,arguments);return d!==l&&(a=(l=d)&&A9(e,d,r)),a}return c._value=n,c}function R9(e,n,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,M9(e,n,r??""))}function D9(e){return function(){this.textContent=e}}function O9(e){return function(){var n=e(this);this.textContent=n??""}}function z9(e){return this.tween("text",typeof e=="function"?O9(Mg(this,"text",e)):D9(e==null?"":e+""))}function I9(e){return function(n){this.textContent=e.call(this,n)}}function L9(e){var n,r;function a(){var l=e.apply(this,arguments);return l!==r&&(n=(r=l)&&I9(l)),n}return a._value=e,a}function $9(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,L9(e))}function H9(){for(var e=this._name,n=this._id,r=Mj(),a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)if(m=d[h]){var g=Jn(m,n);qd(m,e,r,h,d,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Zs(a,this._parents,e,r)}function P9(){var e,n,r=this,a=r._id,l=r.size();return new Promise(function(c,d){var f={value:d},m={value:function(){--l===0&&c()}};r.each(function(){var h=ys(this,a),g=h.on;g!==e&&(n=(e=g).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(m)),h.on=n}),l===0&&c()})}var B9=0;function Zs(e,n,r,a){this._groups=e,this._parents=n,this._name=r,this._id=a}function Mj(){return++B9}var Ps=Rl.prototype;Zs.prototype={constructor:Zs,select:w9,selectAll:N9,selectChild:Ps.selectChild,selectChildren:Ps.selectChildren,filter:h9,merge:p9,selection:S9,transition:H9,call:Ps.call,nodes:Ps.nodes,node:Ps.node,size:Ps.size,empty:Ps.empty,each:Ps.each,on:y9,attr:Q8,attrTween:s9,style:T9,styleTween:R9,text:z9,textTween:$9,remove:b9,tween:F8,delay:a9,duration:c9,ease:d9,easeVarying:m9,end:P9,[Symbol.iterator]:Ps[Symbol.iterator]};function U9(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var V9={time:null,delay:0,duration:250,ease:U9};function q9(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function F9(e){var n,r;e instanceof Zs?(n=e._id,e=e._name):(n=Mj(),(r=V9).time=Tg(),e=e==null?null:e+"");for(var a=this._groups,l=a.length,c=0;c<l;++c)for(var d=a[c],f=d.length,m,h=0;h<f;++h)(m=d[h])&&qd(m,e,n,h,d,r||q9(m,n));return new Zs(a,this._parents,e,n)}Rl.prototype.interrupt=U8;Rl.prototype.transition=F9;const hu=e=>()=>e;function Y9(e,{sourceEvent:n,target:r,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function Us(e,n,r){this.k=e,this.x=n,this.y=r}Us.prototype={constructor:Us,scale:function(e){return e===1?this:new Us(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Us(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fd=new Us(1,0,0);Rj.prototype=Us.prototype;function Rj(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Fd;return e.__zoom}function $h(e){e.stopImmediatePropagation()}function Wi(e){e.preventDefault(),e.stopImmediatePropagation()}function G9(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function X9(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ab(){return this.__zoom||Fd}function Z9(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function W9(){return navigator.maxTouchPoints||"ontouchstart"in this}function K9(e,n,r){var a=e.invertX(n[0][0])-r[0][0],l=e.invertX(n[1][0])-r[1][0],c=e.invertY(n[0][1])-r[0][1],d=e.invertY(n[1][1])-r[1][1];return e.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Dj(){var e=G9,n=X9,r=K9,a=Z9,l=W9,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],f=250,m=Mu,h=Bd("start","zoom","end"),g,y,x,b=500,j=150,N=0,S=10;function _(U){U.property("__zoom",Ab).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",Z).filter(l).on("touchstart.zoom",Q).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(U,B,k,L){var I=U.selection?U.selection():U;I.property("__zoom",Ab),U!==I?R(U,B,k,L):I.interrupt().each(function(){D(this,arguments).event(L).start().zoom(null,typeof B=="function"?B.apply(this,arguments):B).end()})},_.scaleBy=function(U,B,k,L){_.scaleTo(U,function(){var I=this.__zoom.k,$=typeof B=="function"?B.apply(this,arguments):B;return I*$},k,L)},_.scaleTo=function(U,B,k,L){_.transform(U,function(){var I=n.apply(this,arguments),$=this.__zoom,C=k==null?M(I):typeof k=="function"?k.apply(this,arguments):k,H=$.invert(C),Y=typeof B=="function"?B.apply(this,arguments):B;return r(E(A($,Y),C,H),I,d)},k,L)},_.translateBy=function(U,B,k,L){_.transform(U,function(){return r(this.__zoom.translate(typeof B=="function"?B.apply(this,arguments):B,typeof k=="function"?k.apply(this,arguments):k),n.apply(this,arguments),d)},null,L)},_.translateTo=function(U,B,k,L,I){_.transform(U,function(){var $=n.apply(this,arguments),C=this.__zoom,H=L==null?M($):typeof L=="function"?L.apply(this,arguments):L;return r(Fd.translate(H[0],H[1]).scale(C.k).translate(typeof B=="function"?-B.apply(this,arguments):-B,typeof k=="function"?-k.apply(this,arguments):-k),$,d)},L,I)};function A(U,B){return B=Math.max(c[0],Math.min(c[1],B)),B===U.k?U:new Us(B,U.x,U.y)}function E(U,B,k){var L=B[0]-k[0]*U.k,I=B[1]-k[1]*U.k;return L===U.x&&I===U.y?U:new Us(U.k,L,I)}function M(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function R(U,B,k,L){U.on("start.zoom",function(){D(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(L).end()}).tween("zoom",function(){var I=this,$=arguments,C=D(I,$).event(L),H=n.apply(I,$),Y=k==null?M(H):typeof k=="function"?k.apply(I,$):k,V=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),J=I.__zoom,ce=typeof B=="function"?B.apply(I,$):B,fe=m(J.invert(Y).concat(V/J.k),ce.invert(Y).concat(V/ce.k));return function(ee){if(ee===1)ee=ce;else{var ie=fe(ee),ge=V/ie[2];ee=new Us(ge,Y[0]-ie[0]*ge,Y[1]-ie[1]*ge)}C.zoom(null,ee)}})}function D(U,B,k){return!k&&U.__zooming||new O(U,B)}function O(U,B){this.that=U,this.args=B,this.active=0,this.sourceEvent=null,this.extent=n.apply(U,B),this.taps=0}O.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,B){return this.mouse&&U!=="mouse"&&(this.mouse[1]=B.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=B.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=B.invert(this.touch1[0])),this.that.__zoom=B,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var B=Sn(this.that).datum();h.call(U,this.that,new Y9(U,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:h}),B)}};function P(U,...B){if(!e.apply(this,arguments))return;var k=D(this,B).event(U),L=this.__zoom,I=Math.max(c[0],Math.min(c[1],L.k*Math.pow(2,a.apply(this,arguments)))),$=Yn(U);if(k.wheel)(k.mouse[0][0]!==$[0]||k.mouse[0][1]!==$[1])&&(k.mouse[1]=L.invert(k.mouse[0]=$)),clearTimeout(k.wheel);else{if(L.k===I)return;k.mouse=[$,L.invert($)],Ou(this),k.start()}Wi(U),k.wheel=setTimeout(C,j),k.zoom("mouse",r(E(A(L,I),k.mouse[0],k.mouse[1]),k.extent,d));function C(){k.wheel=null,k.end()}}function q(U,...B){if(x||!e.apply(this,arguments))return;var k=U.currentTarget,L=D(this,B,!0).event(U),I=Sn(U.view).on("mousemove.zoom",Y,!0).on("mouseup.zoom",V,!0),$=Yn(U,k),C=U.clientX,H=U.clientY;gj(U.view),$h(U),L.mouse=[$,this.__zoom.invert($)],Ou(this),L.start();function Y(J){if(Wi(J),!L.moved){var ce=J.clientX-C,fe=J.clientY-H;L.moved=ce*ce+fe*fe>N}L.event(J).zoom("mouse",r(E(L.that.__zoom,L.mouse[0]=Yn(J,k),L.mouse[1]),L.extent,d))}function V(J){I.on("mousemove.zoom mouseup.zoom",null),xj(J.view,L.moved),Wi(J),L.event(J).end()}}function Z(U,...B){if(e.apply(this,arguments)){var k=this.__zoom,L=Yn(U.changedTouches?U.changedTouches[0]:U,this),I=k.invert(L),$=k.k*(U.shiftKey?.5:2),C=r(E(A(k,$),L,I),n.apply(this,B),d);Wi(U),f>0?Sn(this).transition().duration(f).call(R,C,L,U):Sn(this).call(_.transform,C,L,U)}}function Q(U,...B){if(e.apply(this,arguments)){var k=U.touches,L=k.length,I=D(this,B,U.changedTouches.length===L).event(U),$,C,H,Y;for($h(U),C=0;C<L;++C)H=k[C],Y=Yn(H,this),Y=[Y,this.__zoom.invert(Y),H.identifier],I.touch0?!I.touch1&&I.touch0[2]!==Y[2]&&(I.touch1=Y,I.taps=0):(I.touch0=Y,$=!0,I.taps=1+!!g);g&&(g=clearTimeout(g)),$&&(I.taps<2&&(y=Y[0],g=setTimeout(function(){g=null},b)),Ou(this),I.start())}}function G(U,...B){if(this.__zooming){var k=D(this,B).event(U),L=U.changedTouches,I=L.length,$,C,H,Y;for(Wi(U),$=0;$<I;++$)C=L[$],H=Yn(C,this),k.touch0&&k.touch0[2]===C.identifier?k.touch0[0]=H:k.touch1&&k.touch1[2]===C.identifier&&(k.touch1[0]=H);if(C=k.that.__zoom,k.touch1){var V=k.touch0[0],J=k.touch0[1],ce=k.touch1[0],fe=k.touch1[1],ee=(ee=ce[0]-V[0])*ee+(ee=ce[1]-V[1])*ee,ie=(ie=fe[0]-J[0])*ie+(ie=fe[1]-J[1])*ie;C=A(C,Math.sqrt(ee/ie)),H=[(V[0]+ce[0])/2,(V[1]+ce[1])/2],Y=[(J[0]+fe[0])/2,(J[1]+fe[1])/2]}else if(k.touch0)H=k.touch0[0],Y=k.touch0[1];else return;k.zoom("touch",r(E(C,H,Y),k.extent,d))}}function ne(U,...B){if(this.__zooming){var k=D(this,B).event(U),L=U.changedTouches,I=L.length,$,C;for($h(U),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),$=0;$<I;++$)C=L[$],k.touch0&&k.touch0[2]===C.identifier?delete k.touch0:k.touch1&&k.touch1[2]===C.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(C=Yn(C,this),Math.hypot(y[0]-C[0],y[1]-C[1])<S)){var H=Sn(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return _.wheelDelta=function(U){return arguments.length?(a=typeof U=="function"?U:hu(+U),_):a},_.filter=function(U){return arguments.length?(e=typeof U=="function"?U:hu(!!U),_):e},_.touchable=function(U){return arguments.length?(l=typeof U=="function"?U:hu(!!U),_):l},_.extent=function(U){return arguments.length?(n=typeof U=="function"?U:hu([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),_):n},_.scaleExtent=function(U){return arguments.length?(c[0]=+U[0],c[1]=+U[1],_):[c[0],c[1]]},_.translateExtent=function(U){return arguments.length?(d[0][0]=+U[0][0],d[1][0]=+U[1][0],d[0][1]=+U[0][1],d[1][1]=+U[1][1],_):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},_.constrain=function(U){return arguments.length?(r=U,_):r},_.duration=function(U){return arguments.length?(f=+U,_):f},_.interpolate=function(U){return arguments.length?(m=U,_):m},_.on=function(){var U=h.on.apply(h,arguments);return U===h?_:U},_.clickDistance=function(U){return arguments.length?(N=(U=+U)*U,_):Math.sqrt(N)},_.tapDistance=function(U){return arguments.length?(S=+U,_):S},_}const ps={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:r,targetHandle:a})=>`Couldn't create edge for ${e} handle id: "${e==="source"?r:a}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},gl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Oj=["Enter"," ","Escape"],zj={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:r})=>`Moved selected node ${e}. New position, x: ${n}, y: ${r}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Da;(function(e){e.Strict="strict",e.Loose="loose"})(Da||(Da={}));var go;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(go||(go={}));var xl;(function(e){e.Partial="partial",e.Full="full"})(xl||(xl={}));const Ij={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Ar;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ar||(Ar={}));var od;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(od||(od={}));var Be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Be||(Be={}));const Mb={[Be.Left]:Be.Right,[Be.Right]:Be.Left,[Be.Top]:Be.Bottom,[Be.Bottom]:Be.Top};function Lj(e){return e===null?null:e?"valid":"invalid"}const $j=e=>"id"in e&&"source"in e&&"target"in e,Q9=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Rg=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Ol=(e,n=[0,0])=>{const{width:r,height:a}=Ws(e),l=e.origin??n,c=r*l[0],d=a*l[1];return{x:e.position.x-c,y:e.position.y-d}},J9=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,l)=>{const c=typeof l=="string";let d=!n.nodeLookup&&!c?l:void 0;n.nodeLookup&&(d=c?n.nodeLookup.get(l):Rg(l)?l:n.nodeLookup.get(l.id));const f=d?ad(d,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Yd(a,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Gd(r)},zl=(e,n={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let r={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(a=>{if(n.filter===void 0||n.filter(a)){const l=ad(a);r=Yd(r,l)}}),Gd(r)},Dg=(e,n,[r,a,l]=[0,0,1],c=!1,d=!1)=>{const f={...Ll(n,[r,a,l]),width:n.width/l,height:n.height/l},m=[];for(const h of e.values()){const{measured:g,selectable:y=!0,hidden:x=!1}=h;if(d&&!y||x)continue;const b=g.width??h.width??h.initialWidth??null,j=g.height??h.height??h.initialHeight??null,N=yl(f,za(h)),S=(b??0)*(j??0),_=c&&N>0;(!h.internals.handleBounds||_||N>=S||h.dragging)&&m.push(h)}return m},ez=(e,n)=>{const r=new Set;return e.forEach(a=>{r.add(a.id)}),n.filter(a=>r.has(a.source)||r.has(a.target))};function tz(e,n){const r=new Map,a=n?.nodes?new Set(n.nodes.map(l=>l.id)):null;return e.forEach(l=>{l.measured.width&&l.measured.height&&(n?.includeHiddenNodes||!l.hidden)&&(!a||a.has(l.id))&&r.set(l.id,l)}),r}async function nz({nodes:e,width:n,height:r,panZoom:a,minZoom:l,maxZoom:c},d){if(e.size===0)return Promise.resolve(!0);const f=tz(e,d),m=zl(f),h=Og(m,n,r,d?.minZoom??l,d?.maxZoom??c,d?.padding??.1);return await a.setViewport(h,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function Hj({nodeId:e,nextPosition:n,nodeLookup:r,nodeOrigin:a=[0,0],nodeExtent:l,onError:c}){const d=r.get(e),f=d.parentId?r.get(d.parentId):void 0,{x:m,y:h}=f?f.internals.positionAbsolute:{x:0,y:0},g=d.origin??a;let y=d.extent||l;if(d.extent==="parent"&&!d.expandParent)if(!f)c?.("005",ps.error005());else{const b=f.measured.width,j=f.measured.height;b&&j&&(y=[[m,h],[m+b,h+j]])}else f&&Ia(d.extent)&&(y=[[d.extent[0][0]+m,d.extent[0][1]+h],[d.extent[1][0]+m,d.extent[1][1]+h]]);const x=Ia(y)?No(n,y,d.measured):n;return(d.measured.width===void 0||d.measured.height===void 0)&&c?.("015",ps.error015()),{position:{x:x.x-m+(d.measured.width??0)*g[0],y:x.y-h+(d.measured.height??0)*g[1]},positionAbsolute:x}}async function sz({nodesToRemove:e=[],edgesToRemove:n=[],nodes:r,edges:a,onBeforeDelete:l}){const c=new Set(e.map(x=>x.id)),d=[];for(const x of r){if(x.deletable===!1)continue;const b=c.has(x.id),j=!b&&x.parentId&&d.find(N=>N.id===x.parentId);(b||j)&&d.push(x)}const f=new Set(n.map(x=>x.id)),m=a.filter(x=>x.deletable!==!1),g=ez(d,m);for(const x of m)f.has(x.id)&&!g.find(j=>j.id===x.id)&&g.push(x);if(!l)return{edges:g,nodes:d};const y=await l({nodes:d,edges:g});return typeof y=="boolean"?y?{edges:g,nodes:d}:{edges:[],nodes:[]}:y}const Oa=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),No=(e={x:0,y:0},n,r)=>({x:Oa(e.x,n[0][0],n[1][0]-(r?.width??0)),y:Oa(e.y,n[0][1],n[1][1]-(r?.height??0))});function Pj(e,n,r){const{width:a,height:l}=Ws(r),{x:c,y:d}=r.internals.positionAbsolute;return No(e,[[c,d],[c+a,d+l]],n)}const Rb=(e,n,r)=>e<n?Oa(Math.abs(e-n),1,n)/n:e>r?-Oa(Math.abs(e-r),1,n)/n:0,Bj=(e,n,r=15,a=40)=>{const l=Rb(e.x,a,n.width-a)*r,c=Rb(e.y,a,n.height-a)*r;return[l,c]},Yd=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),kp=({x:e,y:n,width:r,height:a})=>({x:e,y:n,x2:e+r,y2:n+a}),Gd=({x:e,y:n,x2:r,y2:a})=>({x:e,y:n,width:r-e,height:a-n}),za=(e,n=[0,0])=>{const{x:r,y:a}=Rg(e)?e.internals.positionAbsolute:Ol(e,n);return{x:r,y:a,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},ad=(e,n=[0,0])=>{const{x:r,y:a}=Rg(e)?e.internals.positionAbsolute:Ol(e,n);return{x:r,y:a,x2:r+(e.measured?.width??e.width??e.initialWidth??0),y2:a+(e.measured?.height??e.height??e.initialHeight??0)}},Uj=(e,n)=>Gd(Yd(kp(e),kp(n))),yl=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),a=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*a)},Db=e=>Xn(e.width)&&Xn(e.height)&&Xn(e.x)&&Xn(e.y),Xn=e=>!isNaN(e)&&isFinite(e),rz=(e,n)=>{},Il=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Ll=({x:e,y:n},[r,a,l],c=!1,d=[1,1])=>{const f={x:(e-r)/l,y:(n-a)/l};return c?Il(f,d):f},id=({x:e,y:n},[r,a,l])=>({x:e*l+r,y:n*l+a});function pa(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(r)}if(typeof e=="string"&&e.endsWith("%")){const r=parseFloat(e);if(!Number.isNaN(r))return Math.floor(n*r*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function oz(e,n,r){if(typeof e=="string"||typeof e=="number"){const a=pa(e,r),l=pa(e,n);return{top:a,right:l,bottom:a,left:l,x:l*2,y:a*2}}if(typeof e=="object"){const a=pa(e.top??e.y??0,r),l=pa(e.bottom??e.y??0,r),c=pa(e.left??e.x??0,n),d=pa(e.right??e.x??0,n);return{top:a,right:d,bottom:l,left:c,x:c+d,y:a+l}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function az(e,n,r,a,l,c){const{x:d,y:f}=id(e,[n,r,a]),{x:m,y:h}=id({x:e.x+e.width,y:e.y+e.height},[n,r,a]),g=l-m,y=c-h;return{left:Math.floor(d),top:Math.floor(f),right:Math.floor(g),bottom:Math.floor(y)}}const Og=(e,n,r,a,l,c)=>{const d=oz(c,n,r),f=(n-d.x)/e.width,m=(r-d.y)/e.height,h=Math.min(f,m),g=Oa(h,a,l),y=e.x+e.width/2,x=e.y+e.height/2,b=n/2-y*g,j=r/2-x*g,N=az(e,b,j,g,n,r),S={left:Math.min(N.left-d.left,0),top:Math.min(N.top-d.top,0),right:Math.min(N.right-d.right,0),bottom:Math.min(N.bottom-d.bottom,0)};return{x:b-S.left+S.right,y:j-S.top+S.bottom,zoom:g}},vl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Ia(e){return e!=null&&e!=="parent"}function Ws(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Vj(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function qj(e,n={width:0,height:0},r,a,l){const c={...e},d=a.get(r);if(d){const f=d.origin||l;c.x+=d.internals.positionAbsolute.x-(n.width??0)*f[0],c.y+=d.internals.positionAbsolute.y-(n.height??0)*f[1]}return c}function Ob(e,n){if(e.size!==n.size)return!1;for(const r of e)if(!n.has(r))return!1;return!0}function iz(){let e,n;return{promise:new Promise((a,l)=>{e=a,n=l}),resolve:e,reject:n}}function lz(e){return{...zj,...e||{}}}function ol(e,{snapGrid:n=[0,0],snapToGrid:r=!1,transform:a,containerBounds:l}){const{x:c,y:d}=us(e),f=Ll({x:c-(l?.left??0),y:d-(l?.top??0)},a),{x:m,y:h}=r?Il(f,n):f;return{xSnapped:m,ySnapped:h,...f}}const zg=e=>({width:e.offsetWidth,height:e.offsetHeight}),Fj=e=>e?.getRootNode?.()||window?.document,cz=["INPUT","SELECT","TEXTAREA"];function Yj(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:cz.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const Gj=e=>"clientX"in e,us=(e,n)=>{const r=Gj(e),a=r?e.clientX:e.touches?.[0].clientX,l=r?e.clientY:e.touches?.[0].clientY;return{x:a-(n?.left??0),y:l-(n?.top??0)}},zb=(e,n,r,a,l)=>{const c=n.querySelectorAll(`.${e}`);return!c||!c.length?null:Array.from(c).map(d=>{const f=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:e,nodeId:l,position:d.getAttribute("data-handlepos"),x:(f.left-r.left)/a,y:(f.top-r.top)/a,...zg(d)}})};function Xj({sourceX:e,sourceY:n,targetX:r,targetY:a,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f}){const m=e*.125+l*.375+d*.375+r*.125,h=n*.125+c*.375+f*.375+a*.125,g=Math.abs(m-e),y=Math.abs(h-n);return[m,h,g,y]}function pu(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function Ib({pos:e,x1:n,y1:r,x2:a,y2:l,c}){switch(e){case Be.Left:return[n-pu(n-a,c),r];case Be.Right:return[n+pu(a-n,c),r];case Be.Top:return[n,r-pu(r-l,c)];case Be.Bottom:return[n,r+pu(l-r,c)]}}function Zj({sourceX:e,sourceY:n,sourcePosition:r=Be.Bottom,targetX:a,targetY:l,targetPosition:c=Be.Top,curvature:d=.25}){const[f,m]=Ib({pos:r,x1:e,y1:n,x2:a,y2:l,c:d}),[h,g]=Ib({pos:c,x1:a,y1:l,x2:e,y2:n,c:d}),[y,x,b,j]=Xj({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:m,targetControlX:h,targetControlY:g});return[`M${e},${n} C${f},${m} ${h},${g} ${a},${l}`,y,x,b,j]}function Wj({sourceX:e,sourceY:n,targetX:r,targetY:a}){const l=Math.abs(r-e)/2,c=r<e?r+l:r-l,d=Math.abs(a-n)/2,f=a<n?a+d:a-d;return[c,f,l,d]}function uz({sourceNode:e,targetNode:n,selected:r=!1,zIndex:a,elevateOnSelect:l=!1}){if(a!==void 0)return a;const c=l&&r?1e3:0,d=Math.max(e.parentId?e.internals.z:0,n.parentId?n.internals.z:0);return c+d}function dz({sourceNode:e,targetNode:n,width:r,height:a,transform:l}){const c=Yd(ad(e),ad(n));c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d={x:-l[0]/l[2],y:-l[1]/l[2],width:r/l[2],height:a/l[2]};return yl(d,Gd(c))>0}const fz=({source:e,sourceHandle:n,target:r,targetHandle:a})=>`xy-edge__${e}${n||""}-${r}${a||""}`,mz=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),hz=(e,n)=>{if(!e.source||!e.target)return n;let r;return $j(e)?r={...e}:r={...e,id:fz(e)},mz(r,n)?n:(r.sourceHandle===null&&delete r.sourceHandle,r.targetHandle===null&&delete r.targetHandle,n.concat(r))};function Kj({sourceX:e,sourceY:n,targetX:r,targetY:a}){const[l,c,d,f]=Wj({sourceX:e,sourceY:n,targetX:r,targetY:a});return[`M ${e},${n}L ${r},${a}`,l,c,d,f]}const Lb={[Be.Left]:{x:-1,y:0},[Be.Right]:{x:1,y:0},[Be.Top]:{x:0,y:-1},[Be.Bottom]:{x:0,y:1}},pz=({source:e,sourcePosition:n=Be.Bottom,target:r})=>n===Be.Left||n===Be.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},$b=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function gz({source:e,sourcePosition:n=Be.Bottom,target:r,targetPosition:a=Be.Top,center:l,offset:c,stepPosition:d}){const f=Lb[n],m=Lb[a],h={x:e.x+f.x*c,y:e.y+f.y*c},g={x:r.x+m.x*c,y:r.y+m.y*c},y=pz({source:h,sourcePosition:n,target:g}),x=y.x!==0?"x":"y",b=y[x];let j=[],N,S;const _={x:0,y:0},A={x:0,y:0},[,,E,M]=Wj({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(f[x]*m[x]===-1){x==="x"?(N=l.x??h.x+(g.x-h.x)*d,S=l.y??(h.y+g.y)/2):(N=l.x??(h.x+g.x)/2,S=l.y??h.y+(g.y-h.y)*d);const D=[{x:N,y:h.y},{x:N,y:g.y}],O=[{x:h.x,y:S},{x:g.x,y:S}];f[x]===b?j=x==="x"?D:O:j=x==="x"?O:D}else{const D=[{x:h.x,y:g.y}],O=[{x:g.x,y:h.y}];if(x==="x"?j=f.x===b?O:D:j=f.y===b?D:O,n===a){const G=Math.abs(e[x]-r[x]);if(G<=c){const ne=Math.min(c-1,c-G);f[x]===b?_[x]=(h[x]>e[x]?-1:1)*ne:A[x]=(g[x]>r[x]?-1:1)*ne}}if(n!==a){const G=x==="x"?"y":"x",ne=f[x]===m[G],U=h[G]>g[G],B=h[G]<g[G];(f[x]===1&&(!ne&&U||ne&&B)||f[x]!==1&&(!ne&&B||ne&&U))&&(j=x==="x"?D:O)}const P={x:h.x+_.x,y:h.y+_.y},q={x:g.x+A.x,y:g.y+A.y},Z=Math.max(Math.abs(P.x-j[0].x),Math.abs(q.x-j[0].x)),Q=Math.max(Math.abs(P.y-j[0].y),Math.abs(q.y-j[0].y));Z>=Q?(N=(P.x+q.x)/2,S=j[0].y):(N=j[0].x,S=(P.y+q.y)/2)}return[[e,{x:h.x+_.x,y:h.y+_.y},...j,{x:g.x+A.x,y:g.y+A.y},r],N,S,E,M]}function xz(e,n,r,a){const l=Math.min($b(e,n)/2,$b(n,r)/2,a),{x:c,y:d}=n;if(e.x===c&&c===r.x||e.y===d&&d===r.y)return`L${c} ${d}`;if(e.y===d){const h=e.x<r.x?-1:1,g=e.y<r.y?1:-1;return`L ${c+l*h},${d}Q ${c},${d} ${c},${d+l*g}`}const f=e.x<r.x?1:-1,m=e.y<r.y?-1:1;return`L ${c},${d+l*m}Q ${c},${d} ${c+l*f},${d}`}function Tp({sourceX:e,sourceY:n,sourcePosition:r=Be.Bottom,targetX:a,targetY:l,targetPosition:c=Be.Top,borderRadius:d=5,centerX:f,centerY:m,offset:h=20,stepPosition:g=.5}){const[y,x,b,j,N]=gz({source:{x:e,y:n},sourcePosition:r,target:{x:a,y:l},targetPosition:c,center:{x:f,y:m},offset:h,stepPosition:g});return[y.reduce((_,A,E)=>{let M="";return E>0&&E<y.length-1?M=xz(y[E-1],A,y[E+1],d):M=`${E===0?"M":"L"}${A.x} ${A.y}`,_+=M,_},""),x,b,j,N]}function Hb(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function yz(e){const{sourceNode:n,targetNode:r}=e;if(!Hb(n)||!Hb(r))return null;const a=n.internals.handleBounds||Pb(n.handles),l=r.internals.handleBounds||Pb(r.handles),c=Bb(a?.source??[],e.sourceHandle),d=Bb(e.connectionMode===Da.Strict?l?.target??[]:(l?.target??[]).concat(l?.source??[]),e.targetHandle);if(!c||!d)return e.onError?.("008",ps.error008(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const f=c?.position||Be.Bottom,m=d?.position||Be.Top,h=bl(n,c,f),g=bl(r,d,m);return{sourceX:h.x,sourceY:h.y,targetX:g.x,targetY:g.y,sourcePosition:f,targetPosition:m}}function Pb(e){if(!e)return null;const n=[],r=[];for(const a of e)a.width=a.width??1,a.height=a.height??1,a.type==="source"?n.push(a):a.type==="target"&&r.push(a);return{source:n,target:r}}function bl(e,n,r=Be.Left,a=!1){const l=(n?.x??0)+e.internals.positionAbsolute.x,c=(n?.y??0)+e.internals.positionAbsolute.y,{width:d,height:f}=n??Ws(e);if(a)return{x:l+d/2,y:c+f/2};switch(n?.position??r){case Be.Top:return{x:l+d/2,y:c};case Be.Right:return{x:l+d,y:c+f/2};case Be.Bottom:return{x:l+d/2,y:c+f};case Be.Left:return{x:l,y:c+f/2}}}function Bb(e,n){return e&&(n?e.find(r=>r.id===n):e[0])||null}function Ap(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`:""}function vz(e,{id:n,defaultColor:r,defaultMarkerStart:a,defaultMarkerEnd:l}){const c=new Set;return e.reduce((d,f)=>([f.markerStart||a,f.markerEnd||l].forEach(m=>{if(m&&typeof m=="object"){const h=Ap(m,n);c.has(h)||(d.push({id:h,color:m.color||r,...m}),c.add(h))}}),d),[]).sort((d,f)=>d.id.localeCompare(f.id))}const Ig={nodeOrigin:[0,0],nodeExtent:gl,elevateNodesOnSelect:!0,defaults:{}},bz={...Ig,checkEquality:!0};function Lg(e,n){const r={...e};for(const a in n)n[a]!==void 0&&(r[a]=n[a]);return r}function wz(e,n,r){const a=Lg(Ig,r);for(const l of e.values())if(l.parentId)$g(l,e,n,a);else{const c=Ol(l,a.nodeOrigin),d=Ia(l.extent)?l.extent:a.nodeExtent,f=No(c,d,Ws(l));l.internals.positionAbsolute=f}}function Mp(e,n,r,a){const l=Lg(bz,a);let c=e.length>0;const d=new Map(n),f=l?.elevateNodesOnSelect?1e3:0;n.clear(),r.clear();for(const m of e){let h=d.get(m.id);if(l.checkEquality&&m===h?.internals.userNode)n.set(m.id,h);else{const g=Ol(m,l.nodeOrigin),y=Ia(m.extent)?m.extent:l.nodeExtent,x=No(g,y,Ws(m));h={...l.defaults,...m,measured:{width:m.measured?.width,height:m.measured?.height},internals:{positionAbsolute:x,handleBounds:m.measured?h?.internals.handleBounds:void 0,z:Qj(m,f),userNode:m}},n.set(m.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(c=!1),m.parentId&&$g(h,n,r,a)}return c}function Nz(e,n){if(!e.parentId)return;const r=n.get(e.parentId);r?r.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function $g(e,n,r,a){const{elevateNodesOnSelect:l,nodeOrigin:c,nodeExtent:d}=Lg(Ig,a),f=e.parentId,m=n.get(f);if(!m){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Nz(e,r);const h=l?1e3:0,{x:g,y,z:x}=jz(e,m,c,d,h),{positionAbsolute:b}=e.internals,j=g!==b.x||y!==b.y;(j||x!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:j?{x:g,y}:b,z:x}})}function Qj(e,n){return(Xn(e.zIndex)?e.zIndex:0)+(e.selected?n:0)}function jz(e,n,r,a,l){const{x:c,y:d}=n.internals.positionAbsolute,f=Ws(e),m=Ol(e,r),h=Ia(e.extent)?No(m,e.extent,f):m;let g=No({x:c+h.x,y:d+h.y},a,f);e.extent==="parent"&&(g=Pj(g,f,n));const y=Qj(e,l),x=n.internals.z??0;return{x:g.x,y:g.y,z:x>=y?x+1:y}}function Hg(e,n,r,a=[0,0]){const l=[],c=new Map;for(const d of e){const f=n.get(d.parentId);if(!f)continue;const m=c.get(d.parentId)?.expandedRect??za(f),h=Uj(m,d.rect);c.set(d.parentId,{expandedRect:h,parent:f})}return c.size>0&&c.forEach(({expandedRect:d,parent:f},m)=>{const h=f.internals.positionAbsolute,g=Ws(f),y=f.origin??a,x=d.x<h.x?Math.round(Math.abs(h.x-d.x)):0,b=d.y<h.y?Math.round(Math.abs(h.y-d.y)):0,j=Math.max(g.width,Math.round(d.width)),N=Math.max(g.height,Math.round(d.height)),S=(j-g.width)*y[0],_=(N-g.height)*y[1];(x>0||b>0||S||_)&&(l.push({id:m,type:"position",position:{x:f.position.x-x+S,y:f.position.y-b+_}}),r.get(m)?.forEach(A=>{e.some(E=>E.id===A.id)||l.push({id:A.id,type:"position",position:{x:A.position.x+x,y:A.position.y+b}})})),(g.width<d.width||g.height<d.height||x||b)&&l.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:j+(x?y[0]*x-S:0),height:N+(b?y[1]*b-_:0)}})}),l}function Sz(e,n,r,a,l,c){const d=a?.querySelector(".xyflow__viewport");let f=!1;if(!d)return{changes:[],updatedInternals:f};const m=[],h=window.getComputedStyle(d),{m22:g}=new window.DOMMatrixReadOnly(h.transform),y=[];for(const x of e.values()){const b=n.get(x.id);if(!b)continue;if(b.hidden){n.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),f=!0;continue}const j=zg(x.nodeElement),N=b.measured.width!==j.width||b.measured.height!==j.height;if(!!(j.width&&j.height&&(N||!b.internals.handleBounds||x.force))){const _=x.nodeElement.getBoundingClientRect(),A=Ia(b.extent)?b.extent:c;let{positionAbsolute:E}=b.internals;b.parentId&&b.extent==="parent"?E=Pj(E,j,n.get(b.parentId)):A&&(E=No(E,A,j));const M={...b,measured:j,internals:{...b.internals,positionAbsolute:E,handleBounds:{source:zb("source",x.nodeElement,_,g,b.id),target:zb("target",x.nodeElement,_,g,b.id)}}};n.set(b.id,M),b.parentId&&$g(M,n,r,{nodeOrigin:l}),f=!0,N&&(m.push({id:b.id,type:"dimensions",dimensions:j}),b.expandParent&&b.parentId&&y.push({id:b.id,parentId:b.parentId,rect:za(M,l)}))}}if(y.length>0){const x=Hg(y,n,r,l);m.push(...x)}return{changes:m,updatedInternals:f}}async function _z({delta:e,panZoom:n,transform:r,translateExtent:a,width:l,height:c}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const d=await n.setViewportConstrained({x:r[0]+e.x,y:r[1]+e.y,zoom:r[2]},[[0,0],[l,c]],a),f=!!d&&(d.x!==r[0]||d.y!==r[1]||d.k!==r[2]);return Promise.resolve(f)}function Ub(e,n,r,a,l,c){let d=l;const f=a.get(d)||new Map;a.set(d,f.set(r,n)),d=`${l}-${e}`;const m=a.get(d)||new Map;if(a.set(d,m.set(r,n)),c){d=`${l}-${e}-${c}`;const h=a.get(d)||new Map;a.set(d,h.set(r,n))}}function Jj(e,n,r){e.clear(),n.clear();for(const a of r){const{source:l,target:c,sourceHandle:d=null,targetHandle:f=null}=a,m={edgeId:a.id,source:l,target:c,sourceHandle:d,targetHandle:f},h=`${l}-${d}--${c}-${f}`,g=`${c}-${f}--${l}-${d}`;Ub("source",m,g,e,l,d),Ub("target",m,h,e,c,f),n.set(a.id,a)}}function eS(e,n){if(!e.parentId)return!1;const r=n.get(e.parentId);return r?r.selected?!0:eS(r,n):!1}function Vb(e,n,r){let a=e;do{if(a?.matches?.(n))return!0;if(a===r)return!1;a=a?.parentElement}while(a);return!1}function Ez(e,n,r,a){const l=new Map;for(const[c,d]of e)if((d.selected||d.id===a)&&(!d.parentId||!eS(d,e))&&(d.draggable||n&&typeof d.draggable>"u")){const f=e.get(c);f&&l.set(c,{id:c,position:f.position||{x:0,y:0},distance:{x:r.x-f.internals.positionAbsolute.x,y:r.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return l}function Hh({nodeId:e,dragItems:n,nodeLookup:r,dragging:a=!0}){const l=[];for(const[d,f]of n){const m=r.get(d)?.internals.userNode;m&&l.push({...m,position:f.position,dragging:a})}if(!e)return[l[0],l];const c=r.get(e)?.internals.userNode;return[c?{...c,position:n.get(e)?.position||c.position,dragging:a}:l[0],l]}function Cz({dragItems:e,snapGrid:n,x:r,y:a}){const l=e.values().next().value;if(!l)return null;const c={x:r-l.distance.x,y:a-l.distance.y},d=Il(c,n);return{x:d.x-c.x,y:d.y-c.y}}function kz({onNodeMouseDown:e,getStoreItems:n,onDragStart:r,onDrag:a,onDragStop:l}){let c={x:null,y:null},d=0,f=new Map,m=!1,h={x:0,y:0},g=null,y=!1,x=null,b=!1,j=!1,N=null;function S({noDragClassName:A,handleSelector:E,domNode:M,isSelectable:R,nodeId:D,nodeClickDistance:O=0}){x=Sn(M);function P({x:G,y:ne}){const{nodeLookup:U,nodeExtent:B,snapGrid:k,snapToGrid:L,nodeOrigin:I,onNodeDrag:$,onSelectionDrag:C,onError:H,updateNodePositions:Y}=n();c={x:G,y:ne};let V=!1;const J=f.size>1,ce=J&&B?kp(zl(f)):null,fe=J&&L?Cz({dragItems:f,snapGrid:k,x:G,y:ne}):null;for(const[ee,ie]of f){if(!U.has(ee))continue;let ge={x:G-ie.distance.x,y:ne-ie.distance.y};L&&(ge=fe?{x:Math.round(ge.x+fe.x),y:Math.round(ge.y+fe.y)}:Il(ge,k));let Ee=null;if(J&&B&&!ie.extent&&ce){const{positionAbsolute:ze}=ie.internals,re=ze.x-ce.x+B[0][0],K=ze.x+ie.measured.width-ce.x2+B[1][0],me=ze.y-ce.y+B[0][1],be=ze.y+ie.measured.height-ce.y2+B[1][1];Ee=[[re,me],[K,be]]}const{position:Ne,positionAbsolute:ve}=Hj({nodeId:ee,nextPosition:ge,nodeLookup:U,nodeExtent:Ee||B,nodeOrigin:I,onError:H});V=V||ie.position.x!==Ne.x||ie.position.y!==Ne.y,ie.position=Ne,ie.internals.positionAbsolute=ve}if(j=j||V,!!V&&(Y(f,!0),N&&(a||$||!D&&C))){const[ee,ie]=Hh({nodeId:D,dragItems:f,nodeLookup:U});a?.(N,f,ee,ie),$?.(N,ee,ie),D||C?.(N,ie)}}async function q(){if(!g)return;const{transform:G,panBy:ne,autoPanSpeed:U,autoPanOnNodeDrag:B}=n();if(!B){m=!1,cancelAnimationFrame(d);return}const[k,L]=Bj(h,g,U);(k!==0||L!==0)&&(c.x=(c.x??0)-k/G[2],c.y=(c.y??0)-L/G[2],await ne({x:k,y:L})&&P(c)),d=requestAnimationFrame(q)}function Z(G){const{nodeLookup:ne,multiSelectionActive:U,nodesDraggable:B,transform:k,snapGrid:L,snapToGrid:I,selectNodesOnDrag:$,onNodeDragStart:C,onSelectionDragStart:H,unselectNodesAndEdges:Y}=n();y=!0,(!$||!R)&&!U&&D&&(ne.get(D)?.selected||Y()),R&&$&&D&&e?.(D);const V=ol(G.sourceEvent,{transform:k,snapGrid:L,snapToGrid:I,containerBounds:g});if(c=V,f=Ez(ne,B,V,D),f.size>0&&(r||C||!D&&H)){const[J,ce]=Hh({nodeId:D,dragItems:f,nodeLookup:ne});r?.(G.sourceEvent,f,J,ce),C?.(G.sourceEvent,J,ce),D||H?.(G.sourceEvent,ce)}}const Q=yj().clickDistance(O).on("start",G=>{const{domNode:ne,nodeDragThreshold:U,transform:B,snapGrid:k,snapToGrid:L}=n();g=ne?.getBoundingClientRect()||null,b=!1,j=!1,N=G.sourceEvent,U===0&&Z(G),c=ol(G.sourceEvent,{transform:B,snapGrid:k,snapToGrid:L,containerBounds:g}),h=us(G.sourceEvent,g)}).on("drag",G=>{const{autoPanOnNodeDrag:ne,transform:U,snapGrid:B,snapToGrid:k,nodeDragThreshold:L,nodeLookup:I}=n(),$=ol(G.sourceEvent,{transform:U,snapGrid:B,snapToGrid:k,containerBounds:g});if(N=G.sourceEvent,(G.sourceEvent.type==="touchmove"&&G.sourceEvent.touches.length>1||D&&!I.has(D))&&(b=!0),!b){if(!m&&ne&&y&&(m=!0,q()),!y){const C=$.xSnapped-(c.x??0),H=$.ySnapped-(c.y??0);Math.sqrt(C*C+H*H)>L&&Z(G)}(c.x!==$.xSnapped||c.y!==$.ySnapped)&&f&&y&&(h=us(G.sourceEvent,g),P($))}}).on("end",G=>{if(!(!y||b)&&(m=!1,y=!1,cancelAnimationFrame(d),f.size>0)){const{nodeLookup:ne,updateNodePositions:U,onNodeDragStop:B,onSelectionDragStop:k}=n();if(j&&(U(f,!1),j=!1),l||B||!D&&k){const[L,I]=Hh({nodeId:D,dragItems:f,nodeLookup:ne,dragging:!1});l?.(G.sourceEvent,f,L,I),B?.(G.sourceEvent,L,I),D||k?.(G.sourceEvent,I)}}}).filter(G=>{const ne=G.target;return!G.button&&(!A||!Vb(ne,`.${A}`,M))&&(!E||Vb(ne,E,M))});x.call(Q)}function _(){x?.on(".drag",null)}return{update:S,destroy:_}}function Tz(e,n,r){const a=[],l={x:e.x-r,y:e.y-r,width:r*2,height:r*2};for(const c of n.values())yl(l,za(c))>0&&a.push(c);return a}const Az=250;function Mz(e,n,r,a){let l=[],c=1/0;const d=Tz(e,r,n+Az);for(const f of d){const m=[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]];for(const h of m){if(a.nodeId===h.nodeId&&a.type===h.type&&a.id===h.id)continue;const{x:g,y}=bl(f,h,h.position,!0),x=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(y-e.y,2));x>n||(x<c?(l=[{...h,x:g,y}],c=x):x===c&&l.push({...h,x:g,y}))}}if(!l.length)return null;if(l.length>1){const f=a.type==="source"?"target":"source";return l.find(m=>m.type===f)??l[0]}return l[0]}function tS(e,n,r,a,l,c=!1){const d=a.get(e);if(!d)return null;const f=l==="strict"?d.internals.handleBounds?.[n]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],m=(r?f?.find(h=>h.id===r):f?.[0])??null;return m&&c?{...m,...bl(d,m,m.position,!0)}:m}function nS(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function Rz(e,n){let r=null;return n?r=!0:e&&!n&&(r=!1),r}const sS=()=>!0;function Dz(e,{connectionMode:n,connectionRadius:r,handleId:a,nodeId:l,edgeUpdaterType:c,isTarget:d,domNode:f,nodeLookup:m,lib:h,autoPanOnConnect:g,flowId:y,panBy:x,cancelConnection:b,onConnectStart:j,onConnect:N,onConnectEnd:S,isValidConnection:_=sS,onReconnectEnd:A,updateConnection:E,getTransform:M,getFromHandle:R,autoPanSpeed:D,dragThreshold:O=1,handleDomNode:P}){const q=Fj(e.target);let Z=0,Q;const{x:G,y:ne}=us(e),U=nS(c,P),B=f?.getBoundingClientRect();let k=!1;if(!B||!U)return;const L=tS(l,U,a,m,n);if(!L)return;let I=us(e,B),$=!1,C=null,H=!1,Y=null;function V(){if(!g||!B)return;const[Ne,ve]=Bj(I,B,D);x({x:Ne,y:ve}),Z=requestAnimationFrame(V)}const J={...L,nodeId:l,type:U,position:L.position},ce=m.get(l);let ee={inProgress:!0,isValid:null,from:bl(ce,J,Be.Left,!0),fromHandle:J,fromPosition:J.position,fromNode:ce,to:I,toHandle:null,toPosition:Mb[J.position],toNode:null};function ie(){k=!0,E(ee),j?.(e,{nodeId:l,handleId:a,handleType:U})}O===0&&ie();function ge(Ne){if(!k){const{x:K,y:me}=us(Ne),be=K-G,Ce=me-ne;if(!(be*be+Ce*Ce>O*O))return;ie()}if(!R()||!J){Ee(Ne);return}const ve=M();I=us(Ne,B),Q=Mz(Ll(I,ve,!1,[1,1]),r,m,J),$||(V(),$=!0);const ze=rS(Ne,{handle:Q,connectionMode:n,fromNodeId:l,fromHandleId:a,fromType:d?"target":"source",isValidConnection:_,doc:q,lib:h,flowId:y,nodeLookup:m});Y=ze.handleDomNode,C=ze.connection,H=Rz(!!Q,ze.isValid);const re={...ee,isValid:H,to:ze.toHandle&&H?id({x:ze.toHandle.x,y:ze.toHandle.y},ve):I,toHandle:ze.toHandle,toPosition:H&&ze.toHandle?ze.toHandle.position:Mb[J.position],toNode:ze.toHandle?m.get(ze.toHandle.nodeId):null};H&&Q&&ee.toHandle&&re.toHandle&&ee.toHandle.type===re.toHandle.type&&ee.toHandle.nodeId===re.toHandle.nodeId&&ee.toHandle.id===re.toHandle.id&&ee.to.x===re.to.x&&ee.to.y===re.to.y||(E(re),ee=re)}function Ee(Ne){if(k){(Q||Y)&&C&&H&&N?.(C);const{inProgress:ve,...ze}=ee,re={...ze,toPosition:ee.toHandle?ee.toPosition:null};S?.(Ne,re),c&&A?.(Ne,re)}b(),cancelAnimationFrame(Z),$=!1,H=!1,C=null,Y=null,q.removeEventListener("mousemove",ge),q.removeEventListener("mouseup",Ee),q.removeEventListener("touchmove",ge),q.removeEventListener("touchend",Ee)}q.addEventListener("mousemove",ge),q.addEventListener("mouseup",Ee),q.addEventListener("touchmove",ge),q.addEventListener("touchend",Ee)}function rS(e,{handle:n,connectionMode:r,fromNodeId:a,fromHandleId:l,fromType:c,doc:d,lib:f,flowId:m,isValidConnection:h=sS,nodeLookup:g}){const y=c==="target",x=n?d.querySelector(`.${f}-flow__handle[data-id="${m}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:b,y:j}=us(e),N=d.elementFromPoint(b,j),S=N?.classList.contains(`${f}-flow__handle`)?N:x,_={handleDomNode:S,isValid:!1,connection:null,toHandle:null};if(S){const A=nS(void 0,S),E=S.getAttribute("data-nodeid"),M=S.getAttribute("data-handleid"),R=S.classList.contains("connectable"),D=S.classList.contains("connectableend");if(!E||!A)return _;const O={source:y?E:a,sourceHandle:y?M:l,target:y?a:E,targetHandle:y?l:M};_.connection=O;const q=R&&D&&(r===Da.Strict?y&&A==="source"||!y&&A==="target":E!==a||M!==l);_.isValid=q&&h(O),_.toHandle=tS(E,A,M,g,r,!0)}return _}const Rp={onPointerDown:Dz,isValid:rS};function Oz({domNode:e,panZoom:n,getTransform:r,getViewScale:a}){const l=Sn(e);function c({translateExtent:f,width:m,height:h,zoomStep:g=1,pannable:y=!0,zoomable:x=!0,inversePan:b=!1}){const j=E=>{if(E.sourceEvent.type!=="wheel"||!n)return;const M=r(),R=E.sourceEvent.ctrlKey&&vl()?10:1,D=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*g,O=M[2]*Math.pow(2,D*R);n.scaleTo(O)};let N=[0,0];const S=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(N=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},_=E=>{const M=r();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!n)return;const R=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],D=[R[0]-N[0],R[1]-N[1]];N=R;const O=a()*Math.max(M[2],Math.log(M[2]))*(b?-1:1),P={x:M[0]-D[0]*O,y:M[1]-D[1]*O},q=[[0,0],[m,h]];n.setViewportConstrained({x:P.x,y:P.y,zoom:M[2]},q,f)},A=Dj().on("start",S).on("zoom",y?_:null).on("zoom.wheel",x?j:null);l.call(A,{})}function d(){l.on("zoom",null)}return{update:c,destroy:d,pointer:Yn}}const zz=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Xd=e=>({x:e.x,y:e.y,zoom:e.k}),Ph=({x:e,y:n,zoom:r})=>Fd.translate(e,n).scale(r),xa=(e,n)=>e.target.closest(`.${n}`),oS=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),Iz=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Bh=(e,n=0,r=Iz,a=()=>{})=>{const l=typeof n=="number"&&n>0;return l||a(),l?e.transition().duration(n).ease(r).on("end",a):e},aS=e=>{const n=e.ctrlKey&&vl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function Lz({zoomPanValues:e,noWheelClassName:n,d3Selection:r,d3Zoom:a,panOnScrollMode:l,panOnScrollSpeed:c,zoomOnPinch:d,onPanZoomStart:f,onPanZoom:m,onPanZoomEnd:h}){return g=>{if(xa(g,n))return!1;g.preventDefault(),g.stopImmediatePropagation();const y=r.property("__zoom").k||1;if(g.ctrlKey&&d){const S=Yn(g),_=aS(g),A=y*Math.pow(2,_);a.scaleTo(r,A,S,g);return}const x=g.deltaMode===1?20:1;let b=l===go.Vertical?0:g.deltaX*x,j=l===go.Horizontal?0:g.deltaY*x;!vl()&&g.shiftKey&&l!==go.Vertical&&(b=g.deltaY*x,j=0),a.translateBy(r,-(b/y)*c,-(j/y)*c,{internal:!0});const N=Xd(r.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,f?.(g,N)),e.isPanScrolling&&(m?.(g,N),e.panScrollTimeout=setTimeout(()=>{h?.(g,N),e.isPanScrolling=!1},150))}}function $z({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:r}){return function(a,l){const c=a.type==="wheel",d=!n&&c&&!a.ctrlKey,f=xa(a,e);if(a.ctrlKey&&c&&f&&a.preventDefault(),d||f)return null;a.preventDefault(),r.call(this,a,l)}}function Hz({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:r}){return a=>{if(a.sourceEvent?.internal)return;const l=Xd(a.transform);e.mouseButton=a.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=l,a.sourceEvent?.type==="mousedown"&&n(!0),r&&r?.(a.sourceEvent,l)}}function Pz({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:r,onTransformChange:a,onPanZoom:l}){return c=>{e.usedRightMouseButton=!!(r&&oS(n,e.mouseButton??0)),c.sourceEvent?.sync||a([c.transform.x,c.transform.y,c.transform.k]),l&&!c.sourceEvent?.internal&&l?.(c.sourceEvent,Xd(c.transform))}}function Bz({zoomPanValues:e,panOnDrag:n,panOnScroll:r,onDraggingChange:a,onPanZoomEnd:l,onPaneContextMenu:c}){return d=>{if(!d.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,c&&oS(n,e.mouseButton??0)&&!e.usedRightMouseButton&&d.sourceEvent&&c(d.sourceEvent),e.usedRightMouseButton=!1,a(!1),l&&zz(e.prevViewport,d.transform))){const f=Xd(d.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{l?.(d.sourceEvent,f)},r?150:0)}}}function Uz({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:a,panOnScroll:l,zoomOnDoubleClick:c,userSelectionActive:d,noWheelClassName:f,noPanClassName:m,lib:h}){return g=>{const y=e||n,x=r&&g.ctrlKey;if(g.button===1&&g.type==="mousedown"&&(xa(g,`${h}-flow__node`)||xa(g,`${h}-flow__edge`)))return!0;if(!a&&!y&&!l&&!c&&!r||d||xa(g,f)&&g.type==="wheel"||xa(g,m)&&(g.type!=="wheel"||l&&g.type==="wheel"&&!e)||!r&&g.ctrlKey&&g.type==="wheel")return!1;if(!r&&g.type==="touchstart"&&g.touches?.length>1)return g.preventDefault(),!1;if(!y&&!l&&!x&&g.type==="wheel"||!a&&(g.type==="mousedown"||g.type==="touchstart")||Array.isArray(a)&&!a.includes(g.button)&&g.type==="mousedown")return!1;const b=Array.isArray(a)&&a.includes(g.button)||!g.button||g.button<=1;return(!g.ctrlKey||g.type==="wheel")&&b}}function Vz({domNode:e,minZoom:n,maxZoom:r,paneClickDistance:a,translateExtent:l,viewport:c,onPanZoom:d,onPanZoomStart:f,onPanZoomEnd:m,onDraggingChange:h}){const g={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=e.getBoundingClientRect(),x=Dj().clickDistance(!Xn(a)||a<0?0:a).scaleExtent([n,r]).translateExtent(l),b=Sn(e).call(x);E({x:c.x,y:c.y,zoom:Oa(c.zoom,n,r)},[[0,0],[y.width,y.height]],l);const j=b.on("wheel.zoom"),N=b.on("dblclick.zoom");x.wheelDelta(aS);function S(G,ne){return b?new Promise(U=>{x?.interpolate(ne?.interpolate==="linear"?rl:Mu).transform(Bh(b,ne?.duration,ne?.ease,()=>U(!0)),G)}):Promise.resolve(!1)}function _({noWheelClassName:G,noPanClassName:ne,onPaneContextMenu:U,userSelectionActive:B,panOnScroll:k,panOnDrag:L,panOnScrollMode:I,panOnScrollSpeed:$,preventScrolling:C,zoomOnPinch:H,zoomOnScroll:Y,zoomOnDoubleClick:V,zoomActivationKeyPressed:J,lib:ce,onTransformChange:fe}){B&&!g.isZoomingOrPanning&&A();const ie=k&&!J&&!B?Lz({zoomPanValues:g,noWheelClassName:G,d3Selection:b,d3Zoom:x,panOnScrollMode:I,panOnScrollSpeed:$,zoomOnPinch:H,onPanZoomStart:f,onPanZoom:d,onPanZoomEnd:m}):$z({noWheelClassName:G,preventScrolling:C,d3ZoomHandler:j});if(b.on("wheel.zoom",ie,{passive:!1}),!B){const Ee=Hz({zoomPanValues:g,onDraggingChange:h,onPanZoomStart:f});x.on("start",Ee);const Ne=Pz({zoomPanValues:g,panOnDrag:L,onPaneContextMenu:!!U,onPanZoom:d,onTransformChange:fe});x.on("zoom",Ne);const ve=Bz({zoomPanValues:g,panOnDrag:L,panOnScroll:k,onPaneContextMenu:U,onPanZoomEnd:m,onDraggingChange:h});x.on("end",ve)}const ge=Uz({zoomActivationKeyPressed:J,panOnDrag:L,zoomOnScroll:Y,panOnScroll:k,zoomOnDoubleClick:V,zoomOnPinch:H,userSelectionActive:B,noPanClassName:ne,noWheelClassName:G,lib:ce});x.filter(ge),V?b.on("dblclick.zoom",N):b.on("dblclick.zoom",null)}function A(){x.on("zoom",null)}async function E(G,ne,U){const B=Ph(G),k=x?.constrain()(B,ne,U);return k&&await S(k),new Promise(L=>L(k))}async function M(G,ne){const U=Ph(G);return await S(U,ne),new Promise(B=>B(U))}function R(G){if(b){const ne=Ph(G),U=b.property("__zoom");(U.k!==G.zoom||U.x!==G.x||U.y!==G.y)&&x?.transform(b,ne,null,{sync:!0})}}function D(){const G=b?Rj(b.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function O(G,ne){return b?new Promise(U=>{x?.interpolate(ne?.interpolate==="linear"?rl:Mu).scaleTo(Bh(b,ne?.duration,ne?.ease,()=>U(!0)),G)}):Promise.resolve(!1)}function P(G,ne){return b?new Promise(U=>{x?.interpolate(ne?.interpolate==="linear"?rl:Mu).scaleBy(Bh(b,ne?.duration,ne?.ease,()=>U(!0)),G)}):Promise.resolve(!1)}function q(G){x?.scaleExtent(G)}function Z(G){x?.translateExtent(G)}function Q(G){const ne=!Xn(G)||G<0?0:G;x?.clickDistance(ne)}return{update:_,destroy:A,setViewport:M,setViewportConstrained:E,getViewport:D,scaleTo:O,scaleBy:P,setScaleExtent:q,setTranslateExtent:Z,syncViewport:R,setClickDistance:Q}}var La;(function(e){e.Line="line",e.Handle="handle"})(La||(La={}));function qz({width:e,prevWidth:n,height:r,prevHeight:a,affectsX:l,affectsY:c}){const d=e-n,f=r-a,m=[d>0?1:d<0?-1:0,f>0?1:f<0?-1:0];return d&&l&&(m[0]=m[0]*-1),f&&c&&(m[1]=m[1]*-1),m}function Fz(e){const n=e.includes("right")||e.includes("left"),r=e.includes("bottom")||e.includes("top"),a=e.includes("left"),l=e.includes("top");return{isHorizontal:n,isVertical:r,affectsX:a,affectsY:l}}function _r(e,n){return Math.max(0,n-e)}function Er(e,n){return Math.max(0,e-n)}function gu(e,n,r){return Math.max(0,n-e,e-r)}function qb(e,n){return e?!n:n}function Yz(e,n,r,a,l,c,d,f){let{affectsX:m,affectsY:h}=n;const{isHorizontal:g,isVertical:y}=n,x=g&&y,{xSnapped:b,ySnapped:j}=r,{minWidth:N,maxWidth:S,minHeight:_,maxHeight:A}=a,{x:E,y:M,width:R,height:D,aspectRatio:O}=e;let P=Math.floor(g?b-e.pointerX:0),q=Math.floor(y?j-e.pointerY:0);const Z=R+(m?-P:P),Q=D+(h?-q:q),G=-c[0]*R,ne=-c[1]*D;let U=gu(Z,N,S),B=gu(Q,_,A);if(d){let I=0,$=0;m&&P<0?I=_r(E+P+G,d[0][0]):!m&&P>0&&(I=Er(E+Z+G,d[1][0])),h&&q<0?$=_r(M+q+ne,d[0][1]):!h&&q>0&&($=Er(M+Q+ne,d[1][1])),U=Math.max(U,I),B=Math.max(B,$)}if(f){let I=0,$=0;m&&P>0?I=Er(E+P,f[0][0]):!m&&P<0&&(I=_r(E+Z,f[1][0])),h&&q>0?$=Er(M+q,f[0][1]):!h&&q<0&&($=_r(M+Q,f[1][1])),U=Math.max(U,I),B=Math.max(B,$)}if(l){if(g){const I=gu(Z/O,_,A)*O;if(U=Math.max(U,I),d){let $=0;!m&&!h||m&&!h&&x?$=Er(M+ne+Z/O,d[1][1])*O:$=_r(M+ne+(m?P:-P)/O,d[0][1])*O,U=Math.max(U,$)}if(f){let $=0;!m&&!h||m&&!h&&x?$=_r(M+Z/O,f[1][1])*O:$=Er(M+(m?P:-P)/O,f[0][1])*O,U=Math.max(U,$)}}if(y){const I=gu(Q*O,N,S)/O;if(B=Math.max(B,I),d){let $=0;!m&&!h||h&&!m&&x?$=Er(E+Q*O+G,d[1][0])/O:$=_r(E+(h?q:-q)*O+G,d[0][0])/O,B=Math.max(B,$)}if(f){let $=0;!m&&!h||h&&!m&&x?$=_r(E+Q*O,f[1][0])/O:$=Er(E+(h?q:-q)*O,f[0][0])/O,B=Math.max(B,$)}}}q=q+(q<0?B:-B),P=P+(P<0?U:-U),l&&(x?Z>Q*O?q=(qb(m,h)?-P:P)/O:P=(qb(m,h)?-q:q)*O:g?(q=P/O,h=m):(P=q*O,m=h));const k=m?E+P:E,L=h?M+q:M;return{width:R+(m?-P:P),height:D+(h?-q:q),x:c[0]*P*(m?-1:1)+k,y:c[1]*q*(h?-1:1)+L}}const iS={width:0,height:0,x:0,y:0},Gz={...iS,pointerX:0,pointerY:0,aspectRatio:1};function Xz(e){return[[0,0],[e.measured.width,e.measured.height]]}function Zz(e,n,r){const a=n.position.x+e.position.x,l=n.position.y+e.position.y,c=e.measured.width??0,d=e.measured.height??0,f=r[0]*c,m=r[1]*d;return[[a-f,l-m],[a+c-f,l+d-m]]}function Wz({domNode:e,nodeId:n,getStoreItems:r,onChange:a,onEnd:l}){const c=Sn(e);function d({controlPosition:m,boundaries:h,keepAspectRatio:g,resizeDirection:y,onResizeStart:x,onResize:b,onResizeEnd:j,shouldResize:N}){let S={...iS},_={...Gz};const A=Fz(m);let E,M=null,R=[],D,O,P;const q=yj().on("start",Z=>{const{nodeLookup:Q,transform:G,snapGrid:ne,snapToGrid:U,nodeOrigin:B,paneDomNode:k}=r();if(E=Q.get(n),!E)return;M=k?.getBoundingClientRect()??null;const{xSnapped:L,ySnapped:I}=ol(Z.sourceEvent,{transform:G,snapGrid:ne,snapToGrid:U,containerBounds:M});S={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},_={...S,pointerX:L,pointerY:I,aspectRatio:S.width/S.height},D=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(D=Q.get(E.parentId),O=D&&E.extent==="parent"?Xz(D):void 0),R=[],P=void 0;for(const[$,C]of Q)if(C.parentId===n&&(R.push({id:$,position:{...C.position},extent:C.extent}),C.extent==="parent"||C.expandParent)){const H=Zz(C,E,C.origin??B);P?P=[[Math.min(H[0][0],P[0][0]),Math.min(H[0][1],P[0][1])],[Math.max(H[1][0],P[1][0]),Math.max(H[1][1],P[1][1])]]:P=H}x?.(Z,{...S})}).on("drag",Z=>{const{transform:Q,snapGrid:G,snapToGrid:ne,nodeOrigin:U}=r(),B=ol(Z.sourceEvent,{transform:Q,snapGrid:G,snapToGrid:ne,containerBounds:M}),k=[];if(!E)return;const{x:L,y:I,width:$,height:C}=S,H={},Y=E.origin??U,{width:V,height:J,x:ce,y:fe}=Yz(_,A,B,h,g,Y,O,P),ee=V!==$,ie=J!==C,ge=ce!==L&&ee,Ee=fe!==I&&ie;if(!ge&&!Ee&&!ee&&!ie)return;if((ge||Ee||Y[0]===1||Y[1]===1)&&(H.x=ge?ce:S.x,H.y=Ee?fe:S.y,S.x=H.x,S.y=H.y,R.length>0)){const re=ce-L,K=fe-I;for(const me of R)me.position={x:me.position.x-re+Y[0]*(V-$),y:me.position.y-K+Y[1]*(J-C)},k.push(me)}if((ee||ie)&&(H.width=ee&&(!y||y==="horizontal")?V:S.width,H.height=ie&&(!y||y==="vertical")?J:S.height,S.width=H.width,S.height=H.height),D&&E.expandParent){const re=Y[0]*(H.width??0);H.x&&H.x<re&&(S.x=re,_.x=_.x-(H.x-re));const K=Y[1]*(H.height??0);H.y&&H.y<K&&(S.y=K,_.y=_.y-(H.y-K))}const Ne=qz({width:S.width,prevWidth:$,height:S.height,prevHeight:C,affectsX:A.affectsX,affectsY:A.affectsY}),ve={...S,direction:Ne};N?.(Z,ve)!==!1&&(b?.(Z,ve),a(H,k))}).on("end",Z=>{j?.(Z,{...S}),l?.({...S})});c.call(q)}function f(){c.on(".drag",null)}return{update:d,destroy:f}}var Uh={exports:{}},Vh={},qh={exports:{}},Fh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb;function Kz(){if(Fb)return Fh;Fb=1;var e=Nl();function n(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:n,a=e.useState,l=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function f(y,x){var b=x(),j=a({inst:{value:b,getSnapshot:x}}),N=j[0].inst,S=j[1];return c(function(){N.value=b,N.getSnapshot=x,m(N)&&S({inst:N})},[y,b,x]),l(function(){return m(N)&&S({inst:N}),y(function(){m(N)&&S({inst:N})})},[y]),d(b),b}function m(y){var x=y.getSnapshot;y=y.value;try{var b=x();return!r(y,b)}catch{return!0}}function h(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return Fh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Fh}var Yb;function Qz(){return Yb||(Yb=1,qh.exports=Kz()),qh.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function Jz(){if(Gb)return Vh;Gb=1;var e=Nl(),n=Qz();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:r,l=n.useSyncExternalStore,c=e.useRef,d=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Vh.useSyncExternalStoreWithSelector=function(h,g,y,x,b){var j=c(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=f(function(){function _(D){if(!A){if(A=!0,E=D,D=x(D),b!==void 0&&N.hasValue){var O=N.value;if(b(O,D))return M=O}return M=D}if(O=M,a(E,D))return O;var P=x(D);return b!==void 0&&b(O,P)?(E=D,O):(E=D,M=P)}var A=!1,E,M,R=y===void 0?null:y;return[function(){return _(g())},R===null?void 0:function(){return _(R())}]},[g,y,x,b]);var S=l(h,j[0],j[1]);return d(function(){N.hasValue=!0,N.value=S},[S]),m(S),S},Vh}var Xb;function eI(){return Xb||(Xb=1,Uh.exports=Jz()),Uh.exports}var tI=eI();const nI=Op(tI),sI={},Zb=e=>{let n;const r=new Set,a=(g,y)=>{const x=typeof g=="function"?g(n):g;if(!Object.is(x,n)){const b=n;n=y??(typeof x!="object"||x===null)?x:Object.assign({},n,x),r.forEach(j=>j(n,b))}},l=()=>n,m={setState:a,getState:l,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(sI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=n=e(a,l,m);return m},rI=e=>e?Zb(e):Zb,{useDebugValue:oI}=Nn,{useSyncExternalStoreWithSelector:aI}=nI,iI=e=>e;function lS(e,n=iI,r){const a=aI(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return oI(a),a}const Wb=(e,n)=>{const r=rI(e),a=(l,c=n)=>lS(r,l,c);return Object.assign(a,r),a},lI=(e,n)=>e?Wb(e,n):Wb;function wt(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[a,l]of e)if(!Object.is(l,n.get(a)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const a of e)if(!n.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(n,a)||!Object.is(e[a],n[a]))return!1;return!0}const Zd=w.createContext(null),cI=Zd.Provider,cS=ps.error001();function at(e,n){const r=w.useContext(Zd);if(r===null)throw new Error(cS);return lS(r,e,n)}function Nt(){const e=w.useContext(Zd);if(e===null)throw new Error(cS);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Kb={display:"none"},uI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},uS="react-flow__node-desc",dS="react-flow__edge-desc",dI="react-flow__aria-live",fI=e=>e.ariaLiveMessage,mI=e=>e.ariaLabelConfig;function hI({rfId:e}){const n=at(fI);return o.jsx("div",{id:`${dI}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:uI,children:n})}function pI({rfId:e,disableKeyboardA11y:n}){const r=at(mI);return o.jsxs(o.Fragment,{children:[o.jsx("div",{id:`${uS}-${e}`,style:Kb,children:n?r["node.a11yDescription.default"]:r["node.a11yDescription.keyboardDisabled"]}),o.jsx("div",{id:`${dS}-${e}`,style:Kb,children:r["edge.a11yDescription.default"]}),!n&&o.jsx(hI,{rfId:e})]})}const Wd=w.forwardRef(({position:e="top-left",children:n,className:r,style:a,...l},c)=>{const d=`${e}`.split("-");return o.jsx("div",{className:Dt(["react-flow__panel",r,...d]),style:a,ref:c,...l,children:n})});Wd.displayName="Panel";function gI({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:o.jsx(Wd,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:o.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const xI=e=>{const n=[],r=[];for(const[,a]of e.nodeLookup)a.selected&&n.push(a.internals.userNode);for(const[,a]of e.edgeLookup)a.selected&&r.push(a);return{selectedNodes:n,selectedEdges:r}},xu=e=>e.id;function yI(e,n){return wt(e.selectedNodes.map(xu),n.selectedNodes.map(xu))&&wt(e.selectedEdges.map(xu),n.selectedEdges.map(xu))}function vI({onSelectionChange:e}){const n=Nt(),{selectedNodes:r,selectedEdges:a}=at(xI,yI);return w.useEffect(()=>{const l={nodes:r,edges:a};e?.(l),n.getState().onSelectionChangeHandlers.forEach(c=>c(l))},[r,a,e]),null}const bI=e=>!!e.onSelectionChangeHandlers;function wI({onSelectionChange:e}){const n=at(bI);return e||n?o.jsx(vI,{onSelectionChange:e}):null}const fS=[0,0],NI={x:0,y:0,zoom:1},jI=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],Qb=[...jI,"rfId"],SI=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Jb={translateExtent:gl,nodeOrigin:fS,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function _I(e){const{setNodes:n,setEdges:r,setMinZoom:a,setMaxZoom:l,setTranslateExtent:c,setNodeExtent:d,reset:f,setDefaultNodesAndEdges:m,setPaneClickDistance:h}=at(SI,wt),g=Nt();w.useEffect(()=>(m(e.defaultNodes,e.defaultEdges),()=>{y.current=Jb,f()}),[]);const y=w.useRef(Jb);return w.useEffect(()=>{for(const x of Qb){const b=e[x],j=y.current[x];b!==j&&(typeof e[x]>"u"||(x==="nodes"?n(b):x==="edges"?r(b):x==="minZoom"?a(b):x==="maxZoom"?l(b):x==="translateExtent"?c(b):x==="nodeExtent"?d(b):x==="paneClickDistance"?h(b):x==="ariaLabelConfig"?g.setState({ariaLabelConfig:lz(b)}):x==="fitView"?g.setState({fitViewQueued:b}):x==="fitViewOptions"?g.setState({fitViewOptions:b}):g.setState({[x]:b})))}y.current=e},Qb.map(x=>e[x])),null}function ew(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function EI(e){const[n,r]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){r(e);return}const a=ew(),l=()=>r(a?.matches?"dark":"light");return l(),a?.addEventListener("change",l),()=>{a?.removeEventListener("change",l)}},[e]),n!==null?n:ew()?.matches?"dark":"light"}const tw=typeof document<"u"?document:null;function wl(e=null,n={target:tw,actInsideInputWithModifier:!0}){const[r,a]=w.useState(!1),l=w.useRef(!1),c=w.useRef(new Set([])),[d,f]=w.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.replace("+",`
`).replace(`

`,`
+`).split(`
`)),g=h.reduce((y,x)=>y.concat(...x),[]);return[h,g]}return[[],[]]},[e]);return w.useEffect(()=>{const m=n?.target??tw,h=n?.actInsideInputWithModifier??!0;if(e!==null){const g=b=>{if(l.current=b.ctrlKey||b.metaKey||b.shiftKey||b.altKey,(!l.current||l.current&&!h)&&Yj(b))return!1;const N=sw(b.code,f);if(c.current.add(b[N]),nw(d,c.current,!1)){const S=b.composedPath?.()?.[0]||b.target,_=S?.nodeName==="BUTTON"||S?.nodeName==="A";n.preventDefault!==!1&&(l.current||!_)&&b.preventDefault(),a(!0)}},y=b=>{const j=sw(b.code,f);nw(d,c.current,!0)?(a(!1),c.current.clear()):c.current.delete(b[j]),b.key==="Meta"&&c.current.clear(),l.current=!1},x=()=>{c.current.clear(),a(!1)};return m?.addEventListener("keydown",g),m?.addEventListener("keyup",y),window.addEventListener("blur",x),window.addEventListener("contextmenu",x),()=>{m?.removeEventListener("keydown",g),m?.removeEventListener("keyup",y),window.removeEventListener("blur",x),window.removeEventListener("contextmenu",x)}}},[e,a]),r}function nw(e,n,r){return e.filter(a=>r||a.length===n.size).some(a=>a.every(l=>n.has(l)))}function sw(e,n){return n.includes(e)?"code":"key"}const CI=()=>{const e=Nt();return w.useMemo(()=>({zoomIn:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:r}=e.getState();return r?r.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,r)=>{const{panZoom:a}=e.getState();return a?a.scaleTo(n,{duration:r?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,r)=>{const{transform:[a,l,c],panZoom:d}=e.getState();return d?(await d.setViewport({x:n.x??a,y:n.y??l,zoom:n.zoom??c},r),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,r,a]=e.getState().transform;return{x:n,y:r,zoom:a}},setCenter:async(n,r,a)=>e.getState().setCenter(n,r,a),fitBounds:async(n,r)=>{const{width:a,height:l,minZoom:c,maxZoom:d,panZoom:f}=e.getState(),m=Og(n,a,l,c,d,r?.padding??.1);return f?(await f.setViewport(m,{duration:r?.duration,ease:r?.ease,interpolate:r?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,r={})=>{const{transform:a,snapGrid:l,snapToGrid:c,domNode:d}=e.getState();if(!d)return n;const{x:f,y:m}=d.getBoundingClientRect(),h={x:n.x-f,y:n.y-m},g=r.snapGrid??l,y=r.snapToGrid??c;return Ll(h,a,y,g)},flowToScreenPosition:n=>{const{transform:r,domNode:a}=e.getState();if(!a)return n;const{x:l,y:c}=a.getBoundingClientRect(),d=id(n,r);return{x:d.x+l,y:d.y+c}}}),[])};function mS(e,n){const r=[],a=new Map,l=[];for(const c of e)if(c.type==="add"){l.push(c);continue}else if(c.type==="remove"||c.type==="replace")a.set(c.id,[c]);else{const d=a.get(c.id);d?d.push(c):a.set(c.id,[c])}for(const c of n){const d=a.get(c.id);if(!d){r.push(c);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){r.push({...d[0].item});continue}const f={...c};for(const m of d)kI(m,f);r.push(f)}return l.length&&l.forEach(c=>{c.index!==void 0?r.splice(c.index,0,{...c.item}):r.push({...c.item})}),r}function kI(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured??={},n.measured.width=e.dimensions.width,n.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function hS(e,n){return mS(e,n)}function pS(e,n){return mS(e,n)}function uo(e,n){return{id:e,type:"select",selected:n}}function ya(e,n=new Set,r=!1){const a=[];for(const[l,c]of e){const d=n.has(l);!(c.selected===void 0&&!d)&&c.selected!==d&&(r&&(c.selected=d),a.push(uo(c.id,d)))}return a}function rw({items:e=[],lookup:n}){const r=[],a=new Map(e.map(l=>[l.id,l]));for(const[l,c]of e.entries()){const d=n.get(c.id),f=d?.internals?.userNode??d;f!==void 0&&f!==c&&r.push({id:c.id,item:c,type:"replace"}),f===void 0&&r.push({item:c,type:"add",index:l})}for(const[l]of n)a.get(l)===void 0&&r.push({id:l,type:"remove"});return r}function ow(e){return{id:e.id,type:"remove"}}const aw=e=>Q9(e),TI=e=>$j(e);function gS(e){return w.forwardRef(e)}const AI=typeof window<"u"?w.useLayoutEffect:w.useEffect;function iw(e){const[n,r]=w.useState(BigInt(0)),[a]=w.useState(()=>MI(()=>r(l=>l+BigInt(1))));return AI(()=>{const l=a.get();l.length&&(e(l),a.reset())},[n]),a}function MI(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:r=>{n.push(r),e()}}}const xS=w.createContext(null);function RI({children:e}){const n=Nt(),r=w.useCallback(f=>{const{nodes:m=[],setNodes:h,hasDefaultNodes:g,onNodesChange:y,nodeLookup:x,fitViewQueued:b}=n.getState();let j=m;for(const S of f)j=typeof S=="function"?S(j):S;const N=rw({items:j,lookup:x});g&&h(j),N.length>0?y?.(N):b&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:_,setNodes:A}=n.getState();S&&A(_)})},[]),a=iw(r),l=w.useCallback(f=>{const{edges:m=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:y,edgeLookup:x}=n.getState();let b=m;for(const j of f)b=typeof j=="function"?j(b):j;g?h(b):y&&y(rw({items:b,lookup:x}))},[]),c=iw(l),d=w.useMemo(()=>({nodeQueue:a,edgeQueue:c}),[]);return o.jsx(xS.Provider,{value:d,children:e})}function DI(){const e=w.useContext(xS);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const OI=e=>!!e.panZoom;function Fa(){const e=CI(),n=Nt(),r=DI(),a=at(OI),l=w.useMemo(()=>{const c=y=>n.getState().nodeLookup.get(y),d=y=>{r.nodeQueue.push(y)},f=y=>{r.edgeQueue.push(y)},m=y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState(),j=aw(y)?y:x.get(y.id),N=j.parentId?qj(j.position,j.measured,j.parentId,x,b):j.position,S={...j,position:N,width:j.measured?.width??j.width,height:j.measured?.height??j.height};return za(S)},h=(y,x,b={replace:!1})=>{d(j=>j.map(N=>{if(N.id===y){const S=typeof x=="function"?x(N):x;return b.replace&&aw(S)?S:{...N,...S}}return N}))},g=(y,x,b={replace:!1})=>{f(j=>j.map(N=>{if(N.id===y){const S=typeof x=="function"?x(N):x;return b.replace&&TI(S)?S:{...N,...S}}return N}))};return{getNodes:()=>n.getState().nodes.map(y=>({...y})),getNode:y=>c(y)?.internals.userNode,getInternalNode:c,getEdges:()=>{const{edges:y=[]}=n.getState();return y.map(x=>({...x}))},getEdge:y=>n.getState().edgeLookup.get(y),setNodes:d,setEdges:f,addNodes:y=>{const x=Array.isArray(y)?y:[y];r.nodeQueue.push(b=>[...b,...x])},addEdges:y=>{const x=Array.isArray(y)?y:[y];r.edgeQueue.push(b=>[...b,...x])},toObject:()=>{const{nodes:y=[],edges:x=[],transform:b}=n.getState(),[j,N,S]=b;return{nodes:y.map(_=>({..._})),edges:x.map(_=>({..._})),viewport:{x:j,y:N,zoom:S}}},deleteElements:async({nodes:y=[],edges:x=[]})=>{const{nodes:b,edges:j,onNodesDelete:N,onEdgesDelete:S,triggerNodeChanges:_,triggerEdgeChanges:A,onDelete:E,onBeforeDelete:M}=n.getState(),{nodes:R,edges:D}=await sz({nodesToRemove:y,edgesToRemove:x,nodes:b,edges:j,onBeforeDelete:M}),O=D.length>0,P=R.length>0;if(O){const q=D.map(ow);S?.(D),A(q)}if(P){const q=R.map(ow);N?.(R),_(q)}return(P||O)&&E?.({nodes:R,edges:D}),{deletedNodes:R,deletedEdges:D}},getIntersectingNodes:(y,x=!0,b)=>{const j=Db(y),N=j?y:m(y),S=b!==void 0;return N?(b||n.getState().nodes).filter(_=>{const A=n.getState().nodeLookup.get(_.id);if(A&&!j&&(_.id===y.id||!A.internals.positionAbsolute))return!1;const E=za(S?_:A),M=yl(E,N);return x&&M>0||M>=E.width*E.height||M>=N.width*N.height}):[]},isNodeIntersecting:(y,x,b=!0)=>{const N=Db(y)?y:m(y);if(!N)return!1;const S=yl(N,x);return b&&S>0||S>=N.width*N.height},updateNode:h,updateNodeData:(y,x,b={replace:!1})=>{h(y,j=>{const N=typeof x=="function"?x(j):x;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},updateEdge:g,updateEdgeData:(y,x,b={replace:!1})=>{g(y,j=>{const N=typeof x=="function"?x(j):x;return b.replace?{...j,data:N}:{...j,data:{...j.data,...N}}},b)},getNodesBounds:y=>{const{nodeLookup:x,nodeOrigin:b}=n.getState();return J9(y,{nodeLookup:x,nodeOrigin:b})},getHandleConnections:({type:y,id:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}-${y}${x?`-${x}`:""}`)?.values()??[]),getNodeConnections:({type:y,handleId:x,nodeId:b})=>Array.from(n.getState().connectionLookup.get(`${b}${y?x?`-${y}-${x}`:`-${y}`:""}`)?.values()??[]),fitView:async y=>{const x=n.getState().fitViewResolver??iz();return n.setState({fitViewQueued:!0,fitViewOptions:y,fitViewResolver:x}),r.nodeQueue.push(b=>[...b]),x.promise}}},[]);return w.useMemo(()=>({...l,...e,viewportInitialized:a}),[a])}const lw=e=>e.selected,zI=typeof window<"u"?window:void 0;function II({deleteKeyCode:e,multiSelectionKeyCode:n}){const r=Nt(),{deleteElements:a}=Fa(),l=wl(e,{actInsideInputWithModifier:!1}),c=wl(n,{target:zI});w.useEffect(()=>{if(l){const{edges:d,nodes:f}=r.getState();a({nodes:f.filter(lw),edges:d.filter(lw)}),r.setState({nodesSelectionActive:!1})}},[l]),w.useEffect(()=>{r.setState({multiSelectionActive:c})},[c])}function LI(e){const n=Nt();w.useEffect(()=>{const r=()=>{if(!e.current)return!1;const a=zg(e.current);(a.height===0||a.width===0)&&n.getState().onError?.("004",ps.error004()),n.setState({width:a.width||500,height:a.height||500})};if(e.current){r(),window.addEventListener("resize",r);const a=new ResizeObserver(()=>r());return a.observe(e.current),()=>{window.removeEventListener("resize",r),a&&e.current&&a.unobserve(e.current)}}},[])}const Kd={position:"absolute",width:"100%",height:"100%",top:0,left:0},$I=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function HI({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=go.Free,zoomOnDoubleClick:d=!0,panOnDrag:f=!0,defaultViewport:m,translateExtent:h,minZoom:g,maxZoom:y,zoomActivationKeyCode:x,preventScrolling:b=!0,children:j,noWheelClassName:N,noPanClassName:S,onViewportChange:_,isControlledViewport:A,paneClickDistance:E}){const M=Nt(),R=w.useRef(null),{userSelectionActive:D,lib:O}=at($I,wt),P=wl(x),q=w.useRef();LI(R);const Z=w.useCallback(Q=>{_?.({x:Q[0],y:Q[1],zoom:Q[2]}),A||M.setState({transform:Q})},[_,A]);return w.useEffect(()=>{if(R.current){q.current=Vz({domNode:R.current,minZoom:g,maxZoom:y,translateExtent:h,viewport:m,paneClickDistance:E,onDraggingChange:U=>M.setState({paneDragging:U}),onPanZoomStart:(U,B)=>{const{onViewportChangeStart:k,onMoveStart:L}=M.getState();L?.(U,B),k?.(B)},onPanZoom:(U,B)=>{const{onViewportChange:k,onMove:L}=M.getState();L?.(U,B),k?.(B)},onPanZoomEnd:(U,B)=>{const{onViewportChangeEnd:k,onMoveEnd:L}=M.getState();L?.(U,B),k?.(B)}});const{x:Q,y:G,zoom:ne}=q.current.getViewport();return M.setState({panZoom:q.current,transform:[Q,G,ne],domNode:R.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),w.useEffect(()=>{q.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:a,panOnScrollSpeed:l,panOnScrollMode:c,zoomOnDoubleClick:d,panOnDrag:f,zoomActivationKeyPressed:P,preventScrolling:b,noPanClassName:S,userSelectionActive:D,noWheelClassName:N,lib:O,onTransformChange:Z})},[e,n,r,a,l,c,d,f,P,b,S,D,N,O,Z]),o.jsx("div",{className:"react-flow__renderer",ref:R,style:Kd,children:j})}const PI=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function BI(){const{userSelectionActive:e,userSelectionRect:n}=at(PI,wt);return e&&n?o.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Yh=(e,n)=>r=>{r.target===n.current&&e?.(r)},UI=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function VI({isSelecting:e,selectionKeyPressed:n,selectionMode:r=xl.Full,panOnDrag:a,selectionOnDrag:l,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:m,onPaneScroll:h,onPaneMouseEnter:g,onPaneMouseMove:y,onPaneMouseLeave:x,children:b}){const j=Nt(),{userSelectionActive:N,elementsSelectable:S,dragging:_,connectionInProgress:A}=at(UI,wt),E=S&&(e||N),M=w.useRef(null),R=w.useRef(),D=w.useRef(new Set),O=w.useRef(new Set),P=w.useRef(!1),q=w.useRef(!1),Z=L=>{if(P.current||A){P.current=!1;return}f?.(L),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},Q=L=>{if(Array.isArray(a)&&a?.includes(2)){L.preventDefault();return}m?.(L)},G=h?L=>h(L):void 0,ne=L=>{const{resetSelectedElements:I,domNode:$}=j.getState();if(R.current=$?.getBoundingClientRect(),!S||!e||L.button!==0||L.target!==M.current||!R.current)return;L.target?.setPointerCapture?.(L.pointerId),q.current=!0,P.current=!1;const{x:C,y:H}=us(L.nativeEvent,R.current);I(),j.setState({userSelectionRect:{width:0,height:0,startX:C,startY:H,x:C,y:H}}),c?.(L)},U=L=>{const{userSelectionRect:I,transform:$,nodeLookup:C,edgeLookup:H,connectionLookup:Y,triggerNodeChanges:V,triggerEdgeChanges:J,defaultEdgeOptions:ce}=j.getState();if(!R.current||!I)return;P.current=!0;const{x:fe,y:ee}=us(L.nativeEvent,R.current),{startX:ie,startY:ge}=I,Ee={startX:ie,startY:ge,x:fe<ie?fe:ie,y:ee<ge?ee:ge,width:Math.abs(fe-ie),height:Math.abs(ee-ge)},Ne=D.current,ve=O.current;D.current=new Set(Dg(C,Ee,$,r===xl.Partial,!0).map(re=>re.id)),O.current=new Set;const ze=ce?.selectable??!0;for(const re of D.current){const K=Y.get(re);if(K)for(const{edgeId:me}of K.values()){const be=H.get(me);be&&(be.selectable??ze)&&O.current.add(me)}}if(!Ob(Ne,D.current)){const re=ya(C,D.current,!0);V(re)}if(!Ob(ve,O.current)){const re=ya(H,O.current);J(re)}j.setState({userSelectionRect:Ee,userSelectionActive:!0,nodesSelectionActive:!1})},B=L=>{if(L.button!==0||!q.current)return;L.target?.releasePointerCapture?.(L.pointerId);const{userSelectionRect:I}=j.getState();!N&&I&&L.target===M.current&&Z?.(L),j.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),d?.(L),(n||l)&&(P.current=!1),q.current=!1},k=a===!0||Array.isArray(a)&&a.includes(0);return o.jsxs("div",{className:Dt(["react-flow__pane",{draggable:k,dragging:_,selection:e}]),onClick:E?void 0:Yh(Z,M),onContextMenu:Yh(Q,M),onWheel:Yh(G,M),onPointerEnter:E?void 0:g,onPointerDown:E?ne:y,onPointerMove:E?U:y,onPointerUp:E?B:void 0,onPointerLeave:x,ref:M,style:Kd,children:[b,o.jsx(BI,{})]})}function Dp({id:e,store:n,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:l,unselectNodesAndEdges:c,multiSelectionActive:d,nodeLookup:f,onError:m}=n.getState(),h=f.get(e);if(!h){m?.("012",ps.error012(e));return}n.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&d)&&(c({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):l([e])}function yS({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:a,nodeId:l,isSelectable:c,nodeClickDistance:d}){const f=Nt(),[m,h]=w.useState(!1),g=w.useRef();return w.useEffect(()=>{g.current=kz({getStoreItems:()=>f.getState(),onNodeMouseDown:y=>{Dp({id:y,store:f,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),w.useEffect(()=>{if(n)g.current?.destroy();else if(e.current)return g.current?.update({noDragClassName:r,handleSelector:a,domNode:e.current,isSelectable:c,nodeId:l,nodeClickDistance:d}),()=>{g.current?.destroy()}},[r,a,n,c,e,l]),m}const qI=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function vS(){const e=Nt();return w.useCallback(r=>{const{nodeExtent:a,snapToGrid:l,snapGrid:c,nodesDraggable:d,onError:f,updateNodePositions:m,nodeLookup:h,nodeOrigin:g}=e.getState(),y=new Map,x=qI(d),b=l?c[0]:5,j=l?c[1]:5,N=r.direction.x*b*r.factor,S=r.direction.y*j*r.factor;for(const[,_]of h){if(!x(_))continue;let A={x:_.internals.positionAbsolute.x+N,y:_.internals.positionAbsolute.y+S};l&&(A=Il(A,c));const{position:E,positionAbsolute:M}=Hj({nodeId:_.id,nextPosition:A,nodeLookup:h,nodeExtent:a,nodeOrigin:g,onError:f});_.position=E,_.internals.positionAbsolute=M,y.set(_.id,_)}m(y)},[])}const Pg=w.createContext(null),FI=Pg.Provider;Pg.Consumer;const bS=()=>w.useContext(Pg),YI=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),GI=(e,n,r)=>a=>{const{connectionClickStartHandle:l,connectionMode:c,connection:d}=a,{fromHandle:f,toHandle:m,isValid:h}=d,g=m?.nodeId===e&&m?.id===n&&m?.type===r;return{connectingFrom:f?.nodeId===e&&f?.id===n&&f?.type===r,connectingTo:g,clickConnecting:l?.nodeId===e&&l?.id===n&&l?.type===r,isPossibleEndHandle:c===Da.Strict?f?.type!==r:e!==f?.nodeId||n!==f?.id,connectionInProcess:!!f,clickConnectionInProcess:!!l,valid:g&&h}};function XI({type:e="source",position:n=Be.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:l=!0,isConnectableEnd:c=!0,id:d,onConnect:f,children:m,className:h,onMouseDown:g,onTouchStart:y,...x},b){const j=d||null,N=e==="target",S=Nt(),_=bS(),{connectOnClick:A,noPanClassName:E,rfId:M}=at(YI,wt),{connectingFrom:R,connectingTo:D,clickConnecting:O,isPossibleEndHandle:P,connectionInProcess:q,clickConnectionInProcess:Z,valid:Q}=at(GI(_,j,e),wt);_||S.getState().onError?.("010",ps.error010());const G=B=>{const{defaultEdgeOptions:k,onConnect:L,hasDefaultEdges:I}=S.getState(),$={...k,...B};if(I){const{edges:C,setEdges:H}=S.getState();H(hz($,C))}L?.($),f?.($)},ne=B=>{if(!_)return;const k=Gj(B.nativeEvent);if(l&&(k&&B.button===0||!k)){const L=S.getState();Rp.onPointerDown(B.nativeEvent,{handleDomNode:B.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:N,handleId:j,nodeId:_,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:G,isValidConnection:r||L.isValidConnection,getTransform:()=>S.getState().transform,getFromHandle:()=>S.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}k?g?.(B):y?.(B)},U=B=>{const{onClickConnectStart:k,onClickConnectEnd:L,connectionClickStartHandle:I,connectionMode:$,isValidConnection:C,lib:H,rfId:Y,nodeLookup:V,connection:J}=S.getState();if(!_||!I&&!l)return;if(!I){k?.(B.nativeEvent,{nodeId:_,handleId:j,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:_,type:e,id:j}});return}const ce=Fj(B.target),fe=r||C,{connection:ee,isValid:ie}=Rp.isValid(B.nativeEvent,{handle:{nodeId:_,id:j,type:e},connectionMode:$,fromNodeId:I.nodeId,fromHandleId:I.id||null,fromType:I.type,isValidConnection:fe,flowId:Y,doc:ce,lib:H,nodeLookup:V});ie&&ee&&G(ee);const ge=structuredClone(J);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,L?.(B,ge),S.setState({connectionClickStartHandle:null})};return o.jsx("div",{"data-handleid":j,"data-nodeid":_,"data-handlepos":n,"data-id":`${M}-${_}-${j}-${e}`,className:Dt(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",E,h,{source:!N,target:N,connectable:a,connectablestart:l,connectableend:c,clickconnecting:O,connectingfrom:R,connectingto:D,valid:Q,connectionindicator:a&&(!q||P)&&(q||Z?c:l)}]),onMouseDown:ne,onTouchStart:ne,onClick:A?U:void 0,ref:b,...x,children:m})}const $a=w.memo(gS(XI));function ZI({data:e,isConnectable:n,sourcePosition:r=Be.Bottom}){return o.jsxs(o.Fragment,{children:[e?.label,o.jsx($a,{type:"source",position:r,isConnectable:n})]})}function WI({data:e,isConnectable:n,targetPosition:r=Be.Top,sourcePosition:a=Be.Bottom}){return o.jsxs(o.Fragment,{children:[o.jsx($a,{type:"target",position:r,isConnectable:n}),e?.label,o.jsx($a,{type:"source",position:a,isConnectable:n})]})}function KI(){return null}function QI({data:e,isConnectable:n,targetPosition:r=Be.Top}){return o.jsxs(o.Fragment,{children:[o.jsx($a,{type:"target",position:r,isConnectable:n}),e?.label]})}const ld={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},cw={input:ZI,default:WI,output:QI,group:KI};function JI(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const eL=e=>{const{width:n,height:r,x:a,y:l}=zl(e.nodeLookup,{filter:c=>!!c.selected});return{width:Xn(n)?n:null,height:Xn(r)?r:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${a}px,${l}px)`}};function tL({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const a=Nt(),{width:l,height:c,transformString:d,userSelectionActive:f}=at(eL,wt),m=vS(),h=w.useRef(null);if(w.useEffect(()=>{r||h.current?.focus({preventScroll:!0})},[r]),yS({nodeRef:h}),f||!l||!c)return null;const g=e?x=>{const b=a.getState().nodes.filter(j=>j.selected);e(x,b)}:void 0,y=x=>{Object.prototype.hasOwnProperty.call(ld,x.key)&&(x.preventDefault(),m({direction:ld[x.key],factor:x.shiftKey?4:1}))};return o.jsx("div",{className:Dt(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d},children:o.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:r?void 0:-1,onKeyDown:r?void 0:y,style:{width:l,height:c}})})}const uw=typeof window<"u"?window:void 0,nL=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function wS({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,paneClickDistance:f,deleteKeyCode:m,selectionKeyCode:h,selectionOnDrag:g,selectionMode:y,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:j,panActivationKeyCode:N,zoomActivationKeyCode:S,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:E,panOnScroll:M,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:P,defaultViewport:q,translateExtent:Z,minZoom:Q,maxZoom:G,preventScrolling:ne,onSelectionContextMenu:U,noWheelClassName:B,noPanClassName:k,disableKeyboardA11y:L,onViewportChange:I,isControlledViewport:$}){const{nodesSelectionActive:C,userSelectionActive:H}=at(nL),Y=wl(h,{target:uw}),V=wl(N,{target:uw}),J=V||P,ce=V||M,fe=g&&J!==!0,ee=Y||H||fe;return II({deleteKeyCode:m,multiSelectionKeyCode:j}),o.jsx(HI,{onPaneContextMenu:c,elementsSelectable:_,zoomOnScroll:A,zoomOnPinch:E,panOnScroll:ce,panOnScrollSpeed:R,panOnScrollMode:D,zoomOnDoubleClick:O,panOnDrag:!Y&&J,defaultViewport:q,translateExtent:Z,minZoom:Q,maxZoom:G,zoomActivationKeyCode:S,preventScrolling:ne,noWheelClassName:B,noPanClassName:k,onViewportChange:I,isControlledViewport:$,paneClickDistance:f,children:o.jsxs(VI,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:l,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:J,isSelecting:!!ee,selectionMode:y,selectionKeyPressed:Y,selectionOnDrag:fe,children:[e,C&&o.jsx(tL,{onSelectionContextMenu:U,noPanClassName:k,disableKeyboardA11y:L})]})})}wS.displayName="FlowRenderer";const sL=w.memo(wS),rL=e=>n=>e?Dg(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(r=>r.id):Array.from(n.nodeLookup.keys());function oL(e){return at(w.useCallback(rL(e),[e]),wt)}const aL=e=>e.updateNodeInternals;function iL(){const e=at(aL),[n]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(r=>{const a=new Map;r.forEach(l=>{const c=l.target.getAttribute("data-id");a.set(c,{id:c,nodeElement:l.target,force:!0})}),e(a)}));return w.useEffect(()=>()=>{n?.disconnect()},[n]),n}function lL({node:e,nodeType:n,hasDimensions:r,resizeObserver:a}){const l=Nt(),c=w.useRef(null),d=w.useRef(null),f=w.useRef(e.sourcePosition),m=w.useRef(e.targetPosition),h=w.useRef(n),g=r&&!!e.internals.handleBounds;return w.useEffect(()=>{c.current&&!e.hidden&&(!g||d.current!==c.current)&&(d.current&&a?.unobserve(d.current),a?.observe(c.current),d.current=c.current)},[g,e.hidden]),w.useEffect(()=>()=>{d.current&&(a?.unobserve(d.current),d.current=null)},[]),w.useEffect(()=>{if(c.current){const y=h.current!==n,x=f.current!==e.sourcePosition,b=m.current!==e.targetPosition;(y||x||b)&&(h.current=n,f.current=e.sourcePosition,m.current=e.targetPosition,l.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:c.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),c}function cL({id:e,onClick:n,onMouseEnter:r,onMouseMove:a,onMouseLeave:l,onContextMenu:c,onDoubleClick:d,nodesDraggable:f,elementsSelectable:m,nodesConnectable:h,nodesFocusable:g,resizeObserver:y,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:j,rfId:N,nodeTypes:S,nodeClickDistance:_,onError:A}){const{node:E,internals:M,isParent:R}=at(ie=>{const ge=ie.nodeLookup.get(e),Ee=ie.parentLookup.has(e);return{node:ge,internals:ge.internals,isParent:Ee}},wt);let D=E.type||"default",O=S?.[D]||cw[D];O===void 0&&(A?.("003",ps.error003(D)),D="default",O=S?.default||cw.default);const P=!!(E.draggable||f&&typeof E.draggable>"u"),q=!!(E.selectable||m&&typeof E.selectable>"u"),Z=!!(E.connectable||h&&typeof E.connectable>"u"),Q=!!(E.focusable||g&&typeof E.focusable>"u"),G=Nt(),ne=Vj(E),U=lL({node:E,nodeType:D,hasDimensions:ne,resizeObserver:y}),B=yS({nodeRef:U,disabled:E.hidden||!P,noDragClassName:x,handleSelector:E.dragHandle,nodeId:e,isSelectable:q,nodeClickDistance:_}),k=vS();if(E.hidden)return null;const L=Ws(E),I=JI(E),$=q||P||n||r||a||l,C=r?ie=>r(ie,{...M.userNode}):void 0,H=a?ie=>a(ie,{...M.userNode}):void 0,Y=l?ie=>l(ie,{...M.userNode}):void 0,V=c?ie=>c(ie,{...M.userNode}):void 0,J=d?ie=>d(ie,{...M.userNode}):void 0,ce=ie=>{const{selectNodesOnDrag:ge,nodeDragThreshold:Ee}=G.getState();q&&(!ge||!P||Ee>0)&&Dp({id:e,store:G,nodeRef:U}),n&&n(ie,{...M.userNode})},fe=ie=>{if(!(Yj(ie.nativeEvent)||j)){if(Oj.includes(ie.key)&&q){const ge=ie.key==="Escape";Dp({id:e,store:G,unselect:ge,nodeRef:U})}else if(P&&E.selected&&Object.prototype.hasOwnProperty.call(ld,ie.key)){ie.preventDefault();const{ariaLabelConfig:ge}=G.getState();G.setState({ariaLiveMessage:ge["node.a11yDescription.ariaLiveMessage"]({direction:ie.key.replace("Arrow","").toLowerCase(),x:~~M.positionAbsolute.x,y:~~M.positionAbsolute.y})}),k({direction:ld[ie.key],factor:ie.shiftKey?4:1})}}},ee=()=>{if(j||!U.current?.matches(":focus-visible"))return;const{transform:ie,width:ge,height:Ee,autoPanOnNodeFocus:Ne,setCenter:ve}=G.getState();if(!Ne)return;Dg(new Map([[e,E]]),{x:0,y:0,width:ge,height:Ee},ie,!0).length>0||ve(E.position.x+L.width/2,E.position.y+L.height/2,{zoom:ie[2]})};return o.jsx("div",{className:Dt(["react-flow__node",`react-flow__node-${D}`,{[b]:P},E.className,{selected:E.selected,selectable:q,parent:R,draggable:P,dragging:B}]),ref:U,style:{zIndex:M.z,transform:`translate(${M.positionAbsolute.x}px,${M.positionAbsolute.y}px)`,pointerEvents:$?"all":"none",visibility:ne?"visible":"hidden",...E.style,...I},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:C,onMouseMove:H,onMouseLeave:Y,onContextMenu:V,onClick:ce,onDoubleClick:J,onKeyDown:Q?fe:void 0,tabIndex:Q?0:void 0,onFocus:Q?ee:void 0,role:E.ariaRole??(Q?"group":void 0),"aria-roledescription":"node","aria-describedby":j?void 0:`${uS}-${N}`,"aria-label":E.ariaLabel,...E.domAttributes,children:o.jsx(FI,{value:e,children:o.jsx(O,{id:e,data:E.data,type:D,positionAbsoluteX:M.positionAbsolute.x,positionAbsoluteY:M.positionAbsolute.y,selected:E.selected??!1,selectable:q,draggable:P,deletable:E.deletable??!0,isConnectable:Z,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:B,dragHandle:E.dragHandle,zIndex:M.z,parentId:E.parentId,...L})})})}const uL=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function NS(e){const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,onError:c}=at(uL,wt),d=oL(e.onlyRenderVisibleElements),f=iL();return o.jsx("div",{className:"react-flow__nodes",style:Kd,children:d.map(m=>o.jsx(cL,{id:m,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:f,nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:l,nodeClickDistance:e.nodeClickDistance,onError:c},m))})}NS.displayName="NodeRenderer";const dL=w.memo(NS);function fL(e){return at(w.useCallback(r=>{if(!e)return r.edges.map(l=>l.id);const a=[];if(r.width&&r.height)for(const l of r.edges){const c=r.nodeLookup.get(l.source),d=r.nodeLookup.get(l.target);c&&d&&dz({sourceNode:c,targetNode:d,width:r.width,height:r.height,transform:r.transform})&&a.push(l.id)}return a},[e]),wt)}const mL=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e}};return o.jsx("polyline",{className:"arrow",style:r,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},hL=({color:e="none",strokeWidth:n=1})=>{const r={strokeWidth:n,...e&&{stroke:e,fill:e}};return o.jsx("polyline",{className:"arrowclosed",style:r,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},dw={[od.Arrow]:mL,[od.ArrowClosed]:hL};function pL(e){const n=Nt();return w.useMemo(()=>Object.prototype.hasOwnProperty.call(dw,e)?dw[e]:(n.getState().onError?.("009",ps.error009(e)),null),[e])}const gL=({id:e,type:n,color:r,width:a=12.5,height:l=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:f="auto-start-reverse"})=>{const m=pL(n);return m?o.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${l}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:f,refX:"0",refY:"0",children:o.jsx(m,{color:r,strokeWidth:d})}):null},jS=({defaultColor:e,rfId:n})=>{const r=at(c=>c.edges),a=at(c=>c.defaultEdgeOptions),l=w.useMemo(()=>vz(r,{id:n,defaultColor:e,defaultMarkerStart:a?.markerStart,defaultMarkerEnd:a?.markerEnd}),[r,a,n,e]);return l.length?o.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:o.jsx("defs",{children:l.map(c=>o.jsx(gL,{id:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient},c.id))})}):null};jS.displayName="MarkerDefinitions";var xL=w.memo(jS);function SS({x:e,y:n,label:r,labelStyle:a,labelShowBg:l=!0,labelBgStyle:c,labelBgPadding:d=[2,4],labelBgBorderRadius:f=2,children:m,className:h,...g}){const[y,x]=w.useState({x:1,y:0,width:0,height:0}),b=Dt(["react-flow__edge-textwrapper",h]),j=w.useRef(null);return w.useEffect(()=>{if(j.current){const N=j.current.getBBox();x({x:N.x,y:N.y,width:N.width,height:N.height})}},[r]),r?o.jsxs("g",{transform:`translate(${e-y.width/2} ${n-y.height/2})`,className:b,visibility:y.width?"visible":"hidden",...g,children:[l&&o.jsx("rect",{width:y.width+2*d[0],x:-d[0],y:-d[1],height:y.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:f,ry:f}),o.jsx("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:j,style:a,children:r}),m]}):null}SS.displayName="EdgeText";const yL=w.memo(SS);function $l({path:e,labelX:n,labelY:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m,interactionWidth:h=20,...g}){return o.jsxs(o.Fragment,{children:[o.jsx("path",{...g,d:e,fill:"none",className:Dt(["react-flow__edge-path",g.className])}),h?o.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,a&&Xn(n)&&Xn(r)?o.jsx(yL,{x:n,y:r,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:m}):null]})}function fw({pos:e,x1:n,y1:r,x2:a,y2:l}){return e===Be.Left||e===Be.Right?[.5*(n+a),r]:[n,.5*(r+l)]}function _S({sourceX:e,sourceY:n,sourcePosition:r=Be.Bottom,targetX:a,targetY:l,targetPosition:c=Be.Top}){const[d,f]=fw({pos:r,x1:e,y1:n,x2:a,y2:l}),[m,h]=fw({pos:c,x1:a,y1:l,x2:e,y2:n}),[g,y,x,b]=Xj({sourceX:e,sourceY:n,targetX:a,targetY:l,sourceControlX:d,sourceControlY:f,targetControlX:m,targetControlY:h});return[`M${e},${n} C${d},${f} ${m},${h} ${a},${l}`,g,y,x,b]}function ES(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})=>{const[A,E,M]=_S({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),R=e.isInternal?void 0:n;return o.jsx($l,{id:R,path:A,labelX:E,labelY:M,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:_})})}const vL=ES({isInternal:!1}),CS=ES({isInternal:!0});vL.displayName="SimpleBezierEdge";CS.displayName="SimpleBezierEdgeInternal";function kS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,sourcePosition:b=Be.Bottom,targetPosition:j=Be.Top,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:A})=>{const[E,M,R]=Tp({sourceX:r,sourceY:a,sourcePosition:b,targetX:l,targetY:c,targetPosition:j,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),D=e.isInternal?void 0:n;return o.jsx($l,{id:D,path:E,labelX:M,labelY:R,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:N,markerStart:S,interactionWidth:A})})}const TS=kS({isInternal:!1}),AS=kS({isInternal:!0});TS.displayName="SmoothStepEdge";AS.displayName="SmoothStepEdgeInternal";function MS(e){return w.memo(({id:n,...r})=>{const a=e.isInternal?void 0:n;return o.jsx(TS,{...r,id:a,pathOptions:w.useMemo(()=>({borderRadius:0,offset:r.pathOptions?.offset}),[r.pathOptions?.offset])})})}const bL=MS({isInternal:!1}),RS=MS({isInternal:!0});bL.displayName="StepEdge";RS.displayName="StepEdgeInternal";function DS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:j,interactionWidth:N})=>{const[S,_,A]=Kj({sourceX:r,sourceY:a,targetX:l,targetY:c}),E=e.isInternal?void 0:n;return o.jsx($l,{id:E,path:S,labelX:_,labelY:A,label:d,labelStyle:f,labelShowBg:m,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:y,style:x,markerEnd:b,markerStart:j,interactionWidth:N})})}const wL=DS({isInternal:!1}),OS=DS({isInternal:!0});wL.displayName="StraightEdge";OS.displayName="StraightEdgeInternal";function zS(e){return w.memo(({id:n,sourceX:r,sourceY:a,targetX:l,targetY:c,sourcePosition:d=Be.Bottom,targetPosition:f=Be.Top,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,pathOptions:_,interactionWidth:A})=>{const[E,M,R]=Zj({sourceX:r,sourceY:a,sourcePosition:d,targetX:l,targetY:c,targetPosition:f,curvature:_?.curvature}),D=e.isInternal?void 0:n;return o.jsx($l,{id:D,path:E,labelX:M,labelY:R,label:m,labelStyle:h,labelShowBg:g,labelBgStyle:y,labelBgPadding:x,labelBgBorderRadius:b,style:j,markerEnd:N,markerStart:S,interactionWidth:A})})}const NL=zS({isInternal:!1}),IS=zS({isInternal:!0});NL.displayName="BezierEdge";IS.displayName="BezierEdgeInternal";const mw={default:IS,straight:OS,step:RS,smoothstep:AS,simplebezier:CS},hw={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},jL=(e,n,r)=>r===Be.Left?e-n:r===Be.Right?e+n:e,SL=(e,n,r)=>r===Be.Top?e-n:r===Be.Bottom?e+n:e,pw="react-flow__edgeupdater";function gw({position:e,centerX:n,centerY:r,radius:a=10,onMouseDown:l,onMouseEnter:c,onMouseOut:d,type:f}){return o.jsx("circle",{onMouseDown:l,onMouseEnter:c,onMouseOut:d,className:Dt([pw,`${pw}-${f}`]),cx:jL(n,a,e),cy:SL(r,a,e),r:a,stroke:"transparent",fill:"transparent"})}function _L({isReconnectable:e,reconnectRadius:n,edge:r,sourceX:a,sourceY:l,targetX:c,targetY:d,sourcePosition:f,targetPosition:m,onReconnect:h,onReconnectStart:g,onReconnectEnd:y,setReconnecting:x,setUpdateHover:b}){const j=Nt(),N=(M,R)=>{if(M.button!==0)return;const{autoPanOnConnect:D,domNode:O,isValidConnection:P,connectionMode:q,connectionRadius:Z,lib:Q,onConnectStart:G,onConnectEnd:ne,cancelConnection:U,nodeLookup:B,rfId:k,panBy:L,updateConnection:I}=j.getState(),$=R.type==="target",C=(V,J)=>{x(!1),y?.(V,r,R.type,J)},H=V=>h?.(r,V),Y=(V,J)=>{x(!0),g?.(M,r,R.type),G?.(V,J)};Rp.onPointerDown(M.nativeEvent,{autoPanOnConnect:D,connectionMode:q,connectionRadius:Z,domNode:O,handleId:R.id,nodeId:R.nodeId,nodeLookup:B,isTarget:$,edgeUpdaterType:R.type,lib:Q,flowId:k,cancelConnection:U,panBy:L,isValidConnection:P,onConnect:H,onConnectStart:Y,onConnectEnd:ne,onReconnectEnd:C,updateConnection:I,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,dragThreshold:j.getState().connectionDragThreshold,handleDomNode:M.currentTarget})},S=M=>N(M,{nodeId:r.target,id:r.targetHandle??null,type:"target"}),_=M=>N(M,{nodeId:r.source,id:r.sourceHandle??null,type:"source"}),A=()=>b(!0),E=()=>b(!1);return o.jsxs(o.Fragment,{children:[(e===!0||e==="source")&&o.jsx(gw,{position:f,centerX:a,centerY:l,radius:n,onMouseDown:S,onMouseEnter:A,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&o.jsx(gw,{position:m,centerX:c,centerY:d,radius:n,onMouseDown:_,onMouseEnter:A,onMouseOut:E,type:"target"})]})}function EL({id:e,edgesFocusable:n,edgesReconnectable:r,elementsSelectable:a,onClick:l,onDoubleClick:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,rfId:j,edgeTypes:N,noPanClassName:S,onError:_,disableKeyboardA11y:A}){let E=at(ve=>ve.edgeLookup.get(e));const M=at(ve=>ve.defaultEdgeOptions);E=M?{...M,...E}:E;let R=E.type||"default",D=N?.[R]||mw[R];D===void 0&&(_?.("011",ps.error011(R)),R="default",D=N?.default||mw.default);const O=!!(E.focusable||n&&typeof E.focusable>"u"),P=typeof y<"u"&&(E.reconnectable||r&&typeof E.reconnectable>"u"),q=!!(E.selectable||a&&typeof E.selectable>"u"),Z=w.useRef(null),[Q,G]=w.useState(!1),[ne,U]=w.useState(!1),B=Nt(),{zIndex:k,sourceX:L,sourceY:I,targetX:$,targetY:C,sourcePosition:H,targetPosition:Y}=at(w.useCallback(ve=>{const ze=ve.nodeLookup.get(E.source),re=ve.nodeLookup.get(E.target);if(!ze||!re)return{zIndex:E.zIndex,...hw};const K=yz({id:e,sourceNode:ze,targetNode:re,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:ve.connectionMode,onError:_});return{zIndex:uz({selected:E.selected,zIndex:E.zIndex,sourceNode:ze,targetNode:re,elevateOnSelect:ve.elevateEdgesOnSelect}),...K||hw}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),wt),V=w.useMemo(()=>E.markerStart?`url('#${Ap(E.markerStart,j)}')`:void 0,[E.markerStart,j]),J=w.useMemo(()=>E.markerEnd?`url('#${Ap(E.markerEnd,j)}')`:void 0,[E.markerEnd,j]);if(E.hidden||L===null||I===null||$===null||C===null)return null;const ce=ve=>{const{addSelectedEdges:ze,unselectNodesAndEdges:re,multiSelectionActive:K}=B.getState();q&&(B.setState({nodesSelectionActive:!1}),E.selected&&K?(re({nodes:[],edges:[E]}),Z.current?.blur()):ze([e])),l&&l(ve,E)},fe=c?ve=>{c(ve,{...E})}:void 0,ee=d?ve=>{d(ve,{...E})}:void 0,ie=f?ve=>{f(ve,{...E})}:void 0,ge=m?ve=>{m(ve,{...E})}:void 0,Ee=h?ve=>{h(ve,{...E})}:void 0,Ne=ve=>{if(!A&&Oj.includes(ve.key)&&q){const{unselectNodesAndEdges:ze,addSelectedEdges:re}=B.getState();ve.key==="Escape"?(Z.current?.blur(),ze({edges:[E]})):re([e])}};return o.jsx("svg",{style:{zIndex:k},children:o.jsxs("g",{className:Dt(["react-flow__edge",`react-flow__edge-${R}`,E.className,S,{selected:E.selected,animated:E.animated,inactive:!q&&!l,updating:Q,selectable:q}]),onClick:ce,onDoubleClick:fe,onContextMenu:ee,onMouseEnter:ie,onMouseMove:ge,onMouseLeave:Ee,onKeyDown:O?Ne:void 0,tabIndex:O?0:void 0,role:E.ariaRole??(O?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":O?`${dS}-${j}`:void 0,ref:Z,...E.domAttributes,children:[!ne&&o.jsx(D,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:q,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:L,sourceY:I,targetX:$,targetY:C,sourcePosition:H,targetPosition:Y,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:V,markerEnd:J,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),P&&o.jsx(_L,{edge:E,isReconnectable:P,reconnectRadius:g,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,sourceX:L,sourceY:I,targetX:$,targetY:C,sourcePosition:H,targetPosition:Y,setUpdateHover:G,setReconnecting:U})]})})}const CL=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function LS({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:r,edgeTypes:a,noPanClassName:l,onReconnect:c,onEdgeContextMenu:d,onEdgeMouseEnter:f,onEdgeMouseMove:m,onEdgeMouseLeave:h,onEdgeClick:g,reconnectRadius:y,onEdgeDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,disableKeyboardA11y:N}){const{edgesFocusable:S,edgesReconnectable:_,elementsSelectable:A,onError:E}=at(CL,wt),M=fL(n);return o.jsxs("div",{className:"react-flow__edges",children:[o.jsx(xL,{defaultColor:e,rfId:r}),M.map(R=>o.jsx(EL,{id:R,edgesFocusable:S,edgesReconnectable:_,elementsSelectable:A,noPanClassName:l,onReconnect:c,onContextMenu:d,onMouseEnter:f,onMouseMove:m,onMouseLeave:h,onClick:g,reconnectRadius:y,onDoubleClick:x,onReconnectStart:b,onReconnectEnd:j,rfId:r,onError:E,edgeTypes:a,disableKeyboardA11y:N},R))]})}LS.displayName="EdgeRenderer";const kL=w.memo(LS),TL=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function AL({children:e}){const n=at(TL);return o.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function ML(e){const n=Fa(),r=w.useRef(!1);w.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const RL=e=>e.panZoom?.syncViewport;function DL(e){const n=at(RL),r=Nt();return w.useEffect(()=>{e&&(n?.(e),r.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function OL(e){return e.connection.inProgress?{...e.connection,to:Ll(e.connection.to,e.transform)}:{...e.connection}}function zL(e){return OL}function IL(e){const n=zL();return at(n,wt)}const LL=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function $L({containerStyle:e,style:n,type:r,component:a}){const{nodesConnectable:l,width:c,height:d,isValid:f,inProgress:m}=at(LL,wt);return!(c&&l&&m)?null:o.jsx("svg",{style:e,width:c,height:d,className:"react-flow__connectionline react-flow__container",children:o.jsx("g",{className:Dt(["react-flow__connection",Lj(f)]),children:o.jsx($S,{style:n,type:r,CustomComponent:a,isValid:f})})})}const $S=({style:e,type:n=Ar.Bezier,CustomComponent:r,isValid:a})=>{const{inProgress:l,from:c,fromNode:d,fromHandle:f,fromPosition:m,to:h,toNode:g,toHandle:y,toPosition:x}=IL();if(!l)return;if(r)return o.jsx(r,{connectionLineType:n,connectionLineStyle:e,fromNode:d,fromHandle:f,fromX:c.x,fromY:c.y,toX:h.x,toY:h.y,fromPosition:m,toPosition:x,connectionStatus:Lj(a),toNode:g,toHandle:y});let b="";const j={sourceX:c.x,sourceY:c.y,sourcePosition:m,targetX:h.x,targetY:h.y,targetPosition:x};switch(n){case Ar.Bezier:[b]=Zj(j);break;case Ar.SimpleBezier:[b]=_S(j);break;case Ar.Step:[b]=Tp({...j,borderRadius:0});break;case Ar.SmoothStep:[b]=Tp(j);break;default:[b]=Kj(j)}return o.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:e})};$S.displayName="ConnectionLine";const HL={};function xw(e=HL){w.useRef(e),Nt(),w.useEffect(()=>{},[e])}function PL(){Nt(),w.useRef(!1),w.useEffect(()=>{},[])}function HS({nodeTypes:e,edgeTypes:n,onInit:r,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:b,connectionLineType:j,connectionLineStyle:N,connectionLineComponent:S,connectionLineContainerStyle:_,selectionKeyCode:A,selectionOnDrag:E,selectionMode:M,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,deleteKeyCode:P,onlyRenderVisibleElements:q,elementsSelectable:Z,defaultViewport:Q,translateExtent:G,minZoom:ne,maxZoom:U,preventScrolling:B,defaultMarkerColor:k,zoomOnScroll:L,zoomOnPinch:I,panOnScroll:$,panOnScrollSpeed:C,panOnScrollMode:H,zoomOnDoubleClick:Y,panOnDrag:V,onPaneClick:J,onPaneMouseEnter:ce,onPaneMouseMove:fe,onPaneMouseLeave:ee,onPaneScroll:ie,onPaneContextMenu:ge,paneClickDistance:Ee,nodeClickDistance:Ne,onEdgeContextMenu:ve,onEdgeMouseEnter:ze,onEdgeMouseMove:re,onEdgeMouseLeave:K,reconnectRadius:me,onReconnect:be,onReconnectStart:Ce,onReconnectEnd:we,noDragClassName:Me,noWheelClassName:je,noPanClassName:Se,disableKeyboardA11y:Ke,nodeExtent:tt,rfId:Ue,viewport:_e,onViewportChange:xe}){return xw(e),xw(n),PL(),ML(r),DL(_e),o.jsx(sL,{onPaneClick:J,onPaneMouseEnter:ce,onPaneMouseMove:fe,onPaneMouseLeave:ee,onPaneContextMenu:ge,onPaneScroll:ie,paneClickDistance:Ee,deleteKeyCode:P,selectionKeyCode:A,selectionOnDrag:E,selectionMode:M,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:R,panActivationKeyCode:D,zoomActivationKeyCode:O,elementsSelectable:Z,zoomOnScroll:L,zoomOnPinch:I,zoomOnDoubleClick:Y,panOnScroll:$,panOnScrollSpeed:C,panOnScrollMode:H,panOnDrag:V,defaultViewport:Q,translateExtent:G,minZoom:ne,maxZoom:U,onSelectionContextMenu:y,preventScrolling:B,noDragClassName:Me,noWheelClassName:je,noPanClassName:Se,disableKeyboardA11y:Ke,onViewportChange:xe,isControlledViewport:!!_e,children:o.jsxs(AL,{children:[o.jsx(kL,{edgeTypes:n,onEdgeClick:l,onEdgeDoubleClick:d,onReconnect:be,onReconnectStart:Ce,onReconnectEnd:we,onlyRenderVisibleElements:q,onEdgeContextMenu:ve,onEdgeMouseEnter:ze,onEdgeMouseMove:re,onEdgeMouseLeave:K,reconnectRadius:me,defaultMarkerColor:k,noPanClassName:Se,disableKeyboardA11y:Ke,rfId:Ue}),o.jsx($L,{style:N,type:j,component:S,containerStyle:_}),o.jsx("div",{className:"react-flow__edgelabel-renderer"}),o.jsx(dL,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:h,onNodeContextMenu:g,nodeClickDistance:Ne,onlyRenderVisibleElements:q,noPanClassName:Se,noDragClassName:Me,disableKeyboardA11y:Ke,nodeExtent:tt,rfId:Ue}),o.jsx("div",{className:"react-flow__viewport-portal"})]})})}HS.displayName="GraphView";const BL=w.memo(HS),yw=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m=.5,maxZoom:h=2,nodeOrigin:g,nodeExtent:y}={})=>{const x=new Map,b=new Map,j=new Map,N=new Map,S=a??n??[],_=r??e??[],A=g??[0,0],E=y??gl;Jj(j,N,S);const M=Mp(_,x,b,{nodeOrigin:A,nodeExtent:E,elevateNodesOnSelect:!1});let R=[0,0,1];if(d&&l&&c){const D=zl(x,{filter:Z=>!!((Z.width||Z.initialWidth)&&(Z.height||Z.initialHeight))}),{x:O,y:P,zoom:q}=Og(D,l,c,m,h,f?.padding??.1);R=[O,P,q]}return{rfId:"1",width:0,height:0,transform:R,nodes:_,nodesInitialized:M,nodeLookup:x,parentLookup:b,edges:S,edgeLookup:N,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:r!==void 0,hasDefaultEdges:a!==void 0,panZoom:null,minZoom:m,maxZoom:h,translateExtent:gl,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Da.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:A,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:f,fitViewResolver:null,connection:{...Ij},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:rz,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:zj}},UL=({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y})=>lI((x,b)=>{async function j(){const{nodeLookup:N,panZoom:S,fitViewOptions:_,fitViewResolver:A,width:E,height:M,minZoom:R,maxZoom:D}=b();S&&(await nz({nodes:N,width:E,height:M,panZoom:S,minZoom:R,maxZoom:D},_),A?.resolve(!0),x({fitViewResolver:null}))}return{...yw({nodes:e,edges:n,width:l,height:c,fitView:d,fitViewOptions:f,minZoom:m,maxZoom:h,nodeOrigin:g,nodeExtent:y,defaultNodes:r,defaultEdges:a}),setNodes:N=>{const{nodeLookup:S,parentLookup:_,nodeOrigin:A,elevateNodesOnSelect:E,fitViewQueued:M}=b(),R=Mp(N,S,_,{nodeOrigin:A,nodeExtent:y,elevateNodesOnSelect:E,checkEquality:!0});M&&R?(j(),x({nodes:N,nodesInitialized:R,fitViewQueued:!1,fitViewOptions:void 0})):x({nodes:N,nodesInitialized:R})},setEdges:N=>{const{connectionLookup:S,edgeLookup:_}=b();Jj(S,_,N),x({edges:N})},setDefaultNodesAndEdges:(N,S)=>{if(N){const{setNodes:_}=b();_(N),x({hasDefaultNodes:!0})}if(S){const{setEdges:_}=b();_(S),x({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:S,nodeLookup:_,parentLookup:A,domNode:E,nodeOrigin:M,nodeExtent:R,debug:D,fitViewQueued:O}=b(),{changes:P,updatedInternals:q}=Sz(N,_,A,E,M,R);q&&(wz(_,A,{nodeOrigin:M,nodeExtent:R}),O?(j(),x({fitViewQueued:!1,fitViewOptions:void 0})):x({}),P?.length>0&&(D&&console.log("React Flow: trigger node changes",P),S?.(P)))},updateNodePositions:(N,S=!1)=>{const _=[],A=[],{nodeLookup:E,triggerNodeChanges:M}=b();for(const[R,D]of N){const O=E.get(R),P=!!(O?.expandParent&&O?.parentId&&D?.position),q={id:R,type:"position",position:P?{x:Math.max(0,D.position.x),y:Math.max(0,D.position.y)}:D.position,dragging:S};P&&O.parentId&&_.push({id:R,parentId:O.parentId,rect:{...D.internals.positionAbsolute,width:D.measured.width??0,height:D.measured.height??0}}),A.push(q)}if(_.length>0){const{parentLookup:R,nodeOrigin:D}=b(),O=Hg(_,E,R,D);A.push(...O)}M(A)},triggerNodeChanges:N=>{const{onNodesChange:S,setNodes:_,nodes:A,hasDefaultNodes:E,debug:M}=b();if(N?.length){if(E){const R=hS(N,A);_(R)}M&&console.log("React Flow: trigger node changes",N),S?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:S,setEdges:_,edges:A,hasDefaultEdges:E,debug:M}=b();if(N?.length){if(E){const R=pS(N,A);_(R)}M&&console.log("React Flow: trigger edge changes",N),S?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:A,triggerNodeChanges:E,triggerEdgeChanges:M}=b();if(S){const R=N.map(D=>uo(D,!0));E(R);return}E(ya(A,new Set([...N]),!0)),M(ya(_))},addSelectedEdges:N=>{const{multiSelectionActive:S,edgeLookup:_,nodeLookup:A,triggerNodeChanges:E,triggerEdgeChanges:M}=b();if(S){const R=N.map(D=>uo(D,!0));M(R);return}M(ya(_,new Set([...N]))),E(ya(A,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:S}={})=>{const{edges:_,nodes:A,nodeLookup:E,triggerNodeChanges:M,triggerEdgeChanges:R}=b(),D=N||A,O=S||_,P=D.map(Z=>{const Q=E.get(Z.id);return Q&&(Q.selected=!1),uo(Z.id,!1)}),q=O.map(Z=>uo(Z.id,!1));M(P),R(q)},setMinZoom:N=>{const{panZoom:S,maxZoom:_}=b();S?.setScaleExtent([N,_]),x({minZoom:N})},setMaxZoom:N=>{const{panZoom:S,minZoom:_}=b();S?.setScaleExtent([_,N]),x({maxZoom:N})},setTranslateExtent:N=>{b().panZoom?.setTranslateExtent(N),x({translateExtent:N})},setPaneClickDistance:N=>{b().panZoom?.setClickDistance(N)},resetSelectedElements:()=>{const{edges:N,nodes:S,triggerNodeChanges:_,triggerEdgeChanges:A,elementsSelectable:E}=b();if(!E)return;const M=S.reduce((D,O)=>O.selected?[...D,uo(O.id,!1)]:D,[]),R=N.reduce((D,O)=>O.selected?[...D,uo(O.id,!1)]:D,[]);_(M),A(R)},setNodeExtent:N=>{const{nodes:S,nodeLookup:_,parentLookup:A,nodeOrigin:E,elevateNodesOnSelect:M,nodeExtent:R}=b();N[0][0]===R[0][0]&&N[0][1]===R[0][1]&&N[1][0]===R[1][0]&&N[1][1]===R[1][1]||(Mp(S,_,A,{nodeOrigin:E,nodeExtent:N,elevateNodesOnSelect:M,checkEquality:!1}),x({nodeExtent:N}))},panBy:N=>{const{transform:S,width:_,height:A,panZoom:E,translateExtent:M}=b();return _z({delta:N,panZoom:E,transform:S,translateExtent:M,width:_,height:A})},setCenter:async(N,S,_)=>{const{width:A,height:E,maxZoom:M,panZoom:R}=b();if(!R)return Promise.resolve(!1);const D=typeof _?.zoom<"u"?_.zoom:M;return await R.setViewport({x:A/2-N*D,y:E/2-S*D,zoom:D},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{x({connection:{...Ij}})},updateConnection:N=>{x({connection:N})},reset:()=>x({...yw()})}},Object.is);function VL({initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:l,initialHeight:c,initialMinZoom:d,initialMaxZoom:f,initialFitViewOptions:m,fitView:h,nodeOrigin:g,nodeExtent:y,children:x}){const[b]=w.useState(()=>UL({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,width:l,height:c,fitView:h,minZoom:d,maxZoom:f,fitViewOptions:m,nodeOrigin:g,nodeExtent:y}));return o.jsx(cI,{value:b,children:o.jsx(RI,{children:x})})}function qL({children:e,nodes:n,edges:r,defaultNodes:a,defaultEdges:l,width:c,height:d,fitView:f,fitViewOptions:m,minZoom:h,maxZoom:g,nodeOrigin:y,nodeExtent:x}){return w.useContext(Zd)?o.jsx(o.Fragment,{children:e}):o.jsx(VL,{initialNodes:n,initialEdges:r,defaultNodes:a,defaultEdges:l,initialWidth:c,initialHeight:d,fitView:f,initialFitViewOptions:m,initialMinZoom:h,initialMaxZoom:g,nodeOrigin:y,nodeExtent:x,children:e})}const FL={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function YL({nodes:e,edges:n,defaultNodes:r,defaultEdges:a,className:l,nodeTypes:c,edgeTypes:d,onNodeClick:f,onEdgeClick:m,onInit:h,onMove:g,onMoveStart:y,onMoveEnd:x,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,onNodeMouseEnter:A,onNodeMouseMove:E,onNodeMouseLeave:M,onNodeContextMenu:R,onNodeDoubleClick:D,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onNodesDelete:Z,onEdgesDelete:Q,onDelete:G,onSelectionChange:ne,onSelectionDragStart:U,onSelectionDrag:B,onSelectionDragStop:k,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:$,onBeforeDelete:C,connectionMode:H,connectionLineType:Y=Ar.Bezier,connectionLineStyle:V,connectionLineComponent:J,connectionLineContainerStyle:ce,deleteKeyCode:fe="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:ie=!1,selectionMode:ge=xl.Full,panActivationKeyCode:Ee="Space",multiSelectionKeyCode:Ne=vl()?"Meta":"Control",zoomActivationKeyCode:ve=vl()?"Meta":"Control",snapToGrid:ze,snapGrid:re,onlyRenderVisibleElements:K=!1,selectNodesOnDrag:me,nodesDraggable:be,autoPanOnNodeFocus:Ce,nodesConnectable:we,nodesFocusable:Me,nodeOrigin:je=fS,edgesFocusable:Se,edgesReconnectable:Ke,elementsSelectable:tt=!0,defaultViewport:Ue=NI,minZoom:_e=.5,maxZoom:xe=2,translateExtent:$e=gl,preventScrolling:Ge=!0,nodeExtent:qt,defaultMarkerColor:rn="#b1b1b7",zoomOnScroll:Co=!0,zoomOnPinch:es=!0,panOnScroll:vs=!1,panOnScrollSpeed:pe=.5,panOnScrollMode:Ae=go.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:Ot=!0,onPaneClick:Ft,onPaneMouseEnter:He,onPaneMouseMove:ye,onPaneMouseLeave:dt,onPaneScroll:Ct,onPaneContextMenu:ot,paneClickDistance:kn=0,nodeClickDistance:mn=0,children:Pn,onReconnect:Hl,onReconnectStart:Qd,onReconnectEnd:ts,onEdgeContextMenu:Pt,onEdgeDoubleClick:Kt,onEdgeMouseEnter:Ks,onEdgeMouseMove:Ya,onEdgeMouseLeave:Jd,reconnectRadius:ef=10,onNodesChange:Pl,onEdgesChange:qr,noDragClassName:Ga="nodrag",noWheelClassName:Qs="nowheel",noPanClassName:bs="nopan",fitView:Js,fitViewOptions:ws,connectOnClick:At,attributionPosition:Bl,proOptions:Ul,defaultEdgeOptions:Ns,elevateNodesOnSelect:er,elevateEdgesOnSelect:tf,disableKeyboardA11y:Xa=!1,autoPanOnConnect:Vl,autoPanOnNodeDrag:nf,autoPanSpeed:ko,connectionRadius:To,isValidConnection:Bn,onError:Za,style:ql,id:js,nodeDragThreshold:Wa,connectionDragThreshold:Ka,viewport:sf,onViewportChange:Fl,width:on,height:Yl,colorMode:rf="light",debug:Ao,onScroll:Qa,ariaLabelConfig:Mo,...of},an){const Fr=js||"1",Gl=EI(rf),Ja=w.useCallback(Ss=>{Ss.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Qa?.(Ss)},[Qa]);return o.jsx("div",{"data-testid":"rf__wrapper",...of,onScroll:Ja,style:{...ql,...FL},ref:an,className:Dt(["react-flow",l,Gl]),id:js,role:"application",children:o.jsxs(qL,{nodes:e,edges:n,width:on,height:Yl,fitView:Js,fitViewOptions:ws,minZoom:_e,maxZoom:xe,nodeOrigin:je,nodeExtent:qt,children:[o.jsx(BL,{onInit:h,onNodeClick:f,onEdgeClick:m,onNodeMouseEnter:A,onNodeMouseMove:E,onNodeMouseLeave:M,onNodeContextMenu:R,onNodeDoubleClick:D,nodeTypes:c,edgeTypes:d,connectionLineType:Y,connectionLineStyle:V,connectionLineComponent:J,connectionLineContainerStyle:ce,selectionKeyCode:ee,selectionOnDrag:ie,selectionMode:ge,deleteKeyCode:fe,multiSelectionKeyCode:Ne,panActivationKeyCode:Ee,zoomActivationKeyCode:ve,onlyRenderVisibleElements:K,defaultViewport:Ue,translateExtent:$e,minZoom:_e,maxZoom:xe,preventScrolling:Ge,zoomOnScroll:Co,zoomOnPinch:es,zoomOnDoubleClick:Ie,panOnScroll:vs,panOnScrollSpeed:pe,panOnScrollMode:Ae,panOnDrag:Ot,onPaneClick:Ft,onPaneMouseEnter:He,onPaneMouseMove:ye,onPaneMouseLeave:dt,onPaneScroll:Ct,onPaneContextMenu:ot,paneClickDistance:kn,nodeClickDistance:mn,onSelectionContextMenu:L,onSelectionStart:I,onSelectionEnd:$,onReconnect:Hl,onReconnectStart:Qd,onReconnectEnd:ts,onEdgeContextMenu:Pt,onEdgeDoubleClick:Kt,onEdgeMouseEnter:Ks,onEdgeMouseMove:Ya,onEdgeMouseLeave:Jd,reconnectRadius:ef,defaultMarkerColor:rn,noDragClassName:Ga,noWheelClassName:Qs,noPanClassName:bs,rfId:Fr,disableKeyboardA11y:Xa,nodeExtent:qt,viewport:sf,onViewportChange:Fl}),o.jsx(_I,{nodes:e,edges:n,defaultNodes:r,defaultEdges:a,onConnect:b,onConnectStart:j,onConnectEnd:N,onClickConnectStart:S,onClickConnectEnd:_,nodesDraggable:be,autoPanOnNodeFocus:Ce,nodesConnectable:we,nodesFocusable:Me,edgesFocusable:Se,edgesReconnectable:Ke,elementsSelectable:tt,elevateNodesOnSelect:er,elevateEdgesOnSelect:tf,minZoom:_e,maxZoom:xe,nodeExtent:qt,onNodesChange:Pl,onEdgesChange:qr,snapToGrid:ze,snapGrid:re,connectionMode:H,translateExtent:$e,connectOnClick:At,defaultEdgeOptions:Ns,fitView:Js,fitViewOptions:ws,onNodesDelete:Z,onEdgesDelete:Q,onDelete:G,onNodeDragStart:O,onNodeDrag:P,onNodeDragStop:q,onSelectionDrag:B,onSelectionDragStart:U,onSelectionDragStop:k,onMove:g,onMoveStart:y,onMoveEnd:x,noPanClassName:bs,nodeOrigin:je,rfId:Fr,autoPanOnConnect:Vl,autoPanOnNodeDrag:nf,autoPanSpeed:ko,onError:Za,connectionRadius:To,isValidConnection:Bn,selectNodesOnDrag:me,nodeDragThreshold:Wa,connectionDragThreshold:Ka,onBeforeDelete:C,paneClickDistance:kn,debug:Ao,ariaLabelConfig:Mo}),o.jsx(wI,{onSelectionChange:ne}),Pn,o.jsx(gI,{proOptions:Ul,position:Bl}),o.jsx(pI,{rfId:Fr,disableKeyboardA11y:Xa})]})})}var GL=gS(YL);function XL(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>hS(l,c)),[]);return[n,r,a]}function ZL(e){const[n,r]=w.useState(e),a=w.useCallback(l=>r(c=>pS(l,c)),[]);return[n,r,a]}function WL(e){return at(w.useCallback(r=>r.nodeLookup.get(e),[e]),wt)}function KL({dimensions:e,lineWidth:n,variant:r,className:a}){return o.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:Dt(["react-flow__background-pattern",r,a])})}function QL({radius:e,className:n}){return o.jsx("circle",{cx:e,cy:e,r:e,className:Dt(["react-flow__background-pattern","dots",n])})}var Ys;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ys||(Ys={}));const JL={[Ys.Dots]:1,[Ys.Lines]:1,[Ys.Cross]:6},e7=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function PS({id:e,variant:n=Ys.Dots,gap:r=20,size:a,lineWidth:l=1,offset:c=0,color:d,bgColor:f,style:m,className:h,patternClassName:g}){const y=w.useRef(null),{transform:x,patternId:b}=at(e7,wt),j=a||JL[n],N=n===Ys.Dots,S=n===Ys.Cross,_=Array.isArray(r)?r:[r,r],A=[_[0]*x[2]||1,_[1]*x[2]||1],E=j*x[2],M=Array.isArray(c)?c:[c,c],R=S?[E,E]:A,D=[M[0]*x[2]||1+R[0]/2,M[1]*x[2]||1+R[1]/2],O=`${b}${e||""}`;return o.jsxs("svg",{className:Dt(["react-flow__background",h]),style:{...m,...Kd,"--xy-background-color-props":f,"--xy-background-pattern-color-props":d},ref:y,"data-testid":"rf__background",children:[o.jsx("pattern",{id:O,x:x[0]%A[0],y:x[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${D[0]},-${D[1]})`,children:N?o.jsx(QL,{radius:E/2,className:g}):o.jsx(KL,{dimensions:R,lineWidth:l,variant:n,className:g})}),o.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${O})`})]})}PS.displayName="Background";const t7=w.memo(PS);function n7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:o.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function s7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:o.jsx("path",{d:"M0 0h32v4.2H0z"})})}function r7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:o.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function o7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function a7(){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:o.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function yu({children:e,className:n,...r}){return o.jsx("button",{type:"button",className:Dt(["react-flow__controls-button",n]),...r,children:e})}const i7=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function BS({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:l,onZoomIn:c,onZoomOut:d,onFitView:f,onInteractiveChange:m,className:h,children:g,position:y="bottom-left",orientation:x="vertical","aria-label":b}){const j=Nt(),{isInteractive:N,minZoomReached:S,maxZoomReached:_,ariaLabelConfig:A}=at(i7,wt),{zoomIn:E,zoomOut:M,fitView:R}=Fa(),D=()=>{E(),c?.()},O=()=>{M(),d?.()},P=()=>{R(l),f?.()},q=()=>{j.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),m?.(!N)},Z=x==="horizontal"?"horizontal":"vertical";return o.jsxs(Wd,{className:Dt(["react-flow__controls",Z,h]),position:y,style:e,"data-testid":"rf__controls","aria-label":b??A["controls.ariaLabel"],children:[n&&o.jsxs(o.Fragment,{children:[o.jsx(yu,{onClick:D,className:"react-flow__controls-zoomin",title:A["controls.zoomIn.ariaLabel"],"aria-label":A["controls.zoomIn.ariaLabel"],disabled:_,children:o.jsx(n7,{})}),o.jsx(yu,{onClick:O,className:"react-flow__controls-zoomout",title:A["controls.zoomOut.ariaLabel"],"aria-label":A["controls.zoomOut.ariaLabel"],disabled:S,children:o.jsx(s7,{})})]}),r&&o.jsx(yu,{className:"react-flow__controls-fitview",onClick:P,title:A["controls.fitView.ariaLabel"],"aria-label":A["controls.fitView.ariaLabel"],children:o.jsx(r7,{})}),a&&o.jsx(yu,{className:"react-flow__controls-interactive",onClick:q,title:A["controls.interactive.ariaLabel"],"aria-label":A["controls.interactive.ariaLabel"],children:N?o.jsx(a7,{}):o.jsx(o7,{})}),g]})}BS.displayName="Controls";const l7=w.memo(BS);function c7({id:e,x:n,y:r,width:a,height:l,style:c,color:d,strokeColor:f,strokeWidth:m,className:h,borderRadius:g,shapeRendering:y,selected:x,onClick:b}){const{background:j,backgroundColor:N}=c||{},S=d||j||N;return o.jsx("rect",{className:Dt(["react-flow__minimap-node",{selected:x},h]),x:n,y:r,rx:g,ry:g,width:a,height:l,style:{fill:S,stroke:f,strokeWidth:m},shapeRendering:y,onClick:b?_=>b(_,e):void 0})}const u7=w.memo(c7),d7=e=>e.nodes.map(n=>n.id),Gh=e=>e instanceof Function?e:()=>e;function f7({nodeStrokeColor:e,nodeColor:n,nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:l,nodeComponent:c=u7,onClick:d}){const f=at(d7,wt),m=Gh(n),h=Gh(e),g=Gh(r),y=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return o.jsx(o.Fragment,{children:f.map(x=>o.jsx(h7,{id:x,nodeColorFunc:m,nodeStrokeColorFunc:h,nodeClassNameFunc:g,nodeBorderRadius:a,nodeStrokeWidth:l,NodeComponent:c,onClick:d,shapeRendering:y},x))})}function m7({id:e,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:a,nodeBorderRadius:l,nodeStrokeWidth:c,shapeRendering:d,NodeComponent:f,onClick:m}){const{node:h,x:g,y,width:x,height:b}=at(j=>{const{internals:N}=j.nodeLookup.get(e),S=N.userNode,{x:_,y:A}=N.positionAbsolute,{width:E,height:M}=Ws(S);return{node:S,x:_,y:A,width:E,height:M}},wt);return!h||h.hidden||!Vj(h)?null:o.jsx(f,{x:g,y,width:x,height:b,style:h.style,selected:!!h.selected,className:a(h),color:n(h),borderRadius:l,strokeColor:r(h),strokeWidth:c,shapeRendering:d,onClick:m,id:h.id})}const h7=w.memo(m7);var p7=w.memo(f7);const g7=200,x7=150,y7=e=>!e.hidden,v7=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?Uj(zl(e.nodeLookup,{filter:y7}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},b7="react-flow__minimap-desc";function US({style:e,className:n,nodeStrokeColor:r,nodeColor:a,nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:f,bgColor:m,maskColor:h,maskStrokeColor:g,maskStrokeWidth:y,position:x="bottom-right",onClick:b,onNodeClick:j,pannable:N=!1,zoomable:S=!1,ariaLabel:_,inversePan:A,zoomStep:E=1,offsetScale:M=5}){const R=Nt(),D=w.useRef(null),{boundingRect:O,viewBB:P,rfId:q,panZoom:Z,translateExtent:Q,flowWidth:G,flowHeight:ne,ariaLabelConfig:U}=at(v7,wt),B=e?.width??g7,k=e?.height??x7,L=O.width/B,I=O.height/k,$=Math.max(L,I),C=$*B,H=$*k,Y=M*$,V=O.x-(C-O.width)/2-Y,J=O.y-(H-O.height)/2-Y,ce=C+Y*2,fe=H+Y*2,ee=`${b7}-${q}`,ie=w.useRef(0),ge=w.useRef();ie.current=$,w.useEffect(()=>{if(D.current&&Z)return ge.current=Oz({domNode:D.current,panZoom:Z,getTransform:()=>R.getState().transform,getViewScale:()=>ie.current}),()=>{ge.current?.destroy()}},[Z]),w.useEffect(()=>{ge.current?.update({translateExtent:Q,width:G,height:ne,inversePan:A,pannable:N,zoomStep:E,zoomable:S})},[N,S,A,E,Q,G,ne]);const Ee=b?ze=>{const[re,K]=ge.current?.pointer(ze)||[0,0];b(ze,{x:re,y:K})}:void 0,Ne=j?w.useCallback((ze,re)=>{const K=R.getState().nodeLookup.get(re).internals.userNode;j(ze,K)},[]):void 0,ve=_??U["minimap.ariaLabel"];return o.jsx(Wd,{position:x,style:{...e,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-width-props":typeof y=="number"?y*$:void 0,"--xy-minimap-node-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-node-stroke-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:Dt(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:o.jsxs("svg",{width:B,height:k,viewBox:`${V} ${J} ${ce} ${fe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ee,ref:D,onClick:Ee,children:[ve&&o.jsx("title",{id:ee,children:ve}),o.jsx(p7,{onClick:Ne,nodeColor:a,nodeStrokeColor:r,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:f}),o.jsx("path",{className:"react-flow__minimap-mask",d:`M${V-Y},${J-Y}h${ce+Y*2}v${fe+Y*2}h${-ce-Y*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}US.displayName="MiniMap";const w7=w.memo(US),N7=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,j7={[La.Line]:"right",[La.Handle]:"bottom-right"};function S7({nodeId:e,position:n,variant:r=La.Handle,className:a,style:l=void 0,children:c,color:d,minWidth:f=10,minHeight:m=10,maxWidth:h=Number.MAX_VALUE,maxHeight:g=Number.MAX_VALUE,keepAspectRatio:y=!1,resizeDirection:x,autoScale:b=!0,shouldResize:j,onResizeStart:N,onResize:S,onResizeEnd:_}){const A=bS(),E=typeof e=="string"?e:A,M=Nt(),R=w.useRef(null),D=r===La.Handle,O=at(w.useCallback(N7(D&&b),[D,b]),wt),P=w.useRef(null),q=n??j7[r];w.useEffect(()=>{if(!(!R.current||!E))return P.current||(P.current=Wz({domNode:R.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:Q,transform:G,snapGrid:ne,snapToGrid:U,nodeOrigin:B,domNode:k}=M.getState();return{nodeLookup:Q,transform:G,snapGrid:ne,snapToGrid:U,nodeOrigin:B,paneDomNode:k}},onChange:(Q,G)=>{const{triggerNodeChanges:ne,nodeLookup:U,parentLookup:B,nodeOrigin:k}=M.getState(),L=[],I={x:Q.x,y:Q.y},$=U.get(E);if($&&$.expandParent&&$.parentId){const C=$.origin??k,H=Q.width??$.measured.width??0,Y=Q.height??$.measured.height??0,V={id:$.id,parentId:$.parentId,rect:{width:H,height:Y,...qj({x:Q.x??$.position.x,y:Q.y??$.position.y},{width:H,height:Y},$.parentId,U,C)}},J=Hg([V],U,B,k);L.push(...J),I.x=Q.x?Math.max(C[0]*H,Q.x):void 0,I.y=Q.y?Math.max(C[1]*Y,Q.y):void 0}if(I.x!==void 0&&I.y!==void 0){const C={id:E,type:"position",position:{...I}};L.push(C)}if(Q.width!==void 0&&Q.height!==void 0){const H={id:E,type:"dimensions",resizing:!0,setAttributes:x?x==="horizontal"?"width":"height":!0,dimensions:{width:Q.width,height:Q.height}};L.push(H)}for(const C of G){const H={...C,type:"position"};L.push(H)}ne(L)},onEnd:({width:Q,height:G})=>{const ne={id:E,type:"dimensions",resizing:!1,dimensions:{width:Q,height:G}};M.getState().triggerNodeChanges([ne])}})),P.current.update({controlPosition:q,boundaries:{minWidth:f,minHeight:m,maxWidth:h,maxHeight:g},keepAspectRatio:y,resizeDirection:x,onResizeStart:N,onResize:S,onResizeEnd:_,shouldResize:j}),()=>{P.current?.destroy()}},[q,f,m,h,g,y,N,S,_,j]);const Z=q.split("-");return o.jsx("div",{className:Dt(["react-flow__resize-control","nodrag",...Z,r,a]),ref:R,style:{...l,scale:O,...d&&{[D?"backgroundColor":"borderColor"]:d}},children:c})}w.memo(S7);const _7=e=>{switch(e){case"running":return{borderColor:"border-[#643FB2] dark:border-[#8B5CF6]",glow:"shadow-lg shadow-[#643FB2]/20",badgeColor:"bg-[#643FB2] dark:bg-[#8B5CF6]"};case"completed":return{borderColor:"border-green-500 dark:border-green-400",glow:"shadow-lg shadow-green-500/20",badgeColor:"bg-green-500 dark:bg-green-400"};case"failed":return{borderColor:"border-red-500 dark:border-red-400",glow:"shadow-lg shadow-red-500/20",badgeColor:"bg-red-500 dark:bg-red-400"};case"cancelled":return{borderColor:"border-orange-500 dark:border-orange-400",glow:"shadow-lg shadow-orange-500/20",badgeColor:"bg-orange-500 dark:bg-orange-400"};case"pending":default:return{borderColor:"border-gray-300 dark:border-gray-600",glow:"",badgeColor:"bg-gray-400 dark:bg-gray-500"}}},VS=w.memo(({data:e,selected:n})=>{const r=e,a=_7(r.state),[l,c]=w.useState(!1),d=r.outputData||r.error,f=r.state==="running",m=f&&(r.isStreaming??!0),h=r.layoutDirection==="TB",g=h?Be.Top:Be.Left,y=h?Be.Bottom:Be.Right,x=()=>{if(r.error&&typeof r.error=="string"){const b=Tu(r.error,200);return o.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-950/20 p-2 rounded border border-red-200 dark:border-red-800 break-words max-h-32 overflow-auto",children:b})}if(r.outputData)try{const b=typeof r.outputData=="string"?r.outputData:JSON.stringify(r.outputData,null,2);return o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300 bg-muted/50 p-2 rounded border max-h-32 overflow-auto",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:b})})}catch{return o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 bg-muted/50 p-2 rounded border",children:"[Unable to display output]"})}return null};return o.jsxs("div",{className:We("group relative w-64 bg-card dark:bg-card rounded border-2 transition-all duration-200",a.borderColor,n?"ring-2 ring-blue-500 ring-offset-2":"",f?a.glow:"shadow-sm"),children:[o.jsx($a,{type:"target",position:g,id:"target",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsx($a,{type:"source",position:y,id:"source",className:"!w-2 !h-2 !rounded-full !border !border-gray-600 dark:!border-gray-500 transition-colors !min-w-0 !min-h-0",style:{backgroundColor:r.state==="running"?"#643FB2":r.state==="completed"?"#10b981":r.state==="failed"?"#ef4444":r.state==="cancelled"?"#f97316":"#4b5563"}}),o.jsxs("div",{className:"p-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 relative",children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-900/90 dark:bg-gray-800/90 flex items-center justify-center",children:r.isStartNode?o.jsx(FA,{className:"w-5 h-5 text-[#643FB2] dark:text-[#8B5CF6]"}):o.jsx(Bs,{className:"w-5 h-5 text-gray-300 dark:text-gray-400"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("h3",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:r.name||r.executorId}),f&&o.jsx(Ir,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${m?"animate-spin":""} flex-shrink-0`})]}),r.executorType&&o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-0.5",children:r.executorType})]})]}),d&&o.jsxs("div",{className:"mt-2 border-t border-border/50 pt-2",children:[o.jsxs("button",{onClick:b=>{b.stopPropagation(),c(!l)},className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors w-full",children:[l?o.jsx(Et,{className:"w-3 h-3"}):o.jsx(en,{className:"w-3 h-3"}),o.jsx("span",{children:r.error?"Show error":"Show output"})]}),l&&o.jsx("div",{className:"mt-2",children:x()})]}),f&&o.jsx("div",{className:"absolute inset-0 rounded border-2 border-[#643FB2]/30 dark:border-[#8B5CF6]/30 animate-pulse pointer-events-none"})]})]})});VS.displayName="ExecutorNode";const E7=w.memo(function({id:n,source:r,markerEnd:a,style:l}){const c=WL(r);if(!c)return null;const{width:d,height:f}=c.measured,{x:m,y:h}=c.internals.positionAbsolute;if(!d||!f)return null;const y=c.data?.layoutDirection==="TB",x=100,b=40;let j;if(y){const N=m+d/2,S=h+f,_=m+d/2,A=h,E=m+d+x;j=`M ${N} ${S} C ${N} ${S+b}, ${E} ${S+b}, ${E} ${h+f/2} C ${E} ${A-b}, ${_} ${A-b}, ${_} ${A}`}else{const N=m+d,S=h+f/2,_=m,A=h+f/2,E=h+f+x;j=`M ${N} ${S} C ${N+b} ${S}, ${N+b} ${E}, ${m+d/2} ${E} C ${_-b} ${E}, ${_-b} ${A}, ${_} ${A}`}return o.jsx($l,{id:n,path:j,markerEnd:a,style:l})}),C7={executor:VS},k7={selfLoop:E7};function T7({workflowDump:e,onNodeSelect:n,viewOptions:r,onToggleViewOption:a,layoutDirection:l,onLayoutDirectionChange:c}){const{fitView:d,setViewport:f,setNodes:m}=Fa(),h=()=>{f({x:0,y:0,zoom:1})},g=()=>{d({padding:.2})},y=()=>{if(!e)return;const x=xp(e,n,l),b=yp(e),j=vp(x,b,l);m(j)};return o.jsx("div",{className:"absolute top-4 right-4 z-10",children:o.jsxs(jd,{children:[o.jsx(Sd,{asChild:!0,children:o.jsxs(Le,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-white/90 backdrop-blur-sm border-gray-200 shadow-sm hover:bg-white dark:bg-gray-800/90 dark:border-gray-600 dark:hover:bg-gray-800",children:[o.jsx(LA,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"View options"})]})}),o.jsxs(_d,{align:"end",className:"w-56",children:[o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("showMinimap"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(oM,{className:"mr-2 h-4 w-4"}),"Show Minimap"]}),o.jsx(kr,{checked:r.showMinimap,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("showGrid"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(VA,{className:"mr-2 h-4 w-4"}),"Show Grid"]}),o.jsx(kr,{checked:r.showGrid,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("animateRun"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Al,{className:"mr-2 h-4 w-4"}),"Animate Run"]}),o.jsx(kr,{checked:r.animateRun,onChange:()=>{}})]}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>a?.("consolidateBidirectionalEdges"),children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(lA,{className:"mr-2 h-4 w-4"}),"Merge Bidirectional Edges"]}),o.jsx(kr,{checked:r.consolidateBidirectionalEdges,onChange:()=>{}})]}),o.jsx(wa,{}),o.jsxs($t,{className:"flex items-center justify-between",onClick:()=>{const x=l==="LR"?"TB":"LR";if(c?.(x),e){const b=xp(e,n,x),j=yp(e),N=vp(b,j,x);m(N)}},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(aA,{className:"mr-2 h-4 w-4"}),"Vertical Layout"]}),o.jsx(kr,{checked:l==="TB",onChange:()=>{}})]}),o.jsx(wa,{}),o.jsxs($t,{onClick:h,children:[o.jsx(ug,{className:"mr-2 h-4 w-4"}),"Reset Zoom"]}),o.jsxs($t,{onClick:g,children:[o.jsx(iM,{className:"mr-2 h-4 w-4"}),"Fit to Screen"]}),o.jsxs($t,{onClick:y,children:[o.jsx(AM,{className:"mr-2 h-4 w-4"}),"Auto-arrange"]})]})]})})}function A7({nodes:e,nodeUpdates:n,isStreaming:r,animateRun:a}){const{fitView:l}=Fa();return w.useEffect(()=>{if(a)if(r){const c=e.filter(d=>d.data.state==="running");if(c.length>0){const d=c[0];l({nodes:[d],duration:800,padding:.3,minZoom:.8,maxZoom:1.5})}}else e.length>0&&l({duration:1e3,padding:.2})},[n,r,a,e]),null}const M7=w.memo(({timelineVisible:e})=>{const{fitView:n}=Fa();return w.useEffect(()=>{const r=setTimeout(()=>{n({padding:.2,duration:300})},350);return()=>clearTimeout(r)},[e]),null}),R7=w.memo(function({workflowDump:n,events:r,isStreaming:a,onNodeSelect:l,className:c="",viewOptions:d={showMinimap:!1,showGrid:!0,animateRun:!0,consolidateBidirectionalEdges:!0},onToggleViewOption:f,layoutDirection:m="TB",onLayoutDirectionChange:h,timelineVisible:g=!1}){const{initialNodes:y,initialEdges:x}=w.useMemo(()=>{if(!n)return{initialNodes:[],initialEdges:[]};const R=xp(n,l,m),D=yp(n),O=d.consolidateBidirectionalEdges?Oh(D):D;return{initialNodes:R.length>0?vp(R,O,m):R,initialEdges:O}},[n,l,m,d.consolidateBidirectionalEdges]),[b,j,N]=XL(y),[S,_,A]=ZL(x),E=w.useMemo(()=>p6(r,n?.start_executor_id),[r,n?.start_executor_id]);w.useMemo(()=>{Object.keys(E).length>0?j(R=>g6(R,E,a)):r.length===0&&j(R=>R.map(D=>({...D,data:{...D.data,state:"pending",outputData:void 0,error:void 0,isStreaming:!1}})))},[E,j,r.length,a]),w.useMemo(()=>{r.length>0?_(R=>{const D=y6(R,r);return d.consolidateBidirectionalEdges?Oh(D):D}):_(R=>{const D=R.map(O=>({...O,animated:!1,style:{stroke:"#6b7280",strokeWidth:2}}));return d.consolidateBidirectionalEdges?Oh(D):D})},[r,_,d.consolidateBidirectionalEdges]),w.useEffect(()=>{y.length>0&&(j(y),_(x))},[n,d.consolidateBidirectionalEdges]);const M=w.useCallback((R,D)=>{R.stopPropagation(),l?.(D.data.executorId,D.data)},[l]);return n?y.length===0?o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Executors Found"}),o.jsx("div",{className:"text-sm",children:"Could not extract executors from workflow dump."}),o.jsxs("details",{className:"mt-2 text-xs",children:[o.jsx("summary",{className:"cursor-pointer",children:"Debug Info"}),o.jsx("pre",{className:"mt-1 p-2 bg-gray-100 dark:bg-gray-800 rounded text-left overflow-auto",children:JSON.stringify(n,null,2)})]})]})}):o.jsxs("div",{className:`h-full w-full ${c}`,children:[o.jsxs(GL,{nodes:b,edges:S,onNodesChange:N,onEdgesChange:A,onNodeClick:M,nodeTypes:C7,edgeTypes:k7,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:1.5,defaultEdgeOptions:{type:"default",animated:!1,style:{stroke:"#6b7280",strokeWidth:2}},nodesDraggable:!a,nodesConnectable:!1,elementsSelectable:!0,proOptions:{hideAttribution:!0},children:[d.showGrid&&o.jsx(t7,{variant:Ys.Dots,gap:20,size:1,color:"#e5e7eb",className:"dark:opacity-30"}),o.jsx(l7,{position:"bottom-left",showInteractive:!1,style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"3px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),d.showMinimap&&o.jsx(w7,{nodeColor:R=>{switch(R.data?.state){case"running":return"#643FB2";case"completed":return"#10b981";case"failed":return"#ef4444";case"cancelled":return"#f97316";default:return"#6b7280"}},maskColor:"rgba(0, 0, 0, 0.1)",position:"bottom-right",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",border:"1px solid #e5e7eb",borderRadius:"8px"},className:"dark:!bg-gray-800/90 dark:!border-gray-600"}),o.jsx(A7,{nodes:b,nodeUpdates:E,isStreaming:a,animateRun:d.animateRun}),o.jsx(M7,{timelineVisible:g}),o.jsx(T7,{workflowDump:n,onNodeSelect:l,viewOptions:d,onToggleViewOption:f,layoutDirection:m,onLayoutDirectionChange:h})]}),o.jsx("style",{children:`
        .react-flow__edge-path {
          transition: stroke 0.3s ease, stroke-width 0.3s ease;
        }
        .react-flow__edge.animated .react-flow__edge-path {
          stroke-dasharray: 5 5;
          animation: dash 1s linear infinite;
        }
        @keyframes dash {
          0% { stroke-dashoffset: 0; }
          100% { stroke-dashoffset: -10; }
        }
        
        /* Dark theme styles for React Flow controls */
        .dark .react-flow__controls {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
        }
        .dark .react-flow__controls-button {
          background-color: rgba(31, 41, 55, 0.9) !important;
          border-color: rgb(75, 85, 99) !important;
          color: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover {
          background-color: rgba(55, 65, 81, 0.9) !important;
          color: rgb(255, 255, 255) !important;
        }
        .dark .react-flow__controls-button svg {
          fill: rgb(229, 231, 235) !important;
        }
        .dark .react-flow__controls-button:hover svg {
          fill: rgb(255, 255, 255) !important;
        }
      `})]}):o.jsx("div",{className:`flex items-center justify-center h-full bg-gray-50 dark:bg-gray-900 rounded border border-gray-200 dark:border-gray-700 ${c}`,children:o.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-lg font-medium mb-2",children:"No Workflow Data"}),o.jsx("div",{className:"text-sm",children:"Workflow dump is not available."})]})})});function vu({title:e,icon:n,children:r,className:a=""}){return o.jsxs("div",{className:`border rounded-lg p-4 bg-card ${a}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n,o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:e})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})}function D7({workflow:e,open:n,onOpenChange:r}){const a=e.source==="directory"?o.jsx(aN,{className:"h-4 w-4 text-muted-foreground"}):e.source==="in_memory"?o.jsx(op,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(iN,{className:"h-4 w-4 text-muted-foreground"}),l=e.source==="directory"?"Local":e.source==="in_memory"?"In-Memory":"Gallery";return o.jsx($r,{open:n,onOpenChange:r,children:o.jsxs(Hr,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs(Pr,{className:"px-6 pt-6 flex-shrink-0",children:[o.jsx(Br,{children:"Workflow Details"}),o.jsx(Eo,{onClose:()=>r(!1)})]}),o.jsxs("div",{className:"px-6 pb-6 overflow-y-auto flex-1",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx(Bs,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-foreground",children:e.name||e.id})]}),e.description&&o.jsx("p",{className:"text-muted-foreground",children:e.description})]}),o.jsx("div",{className:"h-px bg-border mb-6"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(vu,{title:"Start Executor",icon:o.jsx(_A,{className:"h-4 w-4 text-muted-foreground"}),children:o.jsx("div",{className:"font-mono text-foreground",children:e.start_executor_id})}),o.jsx(vu,{title:"Source",icon:a,children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-foreground",children:l}),e.module_path&&o.jsx("div",{className:"font-mono text-xs break-all",children:e.module_path})]})}),o.jsx(vu,{title:"Environment",icon:e.has_env?o.jsx(Tl,{className:"h-4 w-4 text-orange-500"}):o.jsx(wd,{className:"h-4 w-4 text-green-500"}),className:"md:col-span-2",children:o.jsx("div",{className:e.has_env?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400",children:e.has_env?"Requires environment variables":"No environment variables required"})})]}),o.jsx(vu,{title:`Executors (${e.executors.length})`,icon:o.jsx(qu,{className:"h-4 w-4 text-muted-foreground"}),children:e.executors.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:e.executors.map((c,d)=>o.jsx("div",{className:"font-mono text-xs text-foreground bg-muted px-2 py-1 rounded truncate",title:c,children:c},d))}):o.jsx("div",{className:"text-muted-foreground",children:"No executors configured"})})]})]})})}function O7({session:e,checkpoints:n,open:r,onOpenChange:a}){const[l,c]=w.useState(null),[d,f]=w.useState(null),[m,h]=w.useState(!1),[g,y]=w.useState(!0);if(w.useEffect(()=>{r&&n.length>0&&(n.some(_=>_.checkpoint_id===l)||c(n[0].checkpoint_id))},[r,n]),w.useEffect(()=>{if(!l||!e)return;(async()=>{h(!0);try{const _=await Ze.getConversationItem(e.conversation_id,`checkpoint_${l}`);f(_.metadata?.full_checkpoint??null)}catch(_){console.error("Failed to load checkpoint:",_),f(null)}finally{h(!1)}})()},[l,e]),!e)return null;const x=n.find(S=>S.checkpoint_id===l),b=d?.shared_state?._executor_state?Object.keys(d.shared_state._executor_state):[],j=d?.messages?Object.keys(d.messages):[],N=S=>{if(!S)return"";const _=S/1024;return _<1?`${S} B`:_<1024?`${_.toFixed(1)} KB`:`${(_/1024).toFixed(1)} MB`};return o.jsx($r,{open:r,onOpenChange:a,children:o.jsxs(Hr,{className:"w-[90vw] max-w-6xl min-w-[800px] h-[85vh] flex flex-col p-0",children:[o.jsx(Pr,{className:"px-6 pt-6 pb-4 border-b flex-shrink-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Br,{children:e.metadata.name}),o.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[n.length," checkpoint",n.length!==1?"s":""]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-2 max-w-2xl",children:"This is a read only view of the current checkpoint ids in the checkpoint storage for this workflow run."})]}),o.jsx(Eo,{onClose:()=>a(!1)})]})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[o.jsx("div",{className:"w-80 border-r flex flex-col",children:o.jsx(Kn,{className:"flex-1",children:o.jsx("div",{className:"p-4 space-y-2",children:n.length===0?o.jsx("div",{className:"text-center text-sm text-muted-foreground py-8",children:"No checkpoints yet"}):n.map((S,_)=>{const A=S.checkpoint_id===l,E=S.metadata.has_pending_hil;return o.jsxs("div",{className:"relative",children:[o.jsx("button",{onClick:()=>c(S.checkpoint_id),className:We("relative w-full text-left p-3 rounded-lg border transition-colors",A?"bg-primary/10 border-primary":"hover:bg-muted/50 border-transparent"),children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex flex-col items-center pt-1",children:o.jsx("div",{className:We("w-2 h-2 rounded-full z-10",E?"bg-blue-500 ring-2 ring-blue-500/20":"bg-muted-foreground/30")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-medium",children:S.metadata.iteration_count===0?"Initial State":`Step ${S.metadata.iteration_count}`}),o.jsx("span",{className:"text-[10px] font-mono text-muted-foreground/70",title:S.checkpoint_id,children:S.checkpoint_id.slice(0,8)}),_===0&&o.jsx(ut,{variant:"secondary",className:"text-[10px] h-4 px-1",children:"Latest"}),E&&o.jsxs(ut,{variant:"secondary",className:"text-[10px] h-4 px-1.5",children:[S.metadata.pending_hil_count," HIL"]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:new Date(S.timestamp).toLocaleTimeString()}),S.metadata.size_bytes&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:N(S.metadata.size_bytes)})]})]})]})]})}),_<n.length-1&&o.jsx("div",{className:"absolute left-[18px] top-[30px] w-px h-[calc(100%+8px)] bg-border"})]},S.checkpoint_id)})})})}),o.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:!d&&!m?o.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-muted-foreground",children:"Select a checkpoint to view details"}):o.jsx(Kn,{className:"flex-1",children:o.jsxs("div",{className:"p-6 space-y-6 relative",children:[m&&o.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-10",children:o.jsx(Ir,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),o.jsxs("div",{className:"flex items-start justify-between pb-4 border-b",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(ag,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:x?.metadata.iteration_count===0?"Initial State":`Step ${x?.metadata.iteration_count}`}),x?.metadata.size_bytes&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",N(x.metadata.size_bytes)]})]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:x&&new Date(x.timestamp).toLocaleString()}),x&&o.jsxs("div",{className:"text-xs font-mono text-muted-foreground/70 mt-1",children:["ID: ",x.checkpoint_id]})]}),x?.metadata.has_pending_hil&&o.jsxs(ut,{variant:"secondary",children:[x.metadata.pending_hil_count," HIL Pending"]})]}),b.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(qu,{className:"h-4 w-4"}),"Active Executors (",b.length,")"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(S=>o.jsx(ut,{variant:"outline",className:"font-mono text-xs",children:S},S))})]}),j.length>0&&d&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(ig,{className:"h-4 w-4"}),"Messages"]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(S=>{const _=d.messages[S]?.length;return o.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[o.jsx("div",{className:"text-xs font-mono text-muted-foreground mb-1",children:S}),o.jsxs("div",{className:"font-medium",children:[_," message",_!==1?"s":""]})]},S)})})]}),d?.pending_request_info_events&&Object.keys(d.pending_request_info_events).length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[o.jsx(hs,{className:"h-4 w-4"}),"Pending HIL Requests (",Object.keys(d.pending_request_info_events).length,")"]}),o.jsx("div",{className:"space-y-2",children:Object.entries(d.pending_request_info_events).map(([S,_])=>o.jsxs("div",{className:"bg-muted/50 border border-border p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("code",{className:"text-xs bg-background px-2 py-1 rounded",children:[S.slice(0,24),"..."]}),o.jsx(ut,{variant:"outline",className:"text-xs",children:_.source_executor_id})]}),o.jsxs("div",{className:"text-xs space-y-1",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Request:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.request_type?.split(".").pop()||_.request_type})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Response:"})," ",o.jsx("code",{className:"bg-background px-1 py-0.5 rounded",children:_.response_type?.split(".").pop()||_.response_type})]})]})]},S))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-3",children:"Shared State"}),d?.shared_state&&Object.keys(d.shared_state).filter(S=>S!=="_executor_state").length>0?o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(d.shared_state).filter(S=>S!=="_executor_state").map(S=>o.jsx(ut,{variant:"secondary",className:"font-mono text-xs",children:S},S))}):o.jsx("div",{className:"text-sm text-muted-foreground",children:"No custom state"})]}),o.jsxs("div",{className:"border-t pt-6",children:[o.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-2 text-sm font-medium hover:text-primary transition-colors w-full",children:[g?o.jsx(Et,{className:"h-4 w-4"}):o.jsx(en,{className:"h-4 w-4"}),"Raw JSON"]}),g&&o.jsx("pre",{className:"mt-3 text-[10px] font-mono bg-muted p-4 rounded overflow-x-auto",children:JSON.stringify(d,null,2)})]})]})})})]})]})})}function z7(e){return["name","title","id","key","label","type","status","tag","category","code","username","password","email"].includes(e.toLowerCase())}function qS(e,n){return n.format==="textarea"||!!n.description&&n.description.length>100||n.type==="string"&&!n.enum&&!z7(e)}function I7(e,n){const r=qS(e,n),a=!!n.description&&n.description.length>150;return r||a?"md:col-span-2 lg:col-span-3 xl:col-span-4":n.type==="array"||n.description&&n.description.length>80?"xl:col-span-2":""}function L7(e,n){if(e.type!=="object"||!e.properties)return!1;const r=e.properties,a=Object.keys(r).filter(l=>!n.includes(l));return n.includes("role")&&a.some(l=>["text","message","content"].includes(l))&&r.role?.type==="string"}function Xh({name:e,schema:n,value:r,onChange:a,isRequired:l=!1,isReadOnly:c=!1}){const{type:d,description:f,enum:m,default:h}=n,g=qS(e,n),y=()=>{if(c)return o.jsxs("div",{className:"space-y-2",children:[o.jsx(yt,{htmlFor:e,className:"text-muted-foreground",children:e}),o.jsx("div",{className:"text-sm p-2 bg-muted rounded border",children:typeof r=="object"?JSON.stringify(r,null,2):String(r)}),f&&o.jsx("p",{className:"text-xs text-muted-foreground",children:f})]});switch(d){case"string":return m?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsxs(Id,{value:typeof r=="string"&&r?r:typeof h=="string"?h:m[0],onValueChange:x=>a(x),children:[o.jsx($d,{children:o.jsx(Ld,{placeholder:`Select ${e}`})}),o.jsx(Hd,{children:m.map(x=>o.jsx(Pd,{value:x,children:x},x))})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):g?o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`,rows:4,className:"min-w-[300px] w-full"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Ln,{id:e,type:"text",value:typeof r=="string"?r:"",onChange:x=>a(x.target.value),placeholder:typeof h=="string"?h:`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"integer":case"number":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(Ln,{id:e,type:"number",step:d==="integer"?"1":"any",value:typeof r=="number"?r:"",onChange:x=>{const b=d==="integer"?parseInt(x.target.value):parseFloat(x.target.value);a(isNaN(b)?"":b)},placeholder:typeof h=="number"?h.toString():`Enter ${e}`}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"boolean":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kr,{id:e,checked:!!r,onCheckedChange:x=>a(x)}),o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]})]}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"array":return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:Array.isArray(r)?r.join(", "):typeof r=="string"?r:"",onChange:x=>{const b=x.target.value.split(",").map(j=>j.trim()).filter(j=>j.length>0);a(b)},placeholder:"Enter items separated by commas",rows:2}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]});case"object":default:return o.jsxs("div",{className:"space-y-2",children:[o.jsxs(yt,{htmlFor:e,children:[e,l&&o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(ho,{id:e,value:typeof r=="object"&&r!==null?JSON.stringify(r,null,2):typeof r=="string"?r:"",onChange:x=>{try{const b=JSON.parse(x.target.value);a(b)}catch{a(x.target.value)}},placeholder:'{"key": "value"}',rows:3,className:"font-mono text-xs"}),f&&o.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})}};return o.jsx("div",{className:I7(e,n),children:y()})}function $7({schema:e,values:n,onChange:r,disabled:a=!1,readOnlyFields:l=[],hideFields:c=[],showCollapsedByDefault:d=!1}){const[f,m]=w.useState(d),h=e.properties||{},g=Object.keys(h).filter(O=>!c.includes(O)),y=(e.required||[]).filter(O=>!c.includes(O)),x=L7(e,y),b=g.filter(O=>y.includes(O)&&!(x&&O==="role")),j=g.filter(O=>!y.includes(O)),N=x?[...j].sort((O,P)=>{const q=Z=>["text","message","content"].includes(Z)?1:0;return q(P)-q(O)}):j,_=Math.max(0,(x?1:6)-b.length),A=N.slice(0,_),E=N.slice(_),M=E.length>0,R=b.length>0,D=(O,P)=>{r({...n,[O]:P})};return o.jsxs("div",{className:"space-y-3",children:[b.map(O=>o.jsx(Xh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!0,isReadOnly:a||l.includes(O)},O)),R&&j.length>0&&o.jsx("div",{children:o.jsx("div",{className:"border-t border-border"})}),A.map(O=>o.jsx(Xh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O)),M&&o.jsx("div",{className:"md:col-span-2 lg:col-span-3 xl:col-span-4",children:o.jsx(Le,{type:"button",variant:"ghost",size:"sm",onClick:()=>m(!f),className:"w-full justify-center gap-2",disabled:a,children:f?o.jsxs(o.Fragment,{children:[o.jsx(Bu,{className:"h-4 w-4"}),"Hide ",E.length," optional field",E.length!==1?"s":""]}):o.jsxs(o.Fragment,{children:[o.jsx(Et,{className:"h-4 w-4"}),"Show ",E.length," optional field",E.length!==1?"s":""]})})}),f&&E.map(O=>o.jsx(Xh,{name:O,schema:h[O],value:n[O],onChange:P=>D(O,P),isRequired:!1,isReadOnly:a||l.includes(O)},O))]})}function FS(e,n){return(e.required||[]).every(a=>{const l=n[a];return l!==void 0&&l!==""&&l!==null})}function H7({request:e,response:n,onResponseChange:r,onSubmit:a,isSubmitting:l}){const[c,d]=w.useState(!0),f=h=>{r(h)},m=FS(e.request_schema,n);return o.jsx("div",{className:"relative group",children:o.jsx("div",{children:o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"border border-orange-200 dark:border-orange-800 bg-orange-50/50 dark:bg-orange-950/20 overflow-hidden rounded-lg",children:[o.jsxs("div",{className:"px-4 py-3 bg-orange-100/50 dark:bg-orange-950/30 border-b border-orange-200 dark:border-orange-800 flex items-center justify-between cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-950/40 transition-colors",onClick:()=>d(!c),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm text-orange-900 dark:text-orange-100",children:"Workflow needs your input"}),o.jsx(ut,{variant:"outline",className:"text-xs font-mono border-orange-300 dark:border-orange-700 text-orange-700 dark:text-orange-300",children:e.request_id.slice(0,8)}),!c&&o.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 animate-pulse",children:"Click to respond"})]}),l&&o.jsx(ut,{variant:"secondary",className:"animate-pulse",children:"Submitting..."})]}),c&&o.jsxs("div",{className:"p-4 space-y-4",children:[Object.keys(e.request_data).length>0&&o.jsxs("div",{className:"bg-white/60 dark:bg-gray-900/30 rounded-md p-3 space-y-2",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Context"}),o.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 pr-2",children:Object.entries(e.request_data).filter(([h])=>!["request_id","source_executor_id"].includes(h)).map(([h,g])=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"font-medium text-muted-foreground",children:[h,":"]})," ",o.jsx("span",{className:"text-foreground break-all",children:typeof g=="object"?JSON.stringify(g,null,2):String(g)})]},h))})]}),e.request_schema?.description&&o.jsxs("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-md border border-blue-200 dark:border-blue-800",children:[o.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-1",children:"What's needed:"}),o.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:e.request_schema.description})]}),o.jsx("div",{className:"space-y-3",children:o.jsx($7,{schema:e.request_schema,values:n,onChange:f})}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsxs(Le,{size:"default",onClick:a,disabled:!m||l,className:"w-full gap-2",children:[o.jsx(nl,{className:"w-4 h-4"}),"Submit Response"]}),!m&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Please fill in all required fields"})]})]})]})})})})}function P7(e,n=!0){switch(e){case"running":return o.jsx(Ir,{className:`w-4 h-4 text-[#643FB2] dark:text-[#8B5CF6] ${n?"animate-spin":""}`});case"completed":return o.jsx(wd,{className:"w-4 h-4 text-green-500 dark:text-green-400"});case"failed":return o.jsx(Tl,{className:"w-4 h-4 text-red-500 dark:text-red-400"});case"cancelled":return o.jsx(hs,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"});default:return o.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400 dark:border-gray-500"})}}function B7(e){switch(e){case"running":return"bg-[#643FB2]/10 text-[#643FB2] dark:bg-[#8B5CF6]/10 dark:text-[#8B5CF6] border-[#643FB2]/20 dark:border-[#8B5CF6]/20";case"completed":return"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20";case"failed":return"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20";case"cancelled":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/20"}}function U7({run:e,isExpanded:n,onToggle:r,onClick:a,isSelected:l,isStreaming:c}){const d=new Date(e.timestamp).toLocaleTimeString(),m=e.output.trim().length>0||e.error,h=w.useRef(null);return w.useEffect(()=>{n&&e.state==="running"&&h.current&&(h.current.scrollTop=h.current.scrollHeight)},[e.output,n,e.state]),o.jsxs("div",{className:`border rounded-lg transition-all ${l?"border-blue-500 dark:border-blue-400 bg-blue-500/5 dark:bg-blue-500/10":"border-border hover:border-muted-foreground/30"}`,children:[o.jsxs("div",{className:"p-3 cursor-pointer",onClick:()=>{a(),m&&r()},children:[o.jsxs("div",{className:"grid grid-cols-[auto_auto_1fr_auto] items-center gap-2 mb-1",children:[o.jsx("div",{className:"w-3 text-muted-foreground",children:m&&o.jsx(o.Fragment,{children:n?o.jsx(Et,{className:"w-3 h-3"}):o.jsx(en,{className:"w-3 h-3"})})}),o.jsx("div",{children:P7(e.state,c)}),o.jsx("span",{className:"font-medium text-sm truncate overflow-hidden",children:e.executorName}),e.runNumber>1?o.jsxs(ut,{variant:"outline",className:"text-xs whitespace-nowrap",children:["Run #",e.runNumber]}):o.jsx("div",{})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground ml-5",children:[o.jsx("span",{className:"font-mono",children:d}),o.jsx(ut,{variant:"outline",className:`text-xs border ${B7(e.state)}`,children:e.state})]})]}),n&&m&&o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:e.error?o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error:"}),o.jsx("pre",{className:"text-xs bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded p-2 overflow-y-auto overflow-x-hidden max-h-40 whitespace-pre-wrap break-all",children:e.error})]}):o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Output:"}),o.jsx("pre",{ref:h,className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:e.output})]})})]})}function V7({events:e,itemOutputs:n,currentExecutorId:r,isStreaming:a,onExecutorClick:l,selectedExecutorId:c,workflowResult:d,pendingHilRequests:f=[],hilResponses:m={},onHilResponseChange:h,onHilSubmit:g,isSubmittingHil:y=!1,inputSchema:x,onRun:b,onCancel:j,isCancelling:N=!1,workflowState:S="ready",wasCancelled:_=!1,checkpoints:A=[]}){const[E,M]=w.useState(new Set),[R,D]=w.useState(0),[O,P]=w.useState(!1),q=w.useRef(null),Z=w.useRef(null),Q=w.useRef(null);w.useEffect(()=>{if(a){const B=setInterval(()=>{D(k=>k+1)},100);return()=>clearInterval(B)}},[a]);const{executorRuns:G,executorRunCount:ne}=w.useMemo(()=>{const B=[],k=new Map;return e.forEach(L=>{const I="_uiTimestamp"in L&&typeof L._uiTimestamp=="number"?L._uiTimestamp*1e3:Date.now();if(L.type==="response.output_item.added"){const $=L.item;if($&&$.type==="executor_action"&&"executor_id"in $&&$.id){const C=String($.executor_id),H=$.id,Y=(k.get(C)||0)+1;k.set(C,Y),B.push({executorId:C,executorName:Tu(C,35),itemId:H,state:"running",output:n[H]||"",timestamp:I,runNumber:Y})}else if($&&$.type==="message"&&"metadata"in $&&$.id){const C=$.metadata;if(C?.agent_id&&C?.source==="magentic"){const H=C.agent_id,Y=$.id,V=(k.get(H)||0)+1;k.set(H,V),B.push({executorId:H,executorName:Tu(H,35),itemId:Y,state:"running",output:n[Y]||"",timestamp:I,runNumber:V})}}}if(L.type==="response.output_item.done"){const $=L.item;if($&&$.type==="executor_action"&&"executor_id"in $&&$.id){const C=$.id,H=B.find(Y=>Y.itemId===C);H&&(H.state=$.status==="completed"?"completed":$.status==="failed"?"failed":"completed",H.output=n[C]||"",$.status==="failed"&&"error"in $&&$.error&&(H.error=String($.error)))}else if($&&$.type==="message"&&"metadata"in $&&$.id){const C=$.metadata;if(C?.agent_id&&C?.source==="magentic"){const H=$.id,Y=B.find(V=>V.itemId===H);Y&&(Y.state=$.status==="completed"?"completed":"failed",Y.output=n[H]||"")}}}if(L.type==="response.workflow_event.completed"&&"data"in L&&L.data){const $=L.data,C=$.executor_id;if(!C)return;const H=$.event_type;if(H==="ExecutorInvokedEvent"){const Y=(k.get(C)||0)+1;k.set(C,Y);const V=`fallback_${C}_${I}`;B.push({executorId:C,executorName:Tu(C,35),itemId:V,state:"running",output:n[V]||"",timestamp:I,runNumber:Y})}else if(H==="ExecutorCompletedEvent"){let Y;for(let V=B.length-1;V>=0;V--)if(B[V].executorId===C&&B[V].state==="running"){Y=B[V];break}Y&&(Y.state="completed",Y.output=n[Y.itemId]||"")}else if(H?.includes("Error")||H?.includes("Failed")){let Y;for(let V=B.length-1;V>=0;V--)if(B[V].executorId===C&&B[V].state==="running"){Y=B[V];break}Y&&(Y.state="failed",Y.error=typeof $.data=="string"?$.data:"Execution failed")}}}),B.forEach(L=>{L.state==="running"&&n[L.itemId]&&(L.output=n[L.itemId])}),{executorRuns:B,executorRunCount:k}},[e,n,R]);w.useEffect(()=>{r&&M(B=>{const k=new Set(B);return k.add(`${r}-${ne.get(r)||1}`),k})},[r,ne]),w.useEffect(()=>{if(G.length>0&&a){const B=G[G.length-1],k=`${B.executorId}-${B.runNumber}`;k!==q.current&&(q.current=k,Z.current&&Z.current.scrollIntoView({behavior:"smooth",block:"end"}))}},[G,a]),w.useEffect(()=>{d&&!a&&Z.current&&setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[d,a]),w.useEffect(()=>{!a&&G.length>0&&f.length===0&&setTimeout(()=>{Z.current?.scrollIntoView({behavior:"smooth",block:"end"})},100)},[a,f.length,G.length]),w.useEffect(()=>{f.length>0&&Q.current&&setTimeout(()=>{Q.current?.scrollIntoView({behavior:"smooth",block:"end"}),Q.current?.classList.add("highlight-attention"),setTimeout(()=>{Q.current?.classList.remove("highlight-attention")},1e3)},100)},[f.length]);const U=()=>{const B=G.map(k=>{const I=`[${new Date(k.timestamp).toLocaleTimeString()}] ${k.executorName} (${k.state})`,$=k.error||k.output||"(no output)";return`${I}
${$}
`}).join(`
`);navigator.clipboard.writeText(B),P(!0),setTimeout(()=>P(!1),2e3)};return o.jsxs("div",{className:"h-full flex flex-col border-l bg-muted/30",children:[o.jsxs("div",{className:"p-3 border-b bg-background flex items-center justify-between flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:"Execution Timeline"}),o.jsx(ut,{variant:"outline",className:"text-xs",children:G.length}),a&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("div",{className:"h-2 w-2 animate-pulse rounded-full bg-[#643FB2] dark:bg-[#8B5CF6]"}),o.jsx("span",{children:"Running"})]})]}),G.length>0&&o.jsx(Le,{variant:"ghost",size:"sm",onClick:U,className:`h-7 px-2 text-xs ${O?"text-green-600 dark:text-green-400":""}`,children:O?o.jsxs(o.Fragment,{children:[o.jsx(_o,{className:"w-3 h-3 mr-1"}),"Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(fo,{className:"w-3 h-3 mr-1"}),"Copy All"]})})]}),o.jsx(Kn,{className:"flex-1",children:o.jsxs("div",{className:"p-3 space-y-2",children:[G.length===0?o.jsx("div",{className:"text-center text-muted-foreground text-sm py-8",children:a?"Workflow is running...":"Ready to run workflow"}):o.jsxs(o.Fragment,{children:[G.map((B,k)=>{const L=`${B.executorId}-${B.runNumber}`;return o.jsx(U7,{run:B,isExpanded:E.has(L),onToggle:()=>{M(I=>{const $=new Set(I);return $.has(L)?$.delete(L):$.add(L),$})},onClick:()=>l?.(B.executorId),isSelected:c===B.executorId,isStreaming:a},`${L}-${k}`)}),f.length>0&&o.jsx("div",{ref:Q,"data-hil-form":!0,className:"transition-all duration-300",children:f.map(B=>o.jsx(H7,{request:B,response:m[B.request_id]||{},onResponseChange:k=>h?.(B.request_id,k),onSubmit:()=>g?.(),isSubmitting:y},B.request_id))})]}),d&&d.trim().length>0&&!a&&!_&&o.jsxs("div",{className:"border rounded-lg border-green-500/40 bg-green-500/5 dark:bg-green-500/10",children:[o.jsx("div",{className:"p-3 bg-green-500/10 border-b border-green-500/20",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(wd,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),o.jsx("span",{className:"font-medium text-sm",children:"Workflow Complete"})]})}),o.jsx("div",{className:"border-t px-3 py-2 bg-muted/30",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Final Output:"}),o.jsx("pre",{className:"text-xs bg-background border rounded p-2 overflow-y-auto overflow-x-hidden max-h-60 whitespace-pre-wrap break-all",children:d})]})})]}),_&&!a&&o.jsx("div",{className:"border rounded-lg border-orange-500/40 bg-orange-500/5 dark:bg-orange-500/10",children:o.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[o.jsx(Nd,{className:"w-4 h-4 text-orange-500 dark:text-orange-400 fill-current"}),o.jsx("span",{className:"font-medium text-sm text-orange-700 dark:text-orange-300",children:"Execution stopped by user"})]})}),o.jsx("div",{ref:Z})]})}),(b||j)&&f.length===0&&o.jsx("div",{className:"border-t p-3 bg-background flex-shrink-0",children:x&&ej(x)?o.jsx(jg,{onSubmit:async B=>{b?.([{type:"message",role:"user",content:B}])},isSubmitting:S==="running",isStreaming:S==="running",onCancel:j,isCancelling:N,placeholder:"Message workflow...",showFileUpload:!0,entityName:"workflow"}):o.jsx(sj,{inputSchema:x,onRun:b||(()=>{}),onCancel:j,isSubmitting:S==="running",isCancelling:N,workflowState:S,checkpoints:A,showCheckpoints:!1})})]})}function q7({selectedWorkflow:e,onDebugEvent:n}){const[r,a]=w.useState(null),[l,c]=w.useState(!1),[d,f]=w.useState(null),[m,h]=w.useState([]),[g,y]=w.useState(!1),[x,b]=w.useState(!1),[j,N]=w.useState(null),[S,_]=w.useState(!1),[A,E]=w.useState(!1),[M,R]=w.useState(!1),[D,O]=w.useState(!1),[P,q]=w.useState(""),[Z,Q]=w.useState([]),{isCancelling:G,createAbortSignal:ne,handleCancel:U,resetCancelling:B}=w2(),[k,L]=w.useState([]),[I,$]=w.useState({}),C=w.useRef({}),H=w.useRef(null),Y=w.useRef(null),V=le(pe=>pe.currentSession),J=le(pe=>pe.availableSessions),ce=le(pe=>pe.loadingSessions),fe=le(pe=>pe.setCurrentSession),ee=le(pe=>pe.setAvailableSessions),ie=le(pe=>pe.setLoadingSessions),ge=le(pe=>pe.addSession),Ee=le(pe=>pe.removeSession),Ne=le(pe=>pe.addToast),ve=le(pe=>pe.runtime),ze=le(pe=>pe.streamingEnabled),[re,K]=w.useState(()=>{const pe=localStorage.getItem("workflowViewOptions"),Ae={showMinimap:!1,showGrid:!0,animateRun:!1,consolidateBidirectionalEdges:!0};if(pe){const Ie=JSON.parse(pe);return{...Ae,...Ie}}return Ae}),[me,be]=w.useState(()=>localStorage.getItem("workflowLayoutDirection")||"TB");w.useEffect(()=>{localStorage.setItem("workflowViewOptions",JSON.stringify(re))},[re]),w.useEffect(()=>{localStorage.setItem("workflowLayoutDirection",me)},[me]);const Ce=pe=>{K(Ae=>({...Ae,[pe]:!Ae[pe]}))},we=async()=>{if(M||!e)return;R(!0);const{addToast:pe,updateWorkflow:Ae}=await Cu(()=>Promise.resolve().then(()=>ju),void 0,import.meta.url).then(Ie=>({addToast:Ie.useDevUIStore.getState().addToast,updateWorkflow:Ie.useDevUIStore.getState().updateWorkflow}));try{await Ze.reloadEntity(e.id);const Ie=await Ze.getWorkflowInfo(e.id);Ae(Ie),a(Ie),pe({message:`${e.name} has been reloaded successfully`,type:"success"})}catch(Ie){const Ot=Ie instanceof Error?Ie.message:"Failed to reload entity";pe({message:`Failed to reload: ${Ot}`,type:"error",duration:6e3})}finally{R(!1)}};w.useEffect(()=>{const pe=async()=>{if(e.type==="workflow"){c(!0),f(null);try{const Ae=await Ze.getWorkflowInfo(e.id);a(Ae),f(null)}catch(Ae){a(null);const Ie=Ae instanceof Error?Ae.message:String(Ae);f(Ie),console.error("Error loading workflow info:",Ae)}finally{c(!1)}}};h([]),y(!1),N(null),q(""),f(null),C.current={},H.current=null,Y.current=null,pe()},[e.id,e.type]);const Me=w.useCallback(async()=>{if(r){ie(!0);try{const pe=await Ze.listWorkflowSessions(r.id);if(pe.data.length===0){const Ae=await Ze.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});ee([Ae]),fe(Ae)}else{const Ae=[...pe.data].sort((Ie,Ot)=>Ot.created_at-Ie.created_at);if(ee(Ae),!V){const Ie=Ae[0];fe(Ie),await Se(Ie)}}}catch(pe){console.error("Failed to load sessions:",pe),ve!=="dotnet"&&Ne({message:"Failed to load sessions",type:"error"})}finally{ie(!1)}}},[r,V,ve,Ne,ee,fe]);w.useEffect(()=>{Me()},[r?.id,ve]);const je=w.useCallback(async()=>{if(!V){Q([]);return}try{const Ae=(await Ze.listConversationItems(V.conversation_id,{limit:100})).data.filter(Ie=>typeof Ie=="object"&&Ie!==null&&"type"in Ie&&Ie.type==="checkpoint");Q(Ae)}catch(pe){console.error(`Failed to load checkpoints for session ${V.conversation_id}:`,pe),Q([])}},[V]);w.useEffect(()=>{A&&V&&je()},[A,V,je]);const Se=w.useCallback(async pe=>{!pe||!r||(h([]),y(!1),b(!1),N(null),O(!1),q(""),L([]),$({}),C.current={},H.current=null,Y.current=null)},[r]),Ke=w.useCallback(async pe=>{const Ae=J.find(Ie=>Ie.conversation_id===pe);Ae&&(fe(Ae),await Se(Ae))},[J,fe,Se]),tt=w.useCallback(async()=>{if(r)try{const pe=await Ze.createWorkflowSession(r.id,{name:`Checkpoint Storage ${new Date().toLocaleString()}`});console.log("[WorkflowView] Created new session:",pe.conversation_id),console.log("[WorkflowView] Previous session:",V?.conversation_id),ge(pe),fe(pe),await Se(pe),await new Promise(Ae=>setTimeout(Ae,100)),Ne({message:"New checkpoint storage created",type:"success"})}catch(pe){console.error("Failed to create checkpoint storage:",pe),Ne({message:"Failed to create checkpoint storage",type:"error"})}},[r,V,ge,fe,Se,Ne]),Ue=w.useCallback(async()=>{if(!(!V||!r)&&confirm("Delete this session? All checkpoints will be lost."))try{await Ze.deleteWorkflowSession(r.id,V.conversation_id),Ee(V.conversation_id),Ne({message:"Session deleted",type:"success"})}catch(pe){console.error("Failed to delete session:",pe),Ne({message:"Failed to delete session",type:"error"})}},[V,r,Ee,Ne]),_e=pe=>{N(pe)},xe=w.useMemo(()=>m.filter(pe=>pe.type==="response.output_item.added"||pe.type==="response.output_item.done"||pe.type==="response.created"||pe.type==="response.in_progress"||pe.type==="response.completed"||pe.type==="response.failed"||pe.type==="response.workflow_event.completed"||pe.type==="response.workflow_event.complete"),[m]),$e=w.useMemo(()=>{const pe=[];return xe.forEach(Ae=>{if(Ae.type==="response.output_item.added"||Ae.type==="response.output_item.done"){const Ie=Ae.item;Ie&&Ie.type==="executor_action"&&"executor_id"in Ie&&Ie.executor_id&&pe.push({executorId:String(Ie.executor_id),message:Ae.type==="response.output_item.added"?"Executor started":Ie.status==="completed"?"Executor completed":Ie.status==="failed"?"Executor failed":"Executor processing",timestamp:new Date().toISOString(),status:Ie.status==="completed"?"completed":Ie.status==="failed"?"error":"running"})}else if(Ae.type==="response.workflow_event.complete"&&"data"in Ae&&Ae.data&&typeof Ae.data=="object"){const Ie=Ae.data;Ie.executor_id!=null&&pe.push({executorId:String(Ie.executor_id),message:String(Ie.event_type||"Processing"),timestamp:String(Ie.timestamp||new Date().toISOString()),status:String(Ie.event_type||"").includes("Completed")?"completed":String(Ie.event_type||"").includes("Error")?"error":"running"})}}),pe},[xe]),Ge=w.useMemo(()=>g?$e.filter(Ae=>Ae.status==="running").slice(-2).map(Ae=>Ae.executorId):[],[$e,g]),qt=w.useCallback(async(pe,Ae)=>{if(!e||e.type!=="workflow")return;y(!0),b(!1),h([]),q(""),C.current={},H.current=null,Y.current=null,L([]),$({}),n("clear");const Ie=ne();try{console.log("[WorkflowView] Running workflow with:"),console.log("  - Current session ID:",V?.conversation_id),console.log("  - Input data:",pe);const Ot={input_data:pe,conversation_id:V?.conversation_id||void 0,checkpoint_id:Ae};V?.conversation_id?Ze.clearStreamingState(V.conversation_id):Ze.clearStreamingState(e.id);const Ft=Ze.streamWorkflowExecutionOpenAI(e.id,Ot,Ie);for await(const He of Ft){if((He.type==="response.output_item.added"||He.type==="response.output_item.done"||He.type==="response.created"||He.type==="response.in_progress"||He.type==="response.completed"||He.type==="response.failed"||He.type==="response.workflow_event.completed"||He.type==="response.workflow_event.complete")&&h(ye=>{const dt=Math.floor(Date.now()/1e3),Ct=ye.length>0&&ye[ye.length-1]._uiTimestamp||0,ot=Math.max(dt,Ct+1);return[...ye,{...He,_uiTimestamp:ot}]}),n(He),He.type==="response.output_item.added"){const ye=He.item;if(ye&&ye.type==="executor_action"&&ye.executor_id&&ye.id&&(H.current=ye.id,C.current[ye.id]||(C.current[ye.id]="")),ye&&ye.type==="message"&&"metadata"in ye&&ye.metadata?.source==="magentic"&&ye.id&&(H.current=ye.id,C.current[ye.id]||(C.current[ye.id]="")),ye&&ye.type==="message"&&(!("metadata"in ye)||!ye.metadata?.source)&&"content"in ye&&Array.isArray(ye.content)){for(const dt of ye.content)if(dt.type==="output_text"&&dt.text){const Ct=dt.text;q(ot=>ot&&ot.length>0?ot+`

`+Ct:Ct);try{const ot=JSON.parse(dt.text);typeof ot=="object"&&ot!==null&&(Y.current=ot)}catch{}}}}if(He.type,He.type,He.type==="response.workflow_event.completed"&&"data"in He&&He.data){const ye=He.data;if(ye.event_type==="ExecutorInvokedEvent"&&ye.executor_id){const dt=`fallback_${ye.executor_id}_${Date.now()}`;H.current=dt,C.current[dt]||(C.current[dt]="")}(ye.event_type==="WorkflowCompletedEvent"||ye.event_type==="WorkflowOutputEvent")&&ye.data&&(typeof ye.data=="object"&&(Y.current=ye.data),H.current=null)}if(He.type==="response.output_text.delta"&&"delta"in He&&He.delta){const ye=He.item_id||H.current;ye&&(C.current[ye]||(C.current[ye]=""),C.current[ye]+=He.delta)}if(He.type==="response.request_info.requested"){const ye=He;L(ot=>[...ot,{request_id:ye.request_id,request_data:ye.request_data,request_schema:ye.request_schema}]);const dt=ye.request_schema,Ct={};dt.properties&&Object.entries(dt.properties).forEach(([ot,kn])=>{const mn=kn;mn.enum&&mn.enum.length>0?Ct[ot]=mn.enum[0]:mn.default!==void 0&&(Ct[ot]=mn.default)}),$(ot=>({...ot,[ye.request_id]:Ct}))}if(He.type==="error")break}y(!1)}catch(Ot){Wu(Ot)?(console.log("Workflow execution cancelled by user"),b(!0),L([]),$({})):console.error("Workflow execution error:",Ot),y(!1),B()}},[e,n,V,ne,B]),rn=w.useCallback(async(pe,Ae)=>{if(!(!e||e.type!=="workflow")){y(!1),b(!1),h([]),q(""),C.current={},H.current=null,Y.current=null,L([]),$({}),n("clear");try{const Ie=await Ze.runWorkflowSync(e.id,{input_data:pe,conversation_id:V?.conversation_id||void 0,checkpoint_id:Ae});if(Ie.output){for(const Ft of Ie.output)if(Ft.type==="message"&&"content"in Ft&&Array.isArray(Ft.content)){for(const He of Ft.content)if(He.type==="output_text"&&He.text){q(ye=>ye&&ye.length>0?ye+`

`+He.text:He.text||"");try{const ye=JSON.parse(He.text||"");typeof ye=="object"&&ye!==null&&(Y.current=ye)}catch{}}}}const Ot={type:"response.completed",response:Ie,sequence_number:0};h([Ot]),n(Ot),await je()}catch(Ie){console.error("Workflow execution error:",Ie);const Ft={type:"response.failed",response:{error:{message:Ie instanceof Error?Ie.message:"Workflow execution failed"}},sequence_number:0};h([Ft]),n(Ft)}}},[e,V,n,je]),Co=w.useCallback(async(pe,Ae)=>{ze?await qt(pe,Ae):await rn(pe,Ae)},[ze,qt,rn]),es=w.useCallback(()=>{for(const pe of k){const Ae=I[pe.request_id]||{};if(!FS(pe.request_schema,Ae))return!1}return!0},[k,I]),vs=w.useCallback(async()=>{if(!e||e.type!=="workflow")return;if(!es()){console.warn("Cannot submit: Not all HIL forms are valid");return}y(!0),L([]),$({});const pe=ne();try{const Ae={input_data:[{type:"message",content:[{type:"workflow_hil_response",responses:I}]}],conversation_id:V?.conversation_id||void 0},Ie=Ze.streamWorkflowExecutionOpenAI(e.id,Ae,pe);let Ot=!1;const Ft=[];for await(const He of Ie){if((He.type==="response.output_item.added"||He.type==="response.output_item.done"||He.type==="response.created"||He.type==="response.in_progress"||He.type==="response.completed"||He.type==="response.failed"||He.type==="response.workflow_event.completed")&&h(ye=>{const dt=Math.floor(Date.now()/1e3),Ct=ye.length>0&&ye[ye.length-1]._uiTimestamp||0,ot=Math.max(dt,Ct+1);return[...ye,{...He,_uiTimestamp:ot}]}),n(He),He.type==="response.request_info.requested"){const ye=He;Ot=!0;const dt={request_id:ye.request_id,request_data:ye.request_data,request_schema:ye.request_schema};Ft.push(dt);const Ct=ye.request_schema,ot={};Ct.properties&&Object.entries(Ct.properties).forEach(([kn,mn])=>{const Pn=mn;Pn.enum&&Pn.enum.length>0?ot[kn]=Pn.enum[0]:Pn.default!==void 0&&(ot[kn]=Pn.default)}),$(kn=>({...kn,[ye.request_id]:ot}))}if(He.type==="response.output_item.added"){const ye=He.item;if(ye&&ye.type==="executor_action"&&ye.executor_id&&ye.id&&(H.current=ye.id,C.current[ye.id]||(C.current[ye.id]="")),ye&&ye.type==="message"&&"content"in ye&&Array.isArray(ye.content)){for(const dt of ye.content)if(dt.type==="output_text"&&dt.text){const Ct=dt.text;q(ot=>ot&&ot.length>0?ot+`

`+Ct:Ct);try{const ot=JSON.parse(Ct);typeof ot=="object"&&ot!==null&&(Y.current=ot)}catch{}}}}if(He.type==="response.output_text.delta"&&"delta"in He&&He.delta){const ye=H.current;ye&&(C.current[ye]||(C.current[ye]=""),C.current[ye]+=He.delta)}He.type==="response.completed"&&await je(),He.type==="response.failed"&&await je()}Ot&&L(Ft),y(!1),await je()}catch(Ae){Wu(Ae)?(console.log("HIL submission cancelled by user"),b(!0)):console.error("HIL submission error:",Ae),y(!1),B(),await je()}},[e,I,n,V,es,ne,B,je]);return l?o.jsx(mb,{message:"Loading workflow...",description:"Fetching workflow structure and configuration"}):d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center max-w-md p-6",children:[o.jsx("div",{className:"text-red-500 mb-4",children:o.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Workflow"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:d}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"This may not be a valid workflow entity. Check the file contains a workflow export."})]})}):!r?.workflow_dump&&!$e.length?o.jsx(mb,{message:"Initializing workflow...",description:"Setting up workflow execution environment"}):o.jsxs("div",{className:"workflow-view flex flex-col h-full",children:[o.jsxs("div",{className:"border-b pb-2 p-4 flex-shrink-0",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("h2",{className:"font-semibold text-sm truncate",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bs,{className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:e.name||e.id})]})}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>_(!0),className:"h-6 w-6 p-0 flex-shrink-0",title:"View workflow details",children:o.jsx(Fs,{className:"h-4 w-4"})}),e.source!=="in_memory"&&o.jsx(Le,{variant:"ghost",size:"sm",onClick:we,disabled:M,className:"h-6 w-6 p-0 flex-shrink-0",title:M?"Reloading...":"Reload entity code (hot reload)",children:o.jsx(cg,{className:`h-4 w-4 ${M?"animate-spin":""}`})})]}),r&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-shrink-0",children:[o.jsxs(Id,{value:V?.conversation_id||"",onValueChange:Ke,disabled:ce,children:[o.jsx($d,{className:"w-full sm:w-64",children:o.jsx(Ld,{placeholder:ce?"Loading...":J.length===0?"No checkpoint storages":"Select checkpoint storage",children:V&&o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("span",{className:"truncate",children:V.metadata.name||`Checkpoint Storage ${V.conversation_id.slice(-8)}`}),V.metadata.checkpoint_summary&&V.metadata.checkpoint_summary.count>0&&o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:V.metadata.checkpoint_summary.count}),V.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})})}),o.jsx(Hd,{children:J.map(pe=>o.jsx(Pd,{value:pe.conversation_id,children:o.jsxs("div",{className:"flex items-center justify-between w-full gap-2",children:[o.jsx("span",{className:"truncate",children:pe.metadata.name||`Checkpoint Storage ${pe.conversation_id.slice(-8)}`}),o.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[pe.created_at&&o.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(pe.created_at*1e3).toLocaleTimeString()}),pe.metadata.checkpoint_summary&&pe.metadata.checkpoint_summary.count>0&&o.jsxs(o.Fragment,{children:[o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:pe.metadata.checkpoint_summary.count}),pe.metadata.checkpoint_summary.has_pending_hil&&o.jsx(ut,{variant:"secondary",className:"h-4 px-1.5 text-[10px]",children:"HIL"})]})]})]})},pe.conversation_id))})]}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>E(!0),disabled:!V,className:"h-9 w-9 p-0 flex-shrink-0",title:"View checkpoint details",children:o.jsx(Fs,{className:"h-4 w-4"})}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:Ue,disabled:!V||ce,className:"h-9 w-9 p-0",title:"Delete current session",children:o.jsx(dg,{className:"h-4 w-4 "})}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:tt,disabled:ce,className:"h-9 px-3",title:"New session",children:o.jsx(lg,{className:"h-4 w-4"})}),D&&o.jsx(sj,{inputSchema:r.input_schema,onRun:Co,onCancel:U,isSubmitting:g,isCancelling:G,workflowState:g?"running":$e.length>0?"completed":"ready",checkpoints:Z,showCheckpoints:!1})]})]}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]}),k.length>0&&o.jsx("div",{className:"bg-orange-100 dark:bg-orange-950/30 border-b border-orange-300 dark:border-orange-800 px-4 py-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hs,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),o.jsxs("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:["Workflow is waiting for your input (",k.length," ","request",k.length>1?"s":"",")"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[k.length>1&&o.jsxs(Le,{size:"sm",onClick:vs,disabled:!es()||g,className:"gap-1",children:[o.jsx(nl,{className:"w-3.5 h-3.5"}),"Submit All"]}),o.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>{document.querySelector("[data-hil-form]")?.scrollIntoView({behavior:"smooth",block:"center"})},className:"text-orange-700 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-200",children:"Jump to input "})]})]})}),o.jsxs("div",{className:"flex-1 min-h-0 flex gap-0",children:[o.jsx("div",{className:"flex-1 min-w-0 transition-all duration-300",children:r?.workflow_dump&&o.jsx(R7,{workflowDump:r.workflow_dump,events:xe,isStreaming:g,onNodeSelect:_e,className:"h-full",viewOptions:re,onToggleViewOption:Ce,layoutDirection:me,onLayoutDirectionChange:be,timelineVisible:!0})}),o.jsx("div",{className:"flex-shrink-0 overflow-hidden transition-all duration-300 ease-out border-l",style:{width:D?"2.5rem":"28rem"},children:D?o.jsxs("div",{className:"h-full w-10 bg-background flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>O(!1),title:"Expand timeline",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Execution Timeline"}),xe.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"10px"},children:xe.length})]})]}):o.jsxs("div",{className:"w-[28rem] h-full flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"text-sm font-medium",children:"Execution Timeline"}),xe.length>0&&o.jsx("div",{className:`bg-primary text-primary-foreground rounded-full px-2 h-5 flex items-center justify-center ${g?"animate-pulse":""}`,style:{fontSize:"11px",minWidth:"20px"},children:xe.length})]}),o.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>O(!0),className:"h-8 w-8 p-0",title:"Minimize timeline",children:o.jsx(en,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:o.jsx(V7,{events:xe,itemOutputs:C.current,currentExecutorId:Ge[Ge.length-1]||null,isStreaming:g,onExecutorClick:_e,selectedExecutorId:j,workflowResult:P,pendingHilRequests:k,hilResponses:I,onHilResponseChange:(pe,Ae)=>{$(Ie=>({...Ie,[pe]:Ae}))},onHilSubmit:vs,isSubmittingHil:g,inputSchema:r?.input_schema,onRun:(pe,Ae)=>{Co(pe,Ae)},onCancel:U,isCancelling:G,workflowState:g?"running":x?"cancelled":$e.length>0?"completed":"ready",wasCancelled:x,checkpoints:Z})})]})})]}),o.jsx(D7,{workflow:e,open:S,onOpenChange:_}),o.jsx(O7,{session:V||null,checkpoints:Z,open:A,onOpenChange:E})]})}function YS({message:e,type:n="info",duration:r=4e3,onClose:a}){const[l,c]=w.useState(!0);w.useEffect(()=>{const m=setTimeout(()=>{c(!1),setTimeout(a,300)},r);return()=>clearTimeout(m)},[r,a]);const d={info:"bg-primary/10 border-primary/20",success:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800",warning:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",error:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800"}[n],f={info:"text-primary",success:"text-green-800 dark:text-green-200",warning:"text-orange-800 dark:text-orange-200",error:"text-red-800 dark:text-red-200"}[n];return o.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-start gap-3 p-4 rounded-lg border shadow-lg max-w-md transition-all duration-300 ${l?"opacity-100 translate-x-0":"opacity-0 translate-x-4"} ${d}`,children:[o.jsx("p",{className:`text-sm flex-1 ${f}`,children:e}),o.jsx("button",{onClick:()=>{c(!1),setTimeout(a,300)},className:`flex-shrink-0 hover:opacity-70 transition-opacity ${f}`,children:o.jsx(ka,{className:"h-4 w-4"})})]})}function F7({toasts:e,onRemove:n}){return o.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2",children:e.map(r=>o.jsx(YS,{message:r.message,type:r.type,duration:r.duration,onClose:()=>n(r.id)},r.id))})}function Y7(){const[e,n]=w.useState(!1),[r,a]=w.useState(""),[l,c]=w.useState(!1),[d,f]=w.useState(""),m=le(K=>K.agents),h=le(K=>K.workflows),g=le(K=>K.entities),y=le(K=>K.selectedAgent),x=le(K=>K.azureDeploymentEnabled),b=le(K=>K.isLoadingEntities),j=le(K=>K.entityError),N=le(K=>K.oaiMode),S=le(K=>K.uiMode),_=le(K=>K.setAgents),A=le(K=>K.setWorkflows),E=le(K=>K.setEntities),M=le(K=>K.selectEntity),R=le(K=>K.updateAgent),D=le(K=>K.updateWorkflow),O=le(K=>K.setIsLoadingEntities),P=le(K=>K.setEntityError),q=le(K=>K.showDebugPanel),Z=le(K=>K.debugPanelMinimized),Q=le(K=>K.debugPanelWidth),G=le(K=>K.debugEvents),ne=le(K=>K.isResizing),U=le(K=>K.setShowDebugPanel),B=le(K=>K.setDebugPanelMinimized),k=le(K=>K.setDebugPanelWidth),L=le(K=>K.addDebugEvent),I=le(K=>K.clearDebugEvents),$=le(K=>K.setIsResizing),C=le(K=>K.showAboutModal),H=le(K=>K.showGallery),Y=le(K=>K.showDeployModal),V=le(K=>K.showEntityNotFoundToast),J=le(K=>K.setShowAboutModal),ce=le(K=>K.setShowGallery),fe=le(K=>K.setShowDeployModal),ee=le(K=>K.setShowEntityNotFoundToast),ie=le(K=>K.toasts),ge=le(K=>K.addToast),Ee=le(K=>K.removeToast);w.useEffect(()=>{(async()=>{try{const me=await Ze.getMeta();if(me.auth_required&&(n(!0),!Ze.getAuthToken())){P("UNAUTHORIZED"),O(!1);return}le.getState().setServerMeta({uiMode:me.ui_mode,runtime:me.runtime,capabilities:me.capabilities,authRequired:me.auth_required,version:me.version});const{entities:be,agents:Ce,workflows:we}=await Ze.getEntities();E(be),_(Ce),A(we);const je=new URLSearchParams(window.location.search).get("entity_id");let Se;if(je&&(Se=be.find(Ke=>Ke.id===je),Se||ee(!0)),!Se)if(Se=be.length>0?be[0]:void 0,Se){const Ke=new URL(window.location.href);Ke.searchParams.set("entity_id",Se.id),window.history.replaceState({},"",Ke)}else{const Ke=new URL(window.location.href);Ke.searchParams.delete("entity_id"),window.history.replaceState({},"",Ke)}if(Se&&(M(Se),Se.metadata?.lazy_loaded===!1))try{if(Se.type==="agent"){const Ke=await Ze.getAgentInfo(Se.id);R(Ke)}else{const Ke=await Ze.getWorkflowInfo(Se.id);D(Ke)}}catch(Ke){console.error(`Failed to load full info for first entity ${Se.id}:`,Ke);const tt=Ke instanceof Error?Ke.message:String(Ke);ge({type:"error",message:`Failed to load "${Se.id}": ${tt}`})}O(!1)}catch(me){console.error("Failed to load agents/workflows:",me);const be=me instanceof Error?me.message:"Failed to load data";be==="UNAUTHORIZED"&&n(!0),P(be),O(!1)}})()},[_,A,M,R,D,O,P,ee,ge,E]);const Ne=w.useCallback(async()=>{if(r.trim()){c(!0),f("");try{Ze.setAuthToken(r.trim()),await Ze.getEntities(),window.location.reload()}catch(K){Ze.clearAuthToken(),c(!1);const me=K instanceof Error?K.message:"Unknown error";f(me==="UNAUTHORIZED"?"Invalid token. Please check and try again.":`Failed to connect: ${me}`)}}},[r]);w.useEffect(()=>{if(N.enabled&&y?.type==="workflow"){const K=m[0];K&&M(K)}},[N.enabled,y,m,M]);const ve=w.useCallback(K=>{K.preventDefault(),$(!0);const me=K.clientX,be=Q,Ce=Me=>{const je=me-Me.clientX,Se=Math.max(200,Math.min(window.innerWidth*.5,be+je));k(Se)},we=()=>{$(!1),document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",we)};document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",we)},[Q]),ze=w.useCallback(async K=>{if(M(K),K.metadata?.lazy_loaded===!1)try{if(K.type==="agent"){const me=await Ze.getAgentInfo(K.id);R(me)}else{const me=await Ze.getWorkflowInfo(K.id);D(me)}}catch(me){console.error(`Failed to load full info for ${K.id}:`,me);const be=me instanceof Error?me.message:String(me);ge({type:"error",message:`Failed to load "${K.id}": ${be}`})}},[M,R,D,ge]),re=w.useCallback(K=>{K==="clear"?I():L(K)},[L,I]);if(b)return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsxs("header",{className:"flex h-14 items-center gap-4 border-b px-4",children:[o.jsx("div",{className:"w-64 h-9 bg-muted animate-pulse rounded-md"}),o.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"}),o.jsx("div",{className:"w-8 h-8 bg-muted animate-pulse rounded-md"})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-medium",children:"Initializing DevUI..."}),o.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Loading agents and workflows from your configuration"})]})})]});if(j){const K=Ze.getBaseUrl(),me=j==="UNAUTHORIZED"||e;let be="8080";try{if(K){const Ce=new URL(K);be=Ce.port||(Ce.protocol==="https:"?"443":"80")}}catch{}return o.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[o.jsx(ib,{agents:[],workflows:[],entities:[],selectedItem:void 0,onSelect:()=>{},isLoading:!1,onSettingsClick:()=>J(!0)}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:o.jsxs("div",{className:"text-center space-y-6 max-w-2xl",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"rounded-full bg-muted p-4 animate-pulse",children:me?o.jsx(sM,{className:"h-12 w-12 text-muted-foreground"}):o.jsx(CM,{className:"h-12 w-12 text-muted-foreground"})})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:me?"Authentication Required":"Can't Connect to Backend"}),o.jsx("p",{className:"text-muted-foreground text-base",children:me?"This backend requires a bearer token to access.":"No worries! Just start the DevUI backend server and you'll be good to go."})]}),me?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Enter Authentication Token"}),o.jsx(Ln,{type:"password",placeholder:"Paste token from server logs",value:r,onChange:Ce=>a(Ce.target.value),onKeyDown:Ce=>{Ce.key==="Enter"&&!l&&Ne()},disabled:l,className:"font-mono text-sm"}),o.jsx(Le,{onClick:Ne,disabled:!r.trim()||l,className:"w-full",children:l?"Verifying...":"Connect"}),d&&o.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:d})]}),o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2 justify-center",children:[o.jsx(Et,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Where do I find the token?"]}),o.jsxs("div",{className:"mt-3 text-left bg-muted/30 rounded-lg p-3 space-y-2",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Look for this in your DevUI server startup logs:"}),o.jsxs("code",{className:"block bg-background px-2 py-1 rounded text-xs font-mono text-foreground",children:[" DEV TOKEN (localhost only, shown once):",o.jsx("br",{})," abc123xyz..."]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-left bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsx("p",{className:"text-sm font-medium text-foreground",children:"Start the backend:"}),o.jsxs("code",{className:"block bg-background px-3 py-2 rounded border text-sm font-mono text-foreground",children:["devui ./agents --port ",be]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Or launch programmatically with"," ",o.jsx("code",{className:"text-xs",children:"serve(entities=[agent])"})]})]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Default:"," ",o.jsx("span",{className:"font-mono",children:K})]})]}),j&&o.jsxs("details",{className:"text-left group",children:[o.jsxs("summary",{className:"text-sm text-muted-foreground cursor-pointer hover:text-foreground flex items-center gap-2",children:[o.jsx(Et,{className:"h-4 w-4 transition-transform group-open:rotate-180"}),"Error details"]}),o.jsx("p",{className:"mt-2 text-xs text-muted-foreground font-mono bg-muted/30 p-3 rounded border",children:j})]}),o.jsx(Le,{onClick:()=>window.location.reload(),variant:"default",className:"mt-2",children:"Retry Connection"})]})]})}),o.jsx(ub,{open:C,onOpenChange:J})]})}return o.jsxs("div",{className:"h-screen flex flex-col bg-background max-h-screen",children:[o.jsx(ib,{agents:m,workflows:h,entities:g,selectedItem:y,onSelect:ze,onBrowseGallery:()=>ce(!0),isLoading:b,onSettingsClick:()=>J(!0)}),o.jsx("div",{className:"flex flex-1 overflow-hidden",children:H?o.jsx("div",{className:"flex-1 w-full",children:o.jsx(fb,{variant:"route",onClose:()=>ce(!1),hasExistingEntities:m.length>0||h.length>0})}):m.length===0&&h.length===0?o.jsx(fb,{variant:"inline"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex-1 min-w-0",children:y?y.type==="agent"?o.jsx(u6,{selectedAgent:y,onDebugEvent:re}):o.jsx(q7,{selectedWorkflow:y,onDebugEvent:re}):o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select an agent or workflow to get started."})}),S==="developer"&&q?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`w-1 cursor-col-resize flex-shrink-0 relative group transition-colors duration-200 ease-in-out ${ne?"bg-primary/40":"bg-border hover:bg-primary/20"}`,onMouseDown:ve,children:o.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 flex items-center justify-center",children:o.jsx("div",{className:`h-12 w-1 rounded-full transition-all duration-200 ease-in-out ${ne?"bg-primary shadow-lg shadow-primary/25":"bg-primary/30 group-hover:bg-primary group-hover:shadow-md group-hover:shadow-primary/20"}`})})}),o.jsx("div",{className:"flex-shrink-0 flex flex-col h-[calc(100vh-3.7rem)]",style:{width:Z?"2.5rem":`${Q}px`},children:Z?o.jsxs("div",{className:"h-full w-10 bg-background border-l flex flex-col items-center py-2 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>B(!1),title:"Expand debug panel",children:[o.jsx("div",{className:"h-8 w-8 flex items-center justify-center",children:o.jsx(rN,{className:"h-4 w-4 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2 pointer-events-none",children:[o.jsx("div",{className:"text-xs text-muted-foreground select-none",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Debug Panel"}),G.length>0&&o.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center",style:{fontSize:"10px"},children:G.length})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(RR,{events:G,isStreaming:!1,onMinimize:()=>B(!0)}),o.jsx("div",{className:"border-t bg-muted/30 px-3 py-2.5 flex-shrink-0",children:o.jsxs(Le,{onClick:()=>fe(!0),className:"w-full",variant:"outline",size:"sm",children:[o.jsx(ap,{className:"h-3 w-3 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate text-xs",children:x&&y?.deployment_supported?"Deploy to Azure":"Deployment Guide"})]})})]})})]}):S==="developer"?o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Le,{variant:"ghost",size:"sm",onClick:()=>U(!0),className:"h-full w-10 rounded-none border-l",title:"Show debug panel",children:o.jsx(hM,{className:"h-4 w-4"})})}):null]})}),o.jsx(ub,{open:C,onOpenChange:J}),o.jsx(JR,{open:Y,onClose:()=>fe(!1),agentName:y?.name,entity:y}),V&&o.jsx(YS,{message:"Entity not found. Showing first available entity instead.",type:"info",onClose:()=>ee(!1)}),o.jsx(F7,{toasts:ie,onRemove:Ee})]})}function G7({children:e,attribute:n="class",defaultTheme:r="dark",enableSystem:a=!0,disableTransitionOnChange:l=!0,...c}){return o.jsx(WM,{attribute:n,defaultTheme:r,enableSystem:a,disableTransitionOnChange:l,...c,children:e})}YR();oC.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(G7,{attribute:"class",defaultTheme:"dark",enableSystem:!0,disableTransitionOnChange:!0,children:o.jsx(Y7,{})})}));
